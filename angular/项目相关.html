<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初始化项目 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="学习笔记">
    
    <link rel="preload" href="/note/assets/css/0.styles.cdc363cf.css" as="style"><link rel="preload" href="/note/assets/js/app.4f52e3fc.js" as="script"><link rel="preload" href="/note/assets/js/2.dd205968.js" as="script"><link rel="preload" href="/note/assets/js/71.70d2ca95.js" as="script"><link rel="prefetch" href="/note/assets/js/10.2aff74da.js"><link rel="prefetch" href="/note/assets/js/100.b0a7b585.js"><link rel="prefetch" href="/note/assets/js/101.7ccb5c95.js"><link rel="prefetch" href="/note/assets/js/102.046ebb22.js"><link rel="prefetch" href="/note/assets/js/103.7e4eec91.js"><link rel="prefetch" href="/note/assets/js/104.529f0ae0.js"><link rel="prefetch" href="/note/assets/js/105.60578221.js"><link rel="prefetch" href="/note/assets/js/106.7b128192.js"><link rel="prefetch" href="/note/assets/js/107.37adb4e0.js"><link rel="prefetch" href="/note/assets/js/108.cc2a66ec.js"><link rel="prefetch" href="/note/assets/js/109.9e40cc84.js"><link rel="prefetch" href="/note/assets/js/11.962477cd.js"><link rel="prefetch" href="/note/assets/js/110.924e19ba.js"><link rel="prefetch" href="/note/assets/js/111.445a557b.js"><link rel="prefetch" href="/note/assets/js/112.b2decd5f.js"><link rel="prefetch" href="/note/assets/js/113.21fd71a7.js"><link rel="prefetch" href="/note/assets/js/114.a2545a3b.js"><link rel="prefetch" href="/note/assets/js/115.ee5b91c3.js"><link rel="prefetch" href="/note/assets/js/116.8db379ba.js"><link rel="prefetch" href="/note/assets/js/117.021e98f6.js"><link rel="prefetch" href="/note/assets/js/118.aab4a967.js"><link rel="prefetch" href="/note/assets/js/119.b548c4c8.js"><link rel="prefetch" href="/note/assets/js/12.ae52be3f.js"><link rel="prefetch" href="/note/assets/js/120.a220c101.js"><link rel="prefetch" href="/note/assets/js/121.ef580a07.js"><link rel="prefetch" href="/note/assets/js/122.cacf993d.js"><link rel="prefetch" href="/note/assets/js/123.1b10f660.js"><link rel="prefetch" href="/note/assets/js/124.7c2d70ac.js"><link rel="prefetch" href="/note/assets/js/125.8b7d3919.js"><link rel="prefetch" href="/note/assets/js/126.fcad7b7c.js"><link rel="prefetch" href="/note/assets/js/127.91431ded.js"><link rel="prefetch" href="/note/assets/js/128.3f27023c.js"><link rel="prefetch" href="/note/assets/js/129.a3ae8342.js"><link rel="prefetch" href="/note/assets/js/13.0173026e.js"><link rel="prefetch" href="/note/assets/js/130.7b6b88e8.js"><link rel="prefetch" href="/note/assets/js/131.2507d547.js"><link rel="prefetch" href="/note/assets/js/132.f4915d42.js"><link rel="prefetch" href="/note/assets/js/133.8d230b90.js"><link rel="prefetch" href="/note/assets/js/134.9b096d27.js"><link rel="prefetch" href="/note/assets/js/135.71fe5f6e.js"><link rel="prefetch" href="/note/assets/js/136.10c9b959.js"><link rel="prefetch" href="/note/assets/js/137.038b2c75.js"><link rel="prefetch" href="/note/assets/js/138.446734ef.js"><link rel="prefetch" href="/note/assets/js/139.1e7ed69f.js"><link rel="prefetch" href="/note/assets/js/14.e8338d5f.js"><link rel="prefetch" href="/note/assets/js/140.0da8a631.js"><link rel="prefetch" href="/note/assets/js/141.221befdd.js"><link rel="prefetch" href="/note/assets/js/142.57f278f6.js"><link rel="prefetch" href="/note/assets/js/143.09405b24.js"><link rel="prefetch" href="/note/assets/js/144.5d45cb0e.js"><link rel="prefetch" href="/note/assets/js/145.eb078489.js"><link rel="prefetch" href="/note/assets/js/146.f06775a8.js"><link rel="prefetch" href="/note/assets/js/147.ac9aab67.js"><link rel="prefetch" href="/note/assets/js/148.793e58a7.js"><link rel="prefetch" href="/note/assets/js/149.933ec829.js"><link rel="prefetch" href="/note/assets/js/15.291730fe.js"><link rel="prefetch" href="/note/assets/js/150.91990d4b.js"><link rel="prefetch" href="/note/assets/js/151.91f6f051.js"><link rel="prefetch" href="/note/assets/js/152.882299b5.js"><link rel="prefetch" href="/note/assets/js/153.ee10a8f4.js"><link rel="prefetch" href="/note/assets/js/154.4be0cb1f.js"><link rel="prefetch" href="/note/assets/js/155.a80709fe.js"><link rel="prefetch" href="/note/assets/js/156.8ce4d1d9.js"><link rel="prefetch" href="/note/assets/js/157.696ccaa2.js"><link rel="prefetch" href="/note/assets/js/158.56757108.js"><link rel="prefetch" href="/note/assets/js/159.7cc4f914.js"><link rel="prefetch" href="/note/assets/js/16.d4b031ef.js"><link rel="prefetch" href="/note/assets/js/160.237814af.js"><link rel="prefetch" href="/note/assets/js/161.cdf7af3f.js"><link rel="prefetch" href="/note/assets/js/162.5050736d.js"><link rel="prefetch" href="/note/assets/js/163.1fa883ad.js"><link rel="prefetch" href="/note/assets/js/164.dd0b5b57.js"><link rel="prefetch" href="/note/assets/js/165.b500084c.js"><link rel="prefetch" href="/note/assets/js/166.c3ebe87c.js"><link rel="prefetch" href="/note/assets/js/167.9f69c04b.js"><link rel="prefetch" href="/note/assets/js/168.79517bf4.js"><link rel="prefetch" href="/note/assets/js/169.2c7ae48c.js"><link rel="prefetch" href="/note/assets/js/17.59a8415f.js"><link rel="prefetch" href="/note/assets/js/170.d6539926.js"><link rel="prefetch" href="/note/assets/js/171.bd853882.js"><link rel="prefetch" href="/note/assets/js/172.3915d902.js"><link rel="prefetch" href="/note/assets/js/173.905ec41d.js"><link rel="prefetch" href="/note/assets/js/174.4d7f29bb.js"><link rel="prefetch" href="/note/assets/js/175.e840154e.js"><link rel="prefetch" href="/note/assets/js/176.f4eeda7c.js"><link rel="prefetch" href="/note/assets/js/177.0c99415b.js"><link rel="prefetch" href="/note/assets/js/178.f6f0968d.js"><link rel="prefetch" href="/note/assets/js/179.d4b8b9a6.js"><link rel="prefetch" href="/note/assets/js/18.3c4a9a08.js"><link rel="prefetch" href="/note/assets/js/180.72a349d0.js"><link rel="prefetch" href="/note/assets/js/181.147dcb4c.js"><link rel="prefetch" href="/note/assets/js/182.062204c4.js"><link rel="prefetch" href="/note/assets/js/183.9e71aa6d.js"><link rel="prefetch" href="/note/assets/js/184.6858f8d5.js"><link rel="prefetch" href="/note/assets/js/19.58ea44ca.js"><link rel="prefetch" href="/note/assets/js/20.816006b7.js"><link rel="prefetch" href="/note/assets/js/21.b5ba97c7.js"><link rel="prefetch" href="/note/assets/js/22.5a5ef653.js"><link rel="prefetch" href="/note/assets/js/23.7ac3a852.js"><link rel="prefetch" href="/note/assets/js/24.d012d1b2.js"><link rel="prefetch" href="/note/assets/js/25.a0aefb36.js"><link rel="prefetch" href="/note/assets/js/26.6fd908ee.js"><link rel="prefetch" href="/note/assets/js/27.5d0522ac.js"><link rel="prefetch" href="/note/assets/js/28.31b6ff37.js"><link rel="prefetch" href="/note/assets/js/29.90bc27b5.js"><link rel="prefetch" href="/note/assets/js/3.75606195.js"><link rel="prefetch" href="/note/assets/js/30.b8719d52.js"><link rel="prefetch" href="/note/assets/js/31.f1732a1a.js"><link rel="prefetch" href="/note/assets/js/32.e3173fa2.js"><link rel="prefetch" href="/note/assets/js/33.47cdabfd.js"><link rel="prefetch" href="/note/assets/js/34.514379b6.js"><link rel="prefetch" href="/note/assets/js/35.985296a5.js"><link rel="prefetch" href="/note/assets/js/36.bc0ebee7.js"><link rel="prefetch" href="/note/assets/js/37.bb65ea0c.js"><link rel="prefetch" href="/note/assets/js/38.2e2ad5ac.js"><link rel="prefetch" href="/note/assets/js/39.cb7f478e.js"><link rel="prefetch" href="/note/assets/js/4.8d0d8c0c.js"><link rel="prefetch" href="/note/assets/js/40.68f768d0.js"><link rel="prefetch" href="/note/assets/js/41.423afb7e.js"><link rel="prefetch" href="/note/assets/js/42.8ff5a90f.js"><link rel="prefetch" href="/note/assets/js/43.16f0b8e7.js"><link rel="prefetch" href="/note/assets/js/44.c2e74b5e.js"><link rel="prefetch" href="/note/assets/js/45.48ff739c.js"><link rel="prefetch" href="/note/assets/js/46.4ed952bc.js"><link rel="prefetch" href="/note/assets/js/47.b4c798cb.js"><link rel="prefetch" href="/note/assets/js/48.fc784e1f.js"><link rel="prefetch" href="/note/assets/js/49.276b1fbc.js"><link rel="prefetch" href="/note/assets/js/5.1fb07ba1.js"><link rel="prefetch" href="/note/assets/js/50.42fed763.js"><link rel="prefetch" href="/note/assets/js/51.f86e5b24.js"><link rel="prefetch" href="/note/assets/js/52.7b0ccee9.js"><link rel="prefetch" href="/note/assets/js/53.7d0cc647.js"><link rel="prefetch" href="/note/assets/js/54.30184d4f.js"><link rel="prefetch" href="/note/assets/js/55.a589f210.js"><link rel="prefetch" href="/note/assets/js/56.de723888.js"><link rel="prefetch" href="/note/assets/js/57.1e4d91ab.js"><link rel="prefetch" href="/note/assets/js/58.1d842b88.js"><link rel="prefetch" href="/note/assets/js/59.6dc3ae9e.js"><link rel="prefetch" href="/note/assets/js/6.ab0975d6.js"><link rel="prefetch" href="/note/assets/js/60.49403570.js"><link rel="prefetch" href="/note/assets/js/61.e31ca512.js"><link rel="prefetch" href="/note/assets/js/62.8e363496.js"><link rel="prefetch" href="/note/assets/js/63.03168107.js"><link rel="prefetch" href="/note/assets/js/64.98de3294.js"><link rel="prefetch" href="/note/assets/js/65.7eed44be.js"><link rel="prefetch" href="/note/assets/js/66.6f796025.js"><link rel="prefetch" href="/note/assets/js/67.59fad562.js"><link rel="prefetch" href="/note/assets/js/68.0440e643.js"><link rel="prefetch" href="/note/assets/js/69.8d57043e.js"><link rel="prefetch" href="/note/assets/js/7.bf8d079b.js"><link rel="prefetch" href="/note/assets/js/70.529f42c1.js"><link rel="prefetch" href="/note/assets/js/72.ae074ed0.js"><link rel="prefetch" href="/note/assets/js/73.f8171654.js"><link rel="prefetch" href="/note/assets/js/74.32ae1a78.js"><link rel="prefetch" href="/note/assets/js/75.855768da.js"><link rel="prefetch" href="/note/assets/js/76.2ca02957.js"><link rel="prefetch" href="/note/assets/js/77.470f6cd6.js"><link rel="prefetch" href="/note/assets/js/78.eee06b05.js"><link rel="prefetch" href="/note/assets/js/79.5f4c7963.js"><link rel="prefetch" href="/note/assets/js/8.8c827ef5.js"><link rel="prefetch" href="/note/assets/js/80.24d1d15a.js"><link rel="prefetch" href="/note/assets/js/81.87784492.js"><link rel="prefetch" href="/note/assets/js/82.2d0e32d5.js"><link rel="prefetch" href="/note/assets/js/83.35065763.js"><link rel="prefetch" href="/note/assets/js/84.4b053730.js"><link rel="prefetch" href="/note/assets/js/85.0d185caa.js"><link rel="prefetch" href="/note/assets/js/86.3936d899.js"><link rel="prefetch" href="/note/assets/js/87.93ffd78c.js"><link rel="prefetch" href="/note/assets/js/88.19fcf9e2.js"><link rel="prefetch" href="/note/assets/js/89.719bf4c9.js"><link rel="prefetch" href="/note/assets/js/9.d2c3f20b.js"><link rel="prefetch" href="/note/assets/js/90.0701c1ca.js"><link rel="prefetch" href="/note/assets/js/91.a2b8f1a7.js"><link rel="prefetch" href="/note/assets/js/92.3e3f00f2.js"><link rel="prefetch" href="/note/assets/js/93.fd9a756c.js"><link rel="prefetch" href="/note/assets/js/94.3db6e359.js"><link rel="prefetch" href="/note/assets/js/95.eb031294.js"><link rel="prefetch" href="/note/assets/js/96.5a5a2179.js"><link rel="prefetch" href="/note/assets/js/97.5219639f.js"><link rel="prefetch" href="/note/assets/js/98.d1e0783e.js"><link rel="prefetch" href="/note/assets/js/99.c9756e25.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.cdc363cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/angular/基础.html" class="nav-link">
  angular
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/js-gc/数据类型.html" class="nav-link">
  红宝书
</a></div><div class="nav-item"><a href="/note/interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div><div class="nav-item"><a href="/note/js-algorithm/栈.html" class="nav-link">
  算法与数据结构
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/angular/基础.html" class="nav-link">
  angular
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/js-gc/数据类型.html" class="nav-link">
  红宝书
</a></div><div class="nav-item"><a href="/note/interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div><div class="nav-item"><a href="/note/js-algorithm/栈.html" class="nav-link">
  算法与数据结构
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/angular/基础.html" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/基础.html#模板语法相关" class="sidebar-link">模板语法相关</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#组件相关" class="sidebar-link">组件相关</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#指令相关" class="sidebar-link">指令相关</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#转换数据的管道" class="sidebar-link">转换数据的管道</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#路由相关" class="sidebar-link">路由相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/基础.html#router-对象" class="sidebar-link">router 对象</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#activatedroute" class="sidebar-link">ActivatedRoute</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#路由守卫" class="sidebar-link">路由守卫</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#service-相关" class="sidebar-link">service 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/基础.html#dom-操作" class="sidebar-link">DOM 操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#模块和懒加载" class="sidebar-link">模块和懒加载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/基础.html#自定义模块" class="sidebar-link">自定义模块</a></li><li class="sidebar-sub-header"><a href="/note/angular/基础.html#配置路由模块懒加载" class="sidebar-link">配置路由模块懒加载</a></li></ul></li></ul></li><li><a href="/note/angular/项目相关.html" class="active sidebar-link">项目相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#初始化项目" class="sidebar-link">初始化项目</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#指令相关" class="sidebar-link">指令相关</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#事件处理和样式绑定" class="sidebar-link">事件处理和样式绑定</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#组件" class="sidebar-link">组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#组件的声明周期" class="sidebar-link">组件的声明周期</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#模板在组件类中的引用" class="sidebar-link">模板在组件类中的引用</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#获取-dom-节点修改样式" class="sidebar-link">获取 DOM 节点修改样式</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#双向绑定" class="sidebar-link">双向绑定</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#模块" class="sidebar-link">模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#ngmodule-注解" class="sidebar-link">@NgModule 注解</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#模块的-坑" class="sidebar-link">模块的 “坑”</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#装饰器" class="sidebar-link">装饰器</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#组件嵌套和投影组件" class="sidebar-link">组件嵌套和投影组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#投影组件" class="sidebar-link">投影组件</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#指令" class="sidebar-link">指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#自定义指令" class="sidebar-link">自定义指令</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#指令的样式和事件绑定" class="sidebar-link">指令的样式和事件绑定</a></li><li class="sidebar-sub-header"><a href="/note/angular/项目相关.html#组件中的-host" class="sidebar-link">组件中的 Host</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="初始化项目"><a href="#初始化项目" class="header-anchor">#</a> 初始化项目</h2> <p>一般使用 ng new 项目名 这样的命令进行初始化项目。会比较慢，他会使用 npm 进行安装依赖。可以使用如下命令：</p> <p>可以指定 css 预编译以及不需要路由模块等。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>ng new project --skip-install --style css --routing <span class="token boolean">false</span>
</code></pre></div><p>对于 package.json 文件中版本号的一些说明：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 前面有 ~ 就是说锁定前端两个版本号，6.5.x，最后一个如果有更新就会安装最新的</span>
<span class="token string">&quot;rxjs&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;~6.5.2&quot;</span>
<span class="token comment"># 前面有 ^ 就是说锁定前面的大版本号，1.x.x；后面的两个版本号如果有最新就安装</span>
<span class="token string">&quot;tslib&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;^1.9.0&quot;</span>

<span class="token comment"># 严格锁定版本</span>
<span class="token string">&quot;zone.js&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.9.0&quot;</span>
</code></pre></div><h2 id="指令相关"><a href="#指令相关" class="header-anchor">#</a> 指令相关</h2> <p>ngFor 相关：获取索引、是否第一个元素、是否最后一个元素、可迭代对象中的索引号为奇数、是否偶数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>li <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">&quot;let menu of menus;let i = index;let first = first;let last = last;let odd = odd; let even = even&quot;</span><span class="token operator">&gt;</span>
  <span class="token punctuation">{</span><span class="token punctuation">{</span>munu<span class="token punctuation">.</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>https://angular.cn/api/common/NgForOf</p></blockquote> <p>ngIf 相关</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>条件表达式 else elseContent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  条件为真展示
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#elseContent</span><span class="token punctuation">&gt;</span></span>
  条件为假时展示
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="事件处理和样式绑定"><a href="#事件处理和样式绑定" class="header-anchor">#</a> 事件处理和样式绑定</h2> <ul><li><code>[class.样式类名]</code> = &quot;判断表达式&quot; 是在应用单个 clas 时的常用技巧；</li> <li>ngStyle <code>&lt;div [ngStyle]=&quot;{ 'color': someColor }&quot;&gt;&lt;/div&gt;</code> ngStyle 由于是嵌入式样式，他会覆盖掉其他样式，使用时需谨慎；</li> <li>使用方括号 [] 是数据绑定，如果带方括号，等号后面就是一个对象或表达式；</li> <li>不适用方括号，等号后面 angular 认为是一个字符串，但如果我们此时在等号后使用 {{}} 就是和方括号等效的；</li> <li>圆括号 () 用于事件绑定，等号后可以接表达式也可以是一个定义在类中的函数；</li></ul> <h2 id="组件"><a href="#组件" class="header-anchor">#</a> 组件</h2> <p>我们一般封装组件，如果需要属性的绑定通过 @input 进行表示，对于事件，如果需要增加事件回调。告诉外部调用者执行。通过 @output 来标识。</p> <h3 id="组件的声明周期"><a href="#组件的声明周期" class="header-anchor">#</a> 组件的声明周期</h3> <ul><li>constructor：构造函数永远首先被调用</li> <li>ngOnChanges：输入属性变化时被调用</li> <li>ngOnInit：组件初始化被调用</li> <li>ngDoCheck：脏值检测时调用</li> <li>ngAfterContentInit：当内容投影 ng-content 完成时调用</li> <li>ngAfterContentChecked：angular 检测投影内容时调用（多次）</li> <li>ngAfterViewInit：当组件视图（子视图）初始化完成时</li> <li>ngAfterViewChecked：当检测视图变化时（多次）</li> <li>ngOnDestroy：当组件销毁时</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> AfterContentChecked<span class="token punctuation">,</span> AfterContentInit<span class="token punctuation">,</span> AfterViewChecked<span class="token punctuation">,</span> AfterViewInit<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> EventEmitter<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> OnChanges<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> Output<span class="token punctuation">,</span> SimpleChanges <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ScrollableTabComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span><span class="token punctuation">,</span> OnChanges<span class="token punctuation">,</span> AfterContentInit<span class="token punctuation">,</span> AfterContentChecked<span class="token punctuation">,</span> AfterViewInit<span class="token punctuation">,</span> AfterViewChecked <span class="token punctuation">{</span>

  <span class="token comment">/**
   * 构造函数永远首先被调用
   */</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 组件初始化完成，在这个函数中，我们可以安全的使用组件的属性和方法
   */</span>
  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 监听自己组件本身数值变化-输入值的变化 @Input 属性发生变化</span>
  <span class="token comment">// 参数为索引对象，key 为属性的名字，value 为 SimpleChanges</span>
  <span class="token function">ngOnChanges</span><span class="token punctuation">(</span>value<span class="token operator">:</span> SimpleChanges<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 组件内容初始化
   */</span>
  <span class="token function">ngAfterContentInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 组件内容脏值检测
   */</span>
  <span class="token function">ngAfterContentChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 组件视图初始化-组件和他的子组件都初始化完成
   */</span>
  <span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 组件视图的脏值检测
   */</span>
  <span class="token function">ngAfterViewChecked</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * 组件销毁时执行
   */</span>
  <span class="token function">ngOnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
  <span class="token comment">// ngDoCheck() {</span>
  <span class="token comment">//   console.log('组件脏值监测')</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span>

</code></pre></div><p>ng-content 相当于 vue 中的 slot 插槽。父组件向子组件传递内容。</p> <h3 id="模板在组件类中的引用"><a href="#模板在组件类中的引用" class="header-anchor">#</a> 模板在组件类中的引用</h3> <p><code>#</code> 后面是给模板或者 dom 元素起一个引用名字以便可以在组件类或模板中进行引用</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">#helloDiv</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后在类中引用：</p> <p>@ViewChild 是一个选择器，用来查找要引用的 dom 元素或者组件，ElementRef 是 dom 元素的一个包装类，因为 dom 元素不是 angular 中的类，所以需要一个包装类以便在 angular 中使用和标识其类型。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppComponent</span> <span class="token punctuation">{</span>
  @<span class="token function">ViewChild</span><span class="token punctuation">(</span><span class="token string">'helloDiv'</span><span class="token punctuation">)</span> helloDivRef<span class="token operator">:</span> ElementRef
<span class="token punctuation">}</span>
</code></pre></div><p>如果想获取组件，可以在 @ViewChild 中直接使用组件的名称，也就是定义组件的类名：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>app<span class="token operator">-</span>image<span class="token operator">-</span>slider<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>app<span class="token operator">-</span>image<span class="token operator">-</span>slider<span class="token operator">&gt;</span>

@<span class="token function">ViewChild</span><span class="token punctuation">(</span>ImageSliderComponent<span class="token punctuation">)</span> imageSlider<span class="token operator">:</span> ImageSliderComponent
</code></pre></div><p>如果想引用多个模板元素，需要使用 @ViewChildren</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">&lt;</span>img
  #img
  <span class="token operator">*</span>ngFor<span class="token operator">=</span><span class="token string">&quot;let slider of sliders&quot;</span>
  <span class="token punctuation">[</span>src<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;slider.imgUrl&quot;</span>
  <span class="token punctuation">[</span>alt<span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;slider.caption&quot;</span>
<span class="token operator">&gt;</span>

@<span class="token function">ViewChildren</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span> imgs<span class="token operator">:</span> QueryList<span class="token operator">&lt;</span>ElementRef<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取-dom-节点修改样式"><a href="#获取-dom-节点修改样式" class="header-anchor">#</a> 获取 DOM 节点修改样式</h3> <p>可以通过 Renderer2 去修改样式。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> AfterViewInit<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> QueryList<span class="token punctuation">,</span> Renderer2<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> ViewChildren <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ImageSlider</span> <span class="token punctuation">{</span>
  imgUrl<span class="token operator">:</span> <span class="token builtin">string</span>
  link<span class="token operator">:</span> <span class="token builtin">string</span>
  caption<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-image-slider'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./image-slider.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./image-slider.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ImageSliderComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span><span class="token punctuation">,</span> AfterViewInit <span class="token punctuation">{</span>
  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> sliders<span class="token operator">:</span> ImageSlider<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">// static 是否为静态，在 if 或者 for 中包含的是 false</span>
  @<span class="token function">ViewChild</span><span class="token punctuation">(</span><span class="token string">'imageSlider'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token keyword">static</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> imgSlider<span class="token operator">:</span> ElementRef
  @<span class="token function">ViewChildren</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span> imgs<span class="token operator">:</span> QueryList<span class="token operator">&lt;</span>ElementRef<span class="token operator">&gt;</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span>
    <span class="token comment">// 依赖注入</span>
    <span class="token keyword">private</span> rd2<span class="token operator">:</span> Renderer2
  <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>imgs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'100px'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="双向绑定"><a href="#双向绑定" class="header-anchor">#</a> 双向绑定</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">[value]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">(input)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username = $event.target.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>还有 ngModel，是 FormsModel 中提供的指令，需要将其引入。使用 <code>[(ngModel)] = &quot;变量&quot;</code> 形式进行双向绑定。</p> <p>我们也可以自己实现双向绑定，如下代码：</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">private</span> _username
<span class="token comment">// 子组件</span>
@<span class="token function">Output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> usernameChange <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

@<span class="token function">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">get</span> <span class="token function">username</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_username
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">set</span> <span class="token function">username</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>_username <span class="token operator">=</span> value
  <span class="token keyword">this</span><span class="token punctuation">.</span>usernameChange<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">// 父组件</span>
<span class="token operator">&lt;</span>child <span class="token punctuation">[</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="模块"><a href="#模块" class="header-anchor">#</a> 模块</h2> <h3 id="ngmodule-注解"><a href="#ngmodule-注解" class="header-anchor">#</a> @NgModule 注解</h3> <ul><li>declarations 数组：为模块拥有的组件、指令或管道。注意每个组件、指令、管道只能在一个模块中声明；</li> <li>providers 数组：是模块中需要使用的服务；</li> <li>exports 数组：暴露给其他模块使用的组件、指令或管道等；</li> <li>imports 数组：导入本模块需要的依赖模块，注意只能是模块；</li></ul> <h3 id="模块的-坑"><a href="#模块的-坑" class="header-anchor">#</a> 模块的 “坑”</h3> <p>导入其他模块时，需要知道使用该模块的目的：</p> <ul><li>如果是组件，那么需要在每一个需要模块都进入导入；</li> <li>如果是服务，那么一般来说在根模块中导入一次即可；</li></ul> <p>需要在每个需要的模块中进行导入的：</p> <ul><li>CommonModule：提供绑定、*ngIf 和 *ngFor 等基础指令，基本上每个模块都需要导入它。</li> <li>FormsModule / ReactiveFormsModule：表单模块需要在每个需要的模块导入。</li> <li>提供组件、指令或管道的模块。</li></ul> <p>只在根模块导入一次的：</p> <ul><li>HttpClientModule / BrowserAnimationsModule / NoopAnimationsModule</li> <li>只提供服务的模块。</li></ul> <h3 id="装饰器"><a href="#装饰器" class="header-anchor">#</a> 装饰器</h3> <p>如下例子：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 对字符串</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Emoji</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> Object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> val <span class="token operator">=</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

    <span class="token keyword">const</span> <span class="token function-variable function">getter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> val
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">setter</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      val <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">1 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 1</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>

    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token keyword">get</span><span class="token operator">:</span> getter<span class="token punctuation">,</span>
      <span class="token keyword">set</span><span class="token operator">:</span> setter<span class="token punctuation">,</span>
      enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      configurable<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 对函数</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Confirmable</span><span class="token punctuation">(</span>message<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> Object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> descriptor<span class="token operator">:</span> PropertyDescriptor<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> original <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value
    descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> allow <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>allow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
        <span class="token keyword">return</span> result
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> descriptor
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Confirmable<span class="token punctuation">,</span> Emoji <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../decorators'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'app-horizontal-grid'</span><span class="token punctuation">,</span>
  templateUrl<span class="token operator">:</span> <span class="token string">'./horizontal-grid.component.html'</span><span class="token punctuation">,</span>
  styleUrls<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./horizontal-grid.component.css'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">HorizontalGridComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token comment">// 实现自定义注解</span>
  @<span class="token function">Emoji</span><span class="token punctuation">(</span><span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token string">'Hello'</span>

  @<span class="token function">Confirmable</span><span class="token punctuation">(</span><span class="token string">'您确认要执行吗'</span><span class="token punctuation">)</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'点击执行'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="组件嵌套和投影组件"><a href="#组件嵌套和投影组件" class="header-anchor">#</a> 组件嵌套和投影组件</h2> <p>避免组件嵌套导致冗余数据和事件传递，可以通过下面几种方式：</p> <ul><li>内容投影</li> <li>路由</li> <li>指令</li> <li>服务</li></ul> <h3 id="投影组件"><a href="#投影组件" class="header-anchor">#</a> 投影组件</h3> <p>投影组件就是 ng-content 标签。简单来说 ng-content 就是动态内容；跟 vue 的插槽是很类似的。如下格式：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-content</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>样式类/HTML标签/指令<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-content</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>select 可以选择很多，比如选择有 AppGridItem 的指令元素：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-content</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[AppGridItem]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-content</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>选择 class 还有 span-wrapper 的元素：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-content</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.span-wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-content</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="指令"><a href="#指令" class="header-anchor">#</a> 指令</h2> <h3 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令</h3> <p>自定义指令，如下代码：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">appGridItem</span> <span class="token attr-name">*ngFor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>let item of channels<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">[src]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">appGridItemImage</span> <span class="token attr-name">[fitMode]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>none<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">appGridItemTitle</span><span class="token punctuation">&gt;</span></span>{{item.title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对应指令：appGridItem</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Directive<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> Renderer2 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Directive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'[appGridItem]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GridItemDirective</span> <span class="token punctuation">{</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> elr<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span> <span class="token keyword">private</span> rd2<span class="token operator">:</span> Renderer2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'display'</span><span class="token punctuation">,</span> <span class="token string">'grid'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'grid-template-areas'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">'image' 'title'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'place-items'</span><span class="token punctuation">,</span> <span class="token string">'center'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token string">'4rem'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>对应指令：appGridItemImage，可以传递参数。指令跟组件一样，也是有声明周期的。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Directive<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Renderer2<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Directive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'[appGridItemImage]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GridItemImageDirective</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token comment">// 可以接收传入的值</span>
  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> appGridItemImage <span class="token operator">=</span> <span class="token string">'2rem'</span>
  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> fitMode <span class="token operator">=</span> <span class="token string">'cover'</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> elr<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span> <span class="token keyword">private</span> rd2<span class="token operator">:</span> Renderer2<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'grid-srea'</span><span class="token punctuation">,</span> <span class="token string">'image'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>appGridItemImage<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>appGridItemImage<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>rd2<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>elr<span class="token punctuation">.</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'object-fit'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fitMode<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="指令的样式和事件绑定"><a href="#指令的样式和事件绑定" class="header-anchor">#</a> 指令的样式和事件绑定</h3> <p>指令没有模板，指令要寄宿在一个元素之上——宿主（Host）</p> <ul><li>@HostBinding 绑定宿主的属性或者样式</li> <li>@HostListener 绑定宿主的事件</li></ul> <p>如下代码：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Directive<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> Renderer2<span class="token punctuation">,</span> OnInit<span class="token punctuation">,</span> HostBinding <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Directive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'[appGridItem]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GridItemDirective</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  <span class="token comment">// 替换下面的写法</span>
  @<span class="token function">HostBinding</span><span class="token punctuation">(</span><span class="token string">'style.display'</span><span class="token punctuation">)</span> display <span class="token operator">=</span> <span class="token string">'grid'</span>
  @<span class="token function">HostBinding</span><span class="token punctuation">(</span><span class="token string">'style.grid-template-areas'</span><span class="token punctuation">)</span> template <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">'image' 'title'</span><span class="token template-punctuation string">`</span></span>
  @<span class="token function">HostBinding</span><span class="token punctuation">(</span><span class="token string">'style.place-items'</span><span class="token punctuation">)</span> align <span class="token operator">=</span> <span class="token string">'center'</span>
  @<span class="token function">HostBinding</span><span class="token punctuation">(</span><span class="token string">'style.width'</span><span class="token punctuation">)</span> width <span class="token operator">=</span> <span class="token string">'4rem'</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> elr<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span> <span class="token keyword">private</span> rd2<span class="token operator">:</span> Renderer2<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this.rd2.setStyle(this.elr.nativeElement, 'display', 'grid')</span>
    <span class="token comment">// this.rd2.setStyle(this.elr.nativeElement, 'grid-template-areas', `'image' 'title'`)</span>
    <span class="token comment">// this.rd2.setStyle(this.elr.nativeElement, 'place-items', 'center')</span>
    <span class="token comment">// this.rd2.setStyle(this.elr.nativeElement, 'width', '4rem')</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>对于如果有外部需要传递参数的可以使用多个装饰器进行修饰，代码如下：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Directive<span class="token punctuation">,</span> ElementRef<span class="token punctuation">,</span> Renderer2<span class="token punctuation">,</span> HostBinding<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

@<span class="token function">Directive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token operator">:</span> <span class="token string">'[appGridItemTitle]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GridItemTitleDirective</span> <span class="token punctuation">{</span>

  @<span class="token function">HostBinding</span><span class="token punctuation">(</span><span class="token string">'style.font-size'</span><span class="token punctuation">)</span> @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> appGridItemTitle <span class="token operator">=</span> <span class="token string">'1rem'</span>
  @<span class="token function">HostBinding</span><span class="token punctuation">(</span><span class="token string">'style.grid-area'</span><span class="token punctuation">)</span> area <span class="token operator">=</span> <span class="token string">'title'</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> elr<span class="token operator">:</span> ElementRef<span class="token punctuation">,</span> <span class="token keyword">private</span> rd2<span class="token operator">:</span> Renderer2<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="组件中的-host"><a href="#组件中的-host" class="header-anchor">#</a> 组件中的 Host</h3> <p>我们在组件的样式中直接写：
是作用在组件的样式。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">:host</span> <span class="token punctuation">{</span>
  <span class="token comment">/*  */</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">4/8/2021, 9:11:29 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/angular/基础.html" class="prev">
        基础
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.4f52e3fc.js" defer></script><script src="/note/assets/js/2.dd205968.js" defer></script><script src="/note/assets/js/71.70d2ca95.js" defer></script>
  </body>
</html>
