<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ts 语法进阶 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="学习笔记">
    <link rel="preload" href="/note/assets/css/0.styles.c9d983ba.css" as="style"><link rel="preload" href="/note/assets/js/app.c37d61a1.js" as="script"><link rel="preload" href="/note/assets/js/2.4a5f9be4.js" as="script"><link rel="preload" href="/note/assets/js/130.50a943c7.js" as="script"><link rel="prefetch" href="/note/assets/js/10.4cb86183.js"><link rel="prefetch" href="/note/assets/js/100.48b30094.js"><link rel="prefetch" href="/note/assets/js/101.2c307d1d.js"><link rel="prefetch" href="/note/assets/js/102.c297ccbf.js"><link rel="prefetch" href="/note/assets/js/103.2668c38b.js"><link rel="prefetch" href="/note/assets/js/104.a2ff9dca.js"><link rel="prefetch" href="/note/assets/js/105.f4ab8772.js"><link rel="prefetch" href="/note/assets/js/106.5e2b92fb.js"><link rel="prefetch" href="/note/assets/js/107.da1a0d28.js"><link rel="prefetch" href="/note/assets/js/108.676db487.js"><link rel="prefetch" href="/note/assets/js/109.0db2a207.js"><link rel="prefetch" href="/note/assets/js/11.7c3796e6.js"><link rel="prefetch" href="/note/assets/js/110.14b31138.js"><link rel="prefetch" href="/note/assets/js/111.dbb5f821.js"><link rel="prefetch" href="/note/assets/js/112.213edaad.js"><link rel="prefetch" href="/note/assets/js/113.23dd4e81.js"><link rel="prefetch" href="/note/assets/js/114.97ed2f2c.js"><link rel="prefetch" href="/note/assets/js/115.8484ecad.js"><link rel="prefetch" href="/note/assets/js/116.c3c8a914.js"><link rel="prefetch" href="/note/assets/js/117.9e237764.js"><link rel="prefetch" href="/note/assets/js/118.6815b388.js"><link rel="prefetch" href="/note/assets/js/119.573f755d.js"><link rel="prefetch" href="/note/assets/js/12.cade7720.js"><link rel="prefetch" href="/note/assets/js/120.d9906bd8.js"><link rel="prefetch" href="/note/assets/js/121.6bbb00e2.js"><link rel="prefetch" href="/note/assets/js/122.3837bd6b.js"><link rel="prefetch" href="/note/assets/js/123.54edb253.js"><link rel="prefetch" href="/note/assets/js/124.a7f62a3d.js"><link rel="prefetch" href="/note/assets/js/125.db1bcfb3.js"><link rel="prefetch" href="/note/assets/js/126.13abed25.js"><link rel="prefetch" href="/note/assets/js/127.3ff6340b.js"><link rel="prefetch" href="/note/assets/js/128.8ffb9c47.js"><link rel="prefetch" href="/note/assets/js/129.df51d726.js"><link rel="prefetch" href="/note/assets/js/13.df187093.js"><link rel="prefetch" href="/note/assets/js/131.03558def.js"><link rel="prefetch" href="/note/assets/js/132.1537bef2.js"><link rel="prefetch" href="/note/assets/js/133.c26e770c.js"><link rel="prefetch" href="/note/assets/js/134.ac06b237.js"><link rel="prefetch" href="/note/assets/js/135.6632a6b1.js"><link rel="prefetch" href="/note/assets/js/136.1e3f04ce.js"><link rel="prefetch" href="/note/assets/js/137.fa742ee4.js"><link rel="prefetch" href="/note/assets/js/138.1b69bead.js"><link rel="prefetch" href="/note/assets/js/139.08b19c62.js"><link rel="prefetch" href="/note/assets/js/14.e0dfa7be.js"><link rel="prefetch" href="/note/assets/js/15.d09744bb.js"><link rel="prefetch" href="/note/assets/js/16.ad655915.js"><link rel="prefetch" href="/note/assets/js/17.96f0e30f.js"><link rel="prefetch" href="/note/assets/js/18.17a86b65.js"><link rel="prefetch" href="/note/assets/js/19.d65104fe.js"><link rel="prefetch" href="/note/assets/js/20.710f995b.js"><link rel="prefetch" href="/note/assets/js/21.e9602d39.js"><link rel="prefetch" href="/note/assets/js/22.210828c4.js"><link rel="prefetch" href="/note/assets/js/23.eb50a182.js"><link rel="prefetch" href="/note/assets/js/24.4c19dbfc.js"><link rel="prefetch" href="/note/assets/js/25.30b5d45d.js"><link rel="prefetch" href="/note/assets/js/26.002c8323.js"><link rel="prefetch" href="/note/assets/js/27.cb01cb92.js"><link rel="prefetch" href="/note/assets/js/28.aa5cff04.js"><link rel="prefetch" href="/note/assets/js/29.727086df.js"><link rel="prefetch" href="/note/assets/js/3.8c1407ac.js"><link rel="prefetch" href="/note/assets/js/30.fcba5805.js"><link rel="prefetch" href="/note/assets/js/31.62fadaa3.js"><link rel="prefetch" href="/note/assets/js/32.323d78b8.js"><link rel="prefetch" href="/note/assets/js/33.c7f58617.js"><link rel="prefetch" href="/note/assets/js/34.2832d0c2.js"><link rel="prefetch" href="/note/assets/js/35.a83b871f.js"><link rel="prefetch" href="/note/assets/js/36.8672c8fe.js"><link rel="prefetch" href="/note/assets/js/37.4c77ef7a.js"><link rel="prefetch" href="/note/assets/js/38.a05d34e1.js"><link rel="prefetch" href="/note/assets/js/39.80b05511.js"><link rel="prefetch" href="/note/assets/js/4.d2de92d2.js"><link rel="prefetch" href="/note/assets/js/40.b5ae8518.js"><link rel="prefetch" href="/note/assets/js/41.55245152.js"><link rel="prefetch" href="/note/assets/js/42.7d2f51cf.js"><link rel="prefetch" href="/note/assets/js/43.4ec2586b.js"><link rel="prefetch" href="/note/assets/js/44.38e498e1.js"><link rel="prefetch" href="/note/assets/js/45.05ff3a22.js"><link rel="prefetch" href="/note/assets/js/46.c7885f2a.js"><link rel="prefetch" href="/note/assets/js/47.e85f88d0.js"><link rel="prefetch" href="/note/assets/js/48.d87e2123.js"><link rel="prefetch" href="/note/assets/js/49.5a9c84f4.js"><link rel="prefetch" href="/note/assets/js/5.7efb5dff.js"><link rel="prefetch" href="/note/assets/js/50.634ce08f.js"><link rel="prefetch" href="/note/assets/js/51.af7f2e67.js"><link rel="prefetch" href="/note/assets/js/52.6bb8a014.js"><link rel="prefetch" href="/note/assets/js/53.aa4f0c28.js"><link rel="prefetch" href="/note/assets/js/54.389c43a9.js"><link rel="prefetch" href="/note/assets/js/55.1ddd3dea.js"><link rel="prefetch" href="/note/assets/js/56.1a281cfe.js"><link rel="prefetch" href="/note/assets/js/57.88c75a42.js"><link rel="prefetch" href="/note/assets/js/58.70038cd4.js"><link rel="prefetch" href="/note/assets/js/59.77e1f522.js"><link rel="prefetch" href="/note/assets/js/6.2b033b32.js"><link rel="prefetch" href="/note/assets/js/60.eb586550.js"><link rel="prefetch" href="/note/assets/js/61.eb4dba95.js"><link rel="prefetch" href="/note/assets/js/62.1688ad55.js"><link rel="prefetch" href="/note/assets/js/63.569b0e4d.js"><link rel="prefetch" href="/note/assets/js/64.6f9489be.js"><link rel="prefetch" href="/note/assets/js/65.c74c7dae.js"><link rel="prefetch" href="/note/assets/js/66.5aa65174.js"><link rel="prefetch" href="/note/assets/js/67.fe7d444e.js"><link rel="prefetch" href="/note/assets/js/68.f5f2e96a.js"><link rel="prefetch" href="/note/assets/js/69.54f34093.js"><link rel="prefetch" href="/note/assets/js/7.97be0102.js"><link rel="prefetch" href="/note/assets/js/70.77b528b5.js"><link rel="prefetch" href="/note/assets/js/71.a1301b0a.js"><link rel="prefetch" href="/note/assets/js/72.27bc4754.js"><link rel="prefetch" href="/note/assets/js/73.d50b42d4.js"><link rel="prefetch" href="/note/assets/js/74.91c210d9.js"><link rel="prefetch" href="/note/assets/js/75.491ef121.js"><link rel="prefetch" href="/note/assets/js/76.e8f583c1.js"><link rel="prefetch" href="/note/assets/js/77.07ed898b.js"><link rel="prefetch" href="/note/assets/js/78.6c50c739.js"><link rel="prefetch" href="/note/assets/js/79.091c7560.js"><link rel="prefetch" href="/note/assets/js/8.28efb743.js"><link rel="prefetch" href="/note/assets/js/80.86977c72.js"><link rel="prefetch" href="/note/assets/js/81.0c334b7a.js"><link rel="prefetch" href="/note/assets/js/82.dedfef40.js"><link rel="prefetch" href="/note/assets/js/83.5c496546.js"><link rel="prefetch" href="/note/assets/js/84.e1b6201e.js"><link rel="prefetch" href="/note/assets/js/85.584654f7.js"><link rel="prefetch" href="/note/assets/js/86.809c7507.js"><link rel="prefetch" href="/note/assets/js/87.b6c604e6.js"><link rel="prefetch" href="/note/assets/js/88.0316dbef.js"><link rel="prefetch" href="/note/assets/js/89.e9a773eb.js"><link rel="prefetch" href="/note/assets/js/9.3a59e273.js"><link rel="prefetch" href="/note/assets/js/90.2dc7b84f.js"><link rel="prefetch" href="/note/assets/js/91.aae78e43.js"><link rel="prefetch" href="/note/assets/js/92.834a81c9.js"><link rel="prefetch" href="/note/assets/js/93.b0070d80.js"><link rel="prefetch" href="/note/assets/js/94.fc315bc1.js"><link rel="prefetch" href="/note/assets/js/95.f54f48ff.js"><link rel="prefetch" href="/note/assets/js/96.83ae8cb7.js"><link rel="prefetch" href="/note/assets/js/97.e7c080cb.js"><link rel="prefetch" href="/note/assets/js/98.0eae405f.js"><link rel="prefetch" href="/note/assets/js/99.ab469aa7.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.c9d983ba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/typescript/typescript基础语法.html" class="sidebar-link">typescript基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#ts-的优势" class="sidebar-link">TS 的优势</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#ts-的静态类型" class="sidebar-link">ts 的静态类型</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#类型基础和对象类型" class="sidebar-link">类型基础和对象类型</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#类型注解和类型推断" class="sidebar-link">类型注解和类型推断</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#函数相关类型" class="sidebar-link">函数相关类型</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#数组和元组" class="sidebar-link">数组和元组</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#interface-接口" class="sidebar-link">Interface 接口</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#类的定义与继承" class="sidebar-link">类的定义与继承</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#类中的访问类型和构造器" class="sidebar-link">类中的访问类型和构造器</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#静态属性，setter-和-getter" class="sidebar-link">静态属性，Setter 和 Getter</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript基础语法.html#抽象类" class="sidebar-link">抽象类</a></li></ul></li></ul></li><li><a href="/note/typescript/typescript语法进阶.html" class="active sidebar-link">typescript语法进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#ts-语法进阶" class="sidebar-link">ts 语法进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#初始化一个-ts-开发环境" class="sidebar-link">初始化一个 ts 开发环境</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#联合类型和类型保护" class="sidebar-link">联合类型和类型保护</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#枚举类型" class="sidebar-link">枚举类型</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#泛型" class="sidebar-link">泛型</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#命名空间-namespace" class="sidebar-link">命名空间 namespace</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#import-对应的模块化" class="sidebar-link">import 对应的模块化</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#使用-parcel-打包-ts-代码" class="sidebar-link">使用 Parcel 打包 TS 代码</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#描述文件中的全局类型-d-ts" class="sidebar-link">描述文件中的全局类型 (d.ts)</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#模块代码的类型描述文件" class="sidebar-link">模块代码的类型描述文件</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#泛型中-keyof-语法的使用" class="sidebar-link">泛型中 keyof 语法的使用</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript语法进阶.html#进阶" class="sidebar-link">进阶</a></li></ul></li></ul></li><li><a href="/note/typescript/装饰器.html" class="sidebar-link">装饰器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#类的装饰器" class="sidebar-link">类的装饰器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#概念" class="sidebar-link">概念</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#类中方法的装饰器" class="sidebar-link">类中方法的装饰器</a></li><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#类中访问器的装饰器" class="sidebar-link">类中访问器的装饰器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#属性的装饰器" class="sidebar-link">属性的装饰器</a></li><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#参数装饰器" class="sidebar-link">参数装饰器</a></li><li class="sidebar-sub-header"><a href="/note/typescript/装饰器.html#装饰器实际使用的小例子" class="sidebar-link">装饰器实际使用的小例子</a></li></ul></li></ul></li><li><a href="/note/typescript/typescript装饰器实战.html" class="sidebar-link">typescript装饰器实战</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/typescript装饰器实战.html#装饰器" class="sidebar-link">装饰器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/typescript装饰器实战.html#类的装饰器" class="sidebar-link">类的装饰器</a></li><li class="sidebar-sub-header"><a href="/note/typescript/typescript装饰器实战.html#使用函数装饰器" class="sidebar-link">使用函数装饰器</a></li></ul></li></ul></li><li><a href="/note/typescript/ts中的配置文件.html" class="sidebar-link">ts中的配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/ts中的配置文件.html#配置文件" class="sidebar-link">配置文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/ts中的配置文件.html#编译指定文件" class="sidebar-link">编译指定文件</a></li><li class="sidebar-sub-header"><a href="/note/typescript/ts中的配置文件.html#compileroptions-选项的配置" class="sidebar-link">compilerOptions 选项的配置</a></li></ul></li></ul></li><li><a href="/note/typescript/react结合ts.html" class="sidebar-link">react结合ts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#react-与-typescript" class="sidebar-link">react 与 typescript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#在-react-中使用-ts" class="sidebar-link">在 react 中使用 ts</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#react-代码注释" class="sidebar-link">react 代码注释</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#使用-ant-design" class="sidebar-link">使用 ant design</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#配置后台代理" class="sidebar-link">配置后台代理</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#在-react-中使用-echarts" class="sidebar-link">在 react 中使用 echarts</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#处理时间相关的库" class="sidebar-link">处理时间相关的库</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#ts-hooks" class="sidebar-link">ts-Hooks</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#使用-functioncomponent-对组件进行类型注解" class="sidebar-link">使用 FunctionComponent 对组件进行类型注解</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#useeffect" class="sidebar-link">useEffect</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#自定义-hook" class="sidebar-link">自定义 hook</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#hoc-高阶组件" class="sidebar-link">HOC 高阶组件</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#useref" class="sidebar-link">useRef</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#usecontext-解决多层传递属性" class="sidebar-link">useContext 解决多层传递属性</a></li><li class="sidebar-sub-header"><a href="/note/typescript/react结合ts.html#hook-规则" class="sidebar-link">Hook 规则</a></li></ul></li></ul></li><li><a href="/note/typescript/nodejs结合ts.html" class="sidebar-link">nodejs结合ts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#初始化项目" class="sidebar-link">初始化项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#项目编译" class="sidebar-link">项目编译</a></li><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#重新定义-express-库的类型" class="sidebar-link">重新定义 express 库的类型</a></li><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#对类型定义文件进行扩展" class="sidebar-link">对类型定义文件进行扩展</a></li><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#使用-cookie-session-插件" class="sidebar-link">使用 cookie-session 插件</a></li><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#ts-其他" class="sidebar-link">ts 其他</a></li><li class="sidebar-sub-header"><a href="/note/typescript/nodejs结合ts.html#statics、protected-方法" class="sidebar-link">statics、protected 方法</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="ts-语法进阶"><a href="#ts-语法进阶" class="header-anchor">#</a> ts 语法进阶</h2> <h3 id="初始化一个-ts-开发环境"><a href="#初始化一个-ts-开发环境" class="header-anchor">#</a> 初始化一个 ts 开发环境</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> init -y
tsc --init
<span class="token function">npm</span> <span class="token function">install</span> ts-node -D
<span class="token function">npm</span> <span class="token function">install</span> typescript --save
</code></pre></div><p>然后配置 package.json</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node ./demo.ts&quot;</span>
</code></pre></div><h3 id="联合类型和类型保护"><a href="#联合类型和类型保护" class="header-anchor">#</a> 联合类型和类型保护</h3> <p>联合类型就是一个变量存在多个类型。
解决联合类型中调用属性或方法报错就是类型保护。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Bird</span> <span class="token punctuation">{</span>
  fly<span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token function-variable function">sing</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  fly<span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token function-variable function">bark</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 联合类型</span>
<span class="token keyword">function</span> <span class="token function">trainAnial</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token operator">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 类型保护</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animal<span class="token punctuation">.</span>fly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用类型断言</span>
    <span class="token punctuation">;</span><span class="token punctuation">(</span>animal <span class="token keyword">as</span> Bird<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">;</span><span class="token punctuation">(</span>animal <span class="token keyword">as</span> Dog<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 公用的属性或者方法会有提示</span>
  animal<span class="token punctuation">.</span>fly
<span class="token punctuation">}</span>

<span class="token comment">// 使用 in 语法来做类型保护</span>
<span class="token keyword">function</span> <span class="token function">trainAnialSecond</span><span class="token punctuation">(</span><span class="token parameter">animal<span class="token operator">:</span> Bird <span class="token operator">|</span> Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 另一种类型保护</span>
  <span class="token comment">// 如果有 sing 方法</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'sing'</span> <span class="token keyword">in</span> animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    animal<span class="token punctuation">.</span><span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// typeof 语法来做类型保护</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> first <span class="token operator">===</span> <span class="token string">'string'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> second <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> first <span class="token operator">+</span> second
<span class="token punctuation">}</span>

<span class="token comment">// 使用 instanceof 语法做类型保护</span>
<span class="token keyword">class</span> <span class="token class-name">NumberObj</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">addSecond</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token operator">:</span> object <span class="token operator">|</span> NumberObj<span class="token punctuation">,</span> second<span class="token operator">:</span> object <span class="token operator">|</span> NumberObj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token keyword">instanceof</span> <span class="token class-name">NumberObj</span> <span class="token operator">&amp;&amp;</span> second <span class="token keyword">instanceof</span> <span class="token class-name">NumberObj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> first<span class="token punctuation">.</span>count <span class="token operator">+</span> second<span class="token punctuation">.</span>count
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="枚举类型"><a href="#枚举类型" class="header-anchor">#</a> 枚举类型</h3> <p>js 的例子：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Status <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token constant">OFFLINE</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">ONLINE</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token constant">DELETED</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'offline'</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">ONLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'online'</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">DELETED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'deleted'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">'error'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">getResult</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre></div><p>ts 实现：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ts 写法 -使用功能枚举类型</span>
<span class="token keyword">enum</span> Status <span class="token punctuation">{</span>
  <span class="token constant">OFFLINE</span><span class="token punctuation">,</span>
  <span class="token constant">ONLINE</span><span class="token punctuation">,</span>
  <span class="token constant">DELETED</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">ONLINE</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">DELETED</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token comment">// 可以进行反查</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Status<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// OFFLINE</span>

<span class="token comment">// 如果想要上面的值都加 1 只需要对枚举类型的 OFFLINE 设置为 1：</span>
<span class="token comment">// enum Status {</span>
<span class="token comment">//   OFFLINE = 1,</span>
<span class="token comment">//   ONLINE,</span>
<span class="token comment">//   DELETED</span>
<span class="token comment">// }</span>
<span class="token comment">// 如果直接设置中间的值 ONLINE 为 4，那么这几个值分别为 0 4 5；</span>

<span class="token keyword">function</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'offline'</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">ONLINE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'online'</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> Status<span class="token punctuation">.</span><span class="token constant">DELETED</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'deleted'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">'error'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">getResult</span><span class="token punctuation">(</span>Status<span class="token punctuation">.</span><span class="token constant">OFFLINE</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> result1 <span class="token operator">=</span> <span class="token function">getResult</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span>

<span class="token comment">// 字符串枚举</span>
<span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
  Up <span class="token operator">=</span> <span class="token string">'UP'</span><span class="token punctuation">,</span>
  Down <span class="token operator">=</span> <span class="token string">'DOWN'</span><span class="token punctuation">,</span>
  Left <span class="token operator">=</span> <span class="token string">'LEFT'</span><span class="token punctuation">,</span>
  Right <span class="token operator">=</span> <span class="token string">'RIGHT'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token string">'UP'</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> Direction<span class="token punctuation">.</span>Up<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'go up'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 常量枚举 -- 提升性能</span>
<span class="token keyword">const</span> <span class="token keyword">enum</span> Direction1 <span class="token punctuation">{</span>
  Up <span class="token operator">=</span> <span class="token string">'UP'</span><span class="token punctuation">,</span>
  Down <span class="token operator">=</span> <span class="token string">'DOWN'</span><span class="token punctuation">,</span>
  Left <span class="token operator">=</span> <span class="token string">'LEFT'</span><span class="token punctuation">,</span>
  Right <span class="token operator">=</span> <span class="token string">'RIGHT'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>枚举实现反查的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> Dirsction
<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Dirsction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Dirsction<span class="token punctuation">[</span><span class="token punctuation">(</span>Dirsction<span class="token punctuation">[</span><span class="token string">'Up'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Up'</span>
  Dirsction<span class="token punctuation">[</span><span class="token punctuation">(</span>Dirsction<span class="token punctuation">[</span><span class="token string">'Down'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Down'</span>
  Dirsction<span class="token punctuation">[</span><span class="token punctuation">(</span>Dirsction<span class="token punctuation">[</span><span class="token string">'Left'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Left'</span>
  Dirsction<span class="token punctuation">[</span><span class="token punctuation">(</span>Dirsction<span class="token punctuation">[</span><span class="token string">'Right'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Right'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Dirsction <span class="token operator">||</span> <span class="token punctuation">(</span>Dirsction <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Dirsction<span class="token punctuation">.</span>Down<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Dirsction<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h3> <p>就是泛指的类型，也就是说，定义的时候不确定是什么类型，等到调用的时候采取指定类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 泛型 generic 泛指的类型</span>
<span class="token keyword">function</span> join<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> anoghterJoin<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> first
<span class="token punctuation">}</span>

<span class="token keyword">function</span> map<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> params
<span class="token punctuation">}</span>

<span class="token comment">// 如果前面传 number 后面必须要 number</span>
join<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span>
map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'123'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 泛型还可以定义多个类型</span>
<span class="token keyword">function</span> add<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>first<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> second<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

add<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 不写，会进行默认的推断</span>
</code></pre></div><p>类中的泛型以及泛型类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 在类中使用泛型</span>
<span class="token keyword">class</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getItem</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>泛型还可以继承类型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 泛型继承 Item ，也就是说 T 里面必须包含 Item 里面所有的东西</span>
<span class="token keyword">class</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Item</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getItem</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataManager</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>泛型可以类似实现联合类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// string 或者 number</span>
<span class="token keyword">class</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getItem</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataManager</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>泛型还可以声明类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> hello<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>param<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> param
<span class="token punctuation">}</span>
<span class="token keyword">const</span> func<span class="token operator">:</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter">param<span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span> <span class="token operator">=</span> hello
</code></pre></div><p>约束泛型：例如只传入有 length 属性的变量；也就是通过 extends 关键字实现</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Iwithlength</span> <span class="token punctuation">{</span>
  length<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> echoWithLength<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Iwithlength</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
  <span class="token keyword">return</span> args
<span class="token punctuation">}</span>
</code></pre></div><p>定义接口使用泛型</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">KeyPair</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> <span class="token constant">T</span>
  value<span class="token operator">:</span> <span class="token constant">U</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> kp1<span class="token operator">:</span> KeyPair<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">'d'</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="命名空间-namespace"><a href="#命名空间-namespace" class="header-anchor">#</a> 命名空间 namespace</h3> <h4 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h4> <p>类似模块化开发的方式，不必要将所有的变量暴露出去；如果想要将一个类暴露出去使用，可以使用 export 语法来实现：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 将四个变量变成一个变量</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Header'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Content'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Footer'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 编译完之后 page header content footer 都变成了全局变量，我们真正需要的全局变量是 page</span>

  <span class="token comment">// 使用命名空间的方式将 page 暴露出去</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>HTML 中调用：</p> <p>这样就可以使用暴露出的 Page 类；</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./dist/page.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token keyword">new</span> <span class="token class-name">Home<span class="token punctuation">.</span>Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="多模块打包以及子命名空间等"><a href="#多模块打包以及子命名空间等" class="header-anchor">#</a> 多模块打包以及子命名空间等</h4> <p>将上面的代码我们可以拆分成两个文件 page.ts 跟 components.ts 文件，这两个文件分别定义了两个命名空间；这样方便代码查看，拆分代码后，我们可以这样使用 commponent.ts 中的类 Components.Header() ；可以发现打包结果会是两个文件，我们可以修改 tsconfig.json 的 &quot;outFile&quot;: &quot;./build/page.js&quot;；将所有的模块打包成一个文件中；</p> <p>这样打包的结果还是不能使用，需要我们声明互相引用的声明；表示 page.ts 文件依赖这个文件。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">///&lt;reference path='./components.ts'&gt;</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// page.ts</span>
<span class="token comment">// 下面的写法是表示这个命名空间引用了 components 的命名空间</span>
<span class="token comment">///&lt;reference path='./components.ts'&gt;</span>
<span class="token comment">// 将四个变量变成一个变量</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token comment">// 编译完之后 page header content footer 都变成了全局变量，我们真正需要的全局变量是 page</span>

  <span class="token comment">// 使用命名空间的方式将 page 暴露出去</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> Components<span class="token punctuation">.</span>User <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">new</span> <span class="token class-name">Components<span class="token punctuation">.</span>Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// component.ts</span>
<span class="token keyword">namespace</span> Components <span class="token punctuation">{</span>
  <span class="token comment">// 导出子命名空间</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> SubComponents <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 导出接口这种格式</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Header'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Content'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
      elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Footer'</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>多模块打包的时候需要修改 tsconfig.json 里面的配置：</p> <div class="language-json extra-class"><pre class="language-json"><code>    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;amd&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./build/page.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 将所有的模块打包成一个文件</span>
    <span class="token property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./src&quot;</span><span class="token punctuation">,</span>
</code></pre></div><p>我们还可以在 page.ts 文件中使用 commponent.ts 中声明的接口类型：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// component.ts</span>
<span class="token keyword">namespace</span> Components <span class="token punctuation">{</span>
  <span class="token comment">// 导出接口这种格式</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 在 page.ts 中使用</span>
<span class="token comment">///&lt;reference path='./components.ts'&gt;</span>
<span class="token keyword">namespace</span> Home <span class="token punctuation">{</span>
  <span class="token comment">// 使用命名空间的方式将 page 暴露出去</span>
  <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> Components<span class="token punctuation">.</span>User <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>在命名空间中也可以导出子命名空间：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// component.ts</span>
<span class="token keyword">namespace</span> Components <span class="token punctuation">{</span>
  <span class="token comment">// 导出子命名空间</span>
  <span class="token keyword">export</span> <span class="token keyword">namespace</span> SubComponents <span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
Components<span class="token punctuation">.</span>SubComponents<span class="token punctuation">.</span>Test
</code></pre></div><h3 id="import-对应的模块化"><a href="#import-对应的模块化" class="header-anchor">#</a> import 对应的模块化</h3> <p>上面的代码中不太容易看到不同的命名空间之间的引入，可以使用 import 做代码的模块化组织；
修改上面的 page.ts 以及 components.ts 文件：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// page.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Header<span class="token punctuation">,</span> Content<span class="token punctuation">,</span> Footer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./components'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Page</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> <span class="token class-name">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Content</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Footer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// components.ts</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
    elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Header'</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Content</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
    elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Content'</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
    elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'This is Footer'</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后需要修改页面中引用的方式，需要采用 amd 的方式进行引用，浏览器不能识别这种 require 语法，所以需要引入
require.js ，如果在 webpack 中使用 ts，他会做很多编译以及加载，不需要引入 require.js 等。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./build/page.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'page'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">page<span class="token punctuation">.</span>default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="使用-parcel-打包-ts-代码"><a href="#使用-parcel-打包-ts-代码" class="header-anchor">#</a> 使用 Parcel 打包 TS 代码</h3> <p>首先进行安装 parcel ：npm install parcel@next -D，然后修改 package.json 配置：</p> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;parcel ./src/index.html&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>这个打包工具会分析我们打包的 index.html 文件，我们打包的文件引入了 ts 文件，他会进行自动编译，然后进行引入；</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./page.ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="描述文件中的全局类型-d-ts"><a href="#描述文件中的全局类型-d-ts" class="header-anchor">#</a> 描述文件中的全局类型 (d.ts)</h3> <p>比如我们在页面中引用了 cdn 的 jquery 工具，但是在编译器中我们没有进行安装 jquery 包，这样会导致在编写 jquery 相关的代码时候编辑器会提示报错。我们可以创建一个 jquery.d.ts 的 jquery 描述文件里面去定义 jquery 相关的方法，这个编辑器就不会提示找不到 $ 等的变量以及方法：</p> <p>jquery.d.ts</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 声明全局变量 $,参数为一个函数，返回值为空</span>
<span class="token keyword">declare</span> <span class="token keyword">var</span> <span class="token function-variable function">$</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token function-variable function">param</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token keyword">interface</span> <span class="token class-name">jQueryInstance</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">html</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">html<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> jQueryInstance
<span class="token punctuation">}</span>
<span class="token comment">// 定义全局函数</span>
<span class="token comment">// 函数重载</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token function-variable function">readyFunc</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token parameter">params<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> jQueryInstance

<span class="token comment">// 可以使用 interface 的语法，实现上面一样的重载，表示 $ 可以通过两种方法实现函数。</span>
<span class="token keyword">interface</span> <span class="token class-name">JQuery</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token function-variable function">readyFunc</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> jQueryInstance
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">var</span> $<span class="token operator">:</span> JQuery

<span class="token comment">// 声明一个对象</span>
<span class="token comment">// 定义对象 new $.fn.init(), 以及对类进行定义，以及命名空间的嵌套</span>
<span class="token keyword">declare</span> <span class="token keyword">namespace</span> $ <span class="token punctuation">{</span>
  <span class="token keyword">namespace</span> fn <span class="token punctuation">{</span>
    <span class="token comment">// init 是一个 class</span>
    <span class="token keyword">class</span> <span class="token class-name">init</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// init 是一个 function</span>
    <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="模块代码的类型描述文件"><a href="#模块代码的类型描述文件" class="header-anchor">#</a> 模块代码的类型描述文件</h3> <p>比如下面对 jquery 库进行类型描述文件的定义：
下面是 ts 代码</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 如果没有类型文件定义页面会报错</span>
<span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'&lt;div&gt;123&lt;/div&gt;'</span><span class="token punctuation">)</span>
  <span class="token keyword">new</span> $<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>我们定义一个 jquery.d.ts 的类型描述文件：</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ES6 模块化</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'jquery'</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">jQueryInstance</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">html</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">html<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> jQueryInstance
  <span class="token punctuation">}</span>
  <span class="token comment">// 定义全局函数</span>
  <span class="token comment">// 函数重载</span>
  <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token function-variable function">readyFunc</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
  <span class="token keyword">function</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token parameter">params<span class="token operator">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token operator">:</span> jQueryInstance
  <span class="token comment">// 定义对象 $.fn.init(), 以及对类进行定义，以及命名空间的嵌套</span>
  <span class="token keyword">namespace</span> $ <span class="token punctuation">{</span>
    <span class="token keyword">namespace</span> fn <span class="token punctuation">{</span>
      <span class="token keyword">class</span> <span class="token class-name">init</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 关键需要导出</span>
  <span class="token keyword">export</span> <span class="token operator">=</span> $
<span class="token punctuation">}</span>
</code></pre></div><h3 id="泛型中-keyof-语法的使用"><a href="#泛型中-keyof-语法的使用" class="header-anchor">#</a> 泛型中 keyof 语法的使用</h3> <p>keyof 相当于对 Person 中的属性进行循环;</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
  gender<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> info<span class="token operator">:</span> Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">getInfo</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'name'</span> <span class="token operator">||</span> key <span class="token operator">===</span> <span class="token string">'age'</span> <span class="token operator">||</span> key <span class="token operator">===</span> <span class="token string">'gender'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Teacher</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  gender<span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 如果传入 Person 中没有的属性，就会报错，如果通过类型保护，如上面代码，返回的结果就是 string | number | undefined，类型不能明确</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>teacher<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment">// 可以使用功能 keyof 以及 泛型解决上面的问题</span>

<span class="token comment">// keyof 相当于对 Person 中的属性进行循环</span>
<span class="token comment">// 第一次循环</span>
<span class="token comment">// type T = 'name'</span>
<span class="token comment">// key: 'name'</span>
<span class="token comment">// Person[key]: string</span>
<span class="token comment">// // 第二次循环</span>
<span class="token comment">// type T = 'age'</span>
<span class="token comment">// key: 'age'</span>
<span class="token comment">// Person[key]: number</span>
<span class="token comment">// // 第三次</span>
<span class="token comment">// type T = 'gender'</span>
<span class="token comment">// key: 'gender'</span>
<span class="token comment">// Person[key]: string</span>

<span class="token comment">// 原理就是使用了 type</span>
<span class="token keyword">type</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token string">'name'</span>
<span class="token comment">// 会报错</span>
<span class="token comment">// const names: NAME = '1231'</span>
<span class="token keyword">const</span> names<span class="token operator">:</span> <span class="token constant">NAME</span> <span class="token operator">=</span> <span class="token string">'name'</span>

<span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> info<span class="token operator">:</span> Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  getInfo<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> Person<span class="token operator">&gt;</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> Person<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="进阶"><a href="#进阶" class="header-anchor">#</a> 进阶</h3> <ul><li>官方文档</li> <li>https://ts-ast-viewer.com/# 根据 ts 代码生成抽象语法树</li> <li>在第三方库的官网搜索与 ts 的结合使用</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">7/18/2020, 10:15:02 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/typescript/typescript基础语法.html" class="prev">
        typescript基础语法
      </a></span> <span class="next"><a href="/note/typescript/装饰器.html">
        装饰器
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.c37d61a1.js" defer></script><script src="/note/assets/js/2.4a5f9be4.js" defer></script><script src="/note/assets/js/130.50a943c7.js" defer></script>
  </body>
</html>
