<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>es6 新增内容 | note</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="note">
    
    <link rel="preload" href="/note/assets/css/0.styles.747e5b72.css" as="style"><link rel="preload" href="/note/assets/js/app.e947756a.js" as="script"><link rel="preload" href="/note/assets/js/3.90278144.js" as="script"><link rel="preload" href="/note/assets/js/52.22755877.js" as="script"><link rel="preload" href="/note/assets/js/75.886b64ff.js" as="script"><link rel="prefetch" href="/note/assets/js/10.da0d339b.js"><link rel="prefetch" href="/note/assets/js/100.eb373f82.js"><link rel="prefetch" href="/note/assets/js/101.6125310d.js"><link rel="prefetch" href="/note/assets/js/102.523f9313.js"><link rel="prefetch" href="/note/assets/js/103.78d36a48.js"><link rel="prefetch" href="/note/assets/js/104.694c9e6d.js"><link rel="prefetch" href="/note/assets/js/105.71e94424.js"><link rel="prefetch" href="/note/assets/js/106.fb77264a.js"><link rel="prefetch" href="/note/assets/js/107.5dd95b10.js"><link rel="prefetch" href="/note/assets/js/108.0a006d43.js"><link rel="prefetch" href="/note/assets/js/109.99b454b9.js"><link rel="prefetch" href="/note/assets/js/11.1b7713af.js"><link rel="prefetch" href="/note/assets/js/110.86fd882a.js"><link rel="prefetch" href="/note/assets/js/111.7606269c.js"><link rel="prefetch" href="/note/assets/js/112.e69ee0d2.js"><link rel="prefetch" href="/note/assets/js/113.6c79fea6.js"><link rel="prefetch" href="/note/assets/js/114.8f370b23.js"><link rel="prefetch" href="/note/assets/js/115.1c28704b.js"><link rel="prefetch" href="/note/assets/js/116.6a34539a.js"><link rel="prefetch" href="/note/assets/js/117.cfab1284.js"><link rel="prefetch" href="/note/assets/js/118.097ef506.js"><link rel="prefetch" href="/note/assets/js/119.333eed56.js"><link rel="prefetch" href="/note/assets/js/12.39def087.js"><link rel="prefetch" href="/note/assets/js/120.83a7e4f9.js"><link rel="prefetch" href="/note/assets/js/121.149dce13.js"><link rel="prefetch" href="/note/assets/js/122.ccecd357.js"><link rel="prefetch" href="/note/assets/js/123.49c1fba1.js"><link rel="prefetch" href="/note/assets/js/124.1a8b0e77.js"><link rel="prefetch" href="/note/assets/js/125.81f0b603.js"><link rel="prefetch" href="/note/assets/js/126.f94c48be.js"><link rel="prefetch" href="/note/assets/js/127.a1bec729.js"><link rel="prefetch" href="/note/assets/js/128.a5df0129.js"><link rel="prefetch" href="/note/assets/js/129.758a8486.js"><link rel="prefetch" href="/note/assets/js/13.b049522d.js"><link rel="prefetch" href="/note/assets/js/130.49548025.js"><link rel="prefetch" href="/note/assets/js/131.21448cf0.js"><link rel="prefetch" href="/note/assets/js/132.5ffb4c56.js"><link rel="prefetch" href="/note/assets/js/133.aed7232e.js"><link rel="prefetch" href="/note/assets/js/134.83974382.js"><link rel="prefetch" href="/note/assets/js/135.e1e896f8.js"><link rel="prefetch" href="/note/assets/js/136.bd7ab84b.js"><link rel="prefetch" href="/note/assets/js/137.50d921ee.js"><link rel="prefetch" href="/note/assets/js/138.33638790.js"><link rel="prefetch" href="/note/assets/js/139.c4f5ff06.js"><link rel="prefetch" href="/note/assets/js/14.df73d004.js"><link rel="prefetch" href="/note/assets/js/140.7e3ae21a.js"><link rel="prefetch" href="/note/assets/js/141.7dfa6c47.js"><link rel="prefetch" href="/note/assets/js/142.75becf7a.js"><link rel="prefetch" href="/note/assets/js/143.14f1ce25.js"><link rel="prefetch" href="/note/assets/js/144.2e216e87.js"><link rel="prefetch" href="/note/assets/js/145.26a26cc2.js"><link rel="prefetch" href="/note/assets/js/146.c50a0ede.js"><link rel="prefetch" href="/note/assets/js/147.d46f76fe.js"><link rel="prefetch" href="/note/assets/js/148.b4aeb28b.js"><link rel="prefetch" href="/note/assets/js/149.8f01ae6e.js"><link rel="prefetch" href="/note/assets/js/15.42fccff1.js"><link rel="prefetch" href="/note/assets/js/150.d9c7cf0d.js"><link rel="prefetch" href="/note/assets/js/151.b2331bd0.js"><link rel="prefetch" href="/note/assets/js/152.7bd4c3d1.js"><link rel="prefetch" href="/note/assets/js/153.48df5257.js"><link rel="prefetch" href="/note/assets/js/154.7abb2546.js"><link rel="prefetch" href="/note/assets/js/155.bdc019a0.js"><link rel="prefetch" href="/note/assets/js/156.1eb02576.js"><link rel="prefetch" href="/note/assets/js/157.7dc284af.js"><link rel="prefetch" href="/note/assets/js/158.d0e23bbe.js"><link rel="prefetch" href="/note/assets/js/159.cc2e9cae.js"><link rel="prefetch" href="/note/assets/js/16.fe892bc6.js"><link rel="prefetch" href="/note/assets/js/160.ab6aec17.js"><link rel="prefetch" href="/note/assets/js/161.51113cf1.js"><link rel="prefetch" href="/note/assets/js/162.3735fa5a.js"><link rel="prefetch" href="/note/assets/js/163.2bbe9891.js"><link rel="prefetch" href="/note/assets/js/164.09fe01ba.js"><link rel="prefetch" href="/note/assets/js/165.acdc7887.js"><link rel="prefetch" href="/note/assets/js/166.f35878e8.js"><link rel="prefetch" href="/note/assets/js/167.f2a924c1.js"><link rel="prefetch" href="/note/assets/js/168.49a5156a.js"><link rel="prefetch" href="/note/assets/js/169.37dffe7d.js"><link rel="prefetch" href="/note/assets/js/17.1a65396b.js"><link rel="prefetch" href="/note/assets/js/170.95a174e1.js"><link rel="prefetch" href="/note/assets/js/171.48ec050b.js"><link rel="prefetch" href="/note/assets/js/172.1a449136.js"><link rel="prefetch" href="/note/assets/js/173.b042e8e2.js"><link rel="prefetch" href="/note/assets/js/174.44dd9857.js"><link rel="prefetch" href="/note/assets/js/175.0eae6f38.js"><link rel="prefetch" href="/note/assets/js/176.e7a0aab8.js"><link rel="prefetch" href="/note/assets/js/177.fb2b493c.js"><link rel="prefetch" href="/note/assets/js/178.378fd43a.js"><link rel="prefetch" href="/note/assets/js/179.490584ee.js"><link rel="prefetch" href="/note/assets/js/18.af147209.js"><link rel="prefetch" href="/note/assets/js/180.b1c81b5d.js"><link rel="prefetch" href="/note/assets/js/181.dbebfafa.js"><link rel="prefetch" href="/note/assets/js/182.62a84f3e.js"><link rel="prefetch" href="/note/assets/js/183.5e5a78dd.js"><link rel="prefetch" href="/note/assets/js/184.0a59da2d.js"><link rel="prefetch" href="/note/assets/js/185.88a6670c.js"><link rel="prefetch" href="/note/assets/js/186.4697aaf7.js"><link rel="prefetch" href="/note/assets/js/187.480b8108.js"><link rel="prefetch" href="/note/assets/js/188.4141b789.js"><link rel="prefetch" href="/note/assets/js/189.5a64163c.js"><link rel="prefetch" href="/note/assets/js/19.c6db8c80.js"><link rel="prefetch" href="/note/assets/js/190.acb1369a.js"><link rel="prefetch" href="/note/assets/js/191.94a3b042.js"><link rel="prefetch" href="/note/assets/js/192.66fa57a0.js"><link rel="prefetch" href="/note/assets/js/193.38728d50.js"><link rel="prefetch" href="/note/assets/js/194.c6a218d1.js"><link rel="prefetch" href="/note/assets/js/195.ac5c3621.js"><link rel="prefetch" href="/note/assets/js/196.b403c248.js"><link rel="prefetch" href="/note/assets/js/197.dc2fdc3e.js"><link rel="prefetch" href="/note/assets/js/198.9fc8a642.js"><link rel="prefetch" href="/note/assets/js/199.a2d0b122.js"><link rel="prefetch" href="/note/assets/js/2.23574326.js"><link rel="prefetch" href="/note/assets/js/20.e0847784.js"><link rel="prefetch" href="/note/assets/js/200.4f64dd0d.js"><link rel="prefetch" href="/note/assets/js/201.bf85ae0a.js"><link rel="prefetch" href="/note/assets/js/21.59ca2081.js"><link rel="prefetch" href="/note/assets/js/22.c5de56ad.js"><link rel="prefetch" href="/note/assets/js/23.0ca72332.js"><link rel="prefetch" href="/note/assets/js/24.40dcfa48.js"><link rel="prefetch" href="/note/assets/js/25.3a8dbd37.js"><link rel="prefetch" href="/note/assets/js/26.e170720a.js"><link rel="prefetch" href="/note/assets/js/27.d7b3a8b3.js"><link rel="prefetch" href="/note/assets/js/28.b6211836.js"><link rel="prefetch" href="/note/assets/js/29.8989bc0b.js"><link rel="prefetch" href="/note/assets/js/30.c1441795.js"><link rel="prefetch" href="/note/assets/js/31.535e7227.js"><link rel="prefetch" href="/note/assets/js/32.c085da5e.js"><link rel="prefetch" href="/note/assets/js/33.94e31849.js"><link rel="prefetch" href="/note/assets/js/34.2a0a7c0e.js"><link rel="prefetch" href="/note/assets/js/35.ea577ebe.js"><link rel="prefetch" href="/note/assets/js/36.3e4ca0e9.js"><link rel="prefetch" href="/note/assets/js/37.457851b2.js"><link rel="prefetch" href="/note/assets/js/38.58391346.js"><link rel="prefetch" href="/note/assets/js/39.314e2c1c.js"><link rel="prefetch" href="/note/assets/js/4.07bcf00c.js"><link rel="prefetch" href="/note/assets/js/40.7a4992e6.js"><link rel="prefetch" href="/note/assets/js/41.782aced9.js"><link rel="prefetch" href="/note/assets/js/42.be7cf586.js"><link rel="prefetch" href="/note/assets/js/43.56b5a4ed.js"><link rel="prefetch" href="/note/assets/js/44.8d44debe.js"><link rel="prefetch" href="/note/assets/js/45.05492c10.js"><link rel="prefetch" href="/note/assets/js/46.313f9714.js"><link rel="prefetch" href="/note/assets/js/47.2bd35de7.js"><link rel="prefetch" href="/note/assets/js/48.8b399041.js"><link rel="prefetch" href="/note/assets/js/49.2bdcefce.js"><link rel="prefetch" href="/note/assets/js/5.6a1f7866.js"><link rel="prefetch" href="/note/assets/js/50.66e24588.js"><link rel="prefetch" href="/note/assets/js/51.82aab1fa.js"><link rel="prefetch" href="/note/assets/js/53.2d8059eb.js"><link rel="prefetch" href="/note/assets/js/54.6206fc19.js"><link rel="prefetch" href="/note/assets/js/55.33b69640.js"><link rel="prefetch" href="/note/assets/js/56.474fe548.js"><link rel="prefetch" href="/note/assets/js/57.cb986845.js"><link rel="prefetch" href="/note/assets/js/58.9bb3e465.js"><link rel="prefetch" href="/note/assets/js/59.2dd021c8.js"><link rel="prefetch" href="/note/assets/js/6.7d4ce126.js"><link rel="prefetch" href="/note/assets/js/60.3a37f110.js"><link rel="prefetch" href="/note/assets/js/61.7903290c.js"><link rel="prefetch" href="/note/assets/js/62.f5225b69.js"><link rel="prefetch" href="/note/assets/js/63.2c341744.js"><link rel="prefetch" href="/note/assets/js/64.5eb61b5c.js"><link rel="prefetch" href="/note/assets/js/65.261994ad.js"><link rel="prefetch" href="/note/assets/js/66.c8747b66.js"><link rel="prefetch" href="/note/assets/js/67.17352922.js"><link rel="prefetch" href="/note/assets/js/68.261de6ca.js"><link rel="prefetch" href="/note/assets/js/69.6bd4de47.js"><link rel="prefetch" href="/note/assets/js/7.83ae24aa.js"><link rel="prefetch" href="/note/assets/js/70.8229f00c.js"><link rel="prefetch" href="/note/assets/js/71.c823ec99.js"><link rel="prefetch" href="/note/assets/js/72.eaedac79.js"><link rel="prefetch" href="/note/assets/js/73.77d37587.js"><link rel="prefetch" href="/note/assets/js/74.6590f027.js"><link rel="prefetch" href="/note/assets/js/76.a1a73fa8.js"><link rel="prefetch" href="/note/assets/js/77.7e91101d.js"><link rel="prefetch" href="/note/assets/js/78.5decad8d.js"><link rel="prefetch" href="/note/assets/js/79.873d4d76.js"><link rel="prefetch" href="/note/assets/js/8.0568bdf3.js"><link rel="prefetch" href="/note/assets/js/80.3399e7ac.js"><link rel="prefetch" href="/note/assets/js/81.1a517606.js"><link rel="prefetch" href="/note/assets/js/82.4b2ad5a6.js"><link rel="prefetch" href="/note/assets/js/83.f12aef98.js"><link rel="prefetch" href="/note/assets/js/84.72db6940.js"><link rel="prefetch" href="/note/assets/js/85.fdda2491.js"><link rel="prefetch" href="/note/assets/js/86.a1b519c5.js"><link rel="prefetch" href="/note/assets/js/87.2aa0d10a.js"><link rel="prefetch" href="/note/assets/js/88.d585344e.js"><link rel="prefetch" href="/note/assets/js/89.46a6bd7d.js"><link rel="prefetch" href="/note/assets/js/9.a5aff2ef.js"><link rel="prefetch" href="/note/assets/js/90.a666a016.js"><link rel="prefetch" href="/note/assets/js/91.536ac0ea.js"><link rel="prefetch" href="/note/assets/js/92.3c07d1c5.js"><link rel="prefetch" href="/note/assets/js/93.5fbaaa0c.js"><link rel="prefetch" href="/note/assets/js/94.d9d49225.js"><link rel="prefetch" href="/note/assets/js/95.0c6ceb62.js"><link rel="prefetch" href="/note/assets/js/96.be43da0f.js"><link rel="prefetch" href="/note/assets/js/97.311eb161.js"><link rel="prefetch" href="/note/assets/js/98.658de69e.js"><link rel="prefetch" href="/note/assets/js/99.f19faecb.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.747e5b72.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/angular/基础.html" class="nav-link">
  angular
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/js-gc/数据类型.html" class="nav-link">
  红宝书
</a></div><div class="nav-item"><a href="/note/interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div><div class="nav-item"><a href="/note/js-algorithm/栈.html" class="nav-link">
  算法与数据结构
</a></div><div class="nav-item"><a href="/note/PerformanceOptimization/指标以及工具.html" class="nav-link">
  性能优化
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/angular/基础.html" class="nav-link">
  angular
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/js-gc/数据类型.html" class="nav-link">
  红宝书
</a></div><div class="nav-item"><a href="/note/interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div><div class="nav-item"><a href="/note/js-algorithm/栈.html" class="nav-link">
  算法与数据结构
</a></div><div class="nav-item"><a href="/note/PerformanceOptimization/指标以及工具.html" class="nav-link">
  性能优化
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/javascript/知识体系.html" class="sidebar-link">知识体系</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/javascript/作用域跟闭包..html" class="sidebar-link">作用域跟闭包.</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/作用域跟闭包..html#作用域跟闭包" class="sidebar-link">作用域跟闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/作用域跟闭包..html#作用域和自由变量" class="sidebar-link">作用域和自由变量</a></li><li class="sidebar-sub-header"><a href="/note/javascript/作用域跟闭包..html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/note/javascript/作用域跟闭包..html#var-、let、const-区别" class="sidebar-link">var 、let、const 区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/作用域跟闭包..html#bind-、call、apply-的区别" class="sidebar-link">bind 、call、apply 的区别</a></li></ul></li></ul></li><li><a href="/note/javascript/值类型、引用类型、深拷贝.html" class="sidebar-link">值类型、引用类型、深拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/值类型、引用类型、深拷贝.html#值类型和引用类型" class="sidebar-link">值类型和引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/值类型、引用类型、深拷贝.html#常见的值类型" class="sidebar-link">常见的值类型</a></li><li class="sidebar-sub-header"><a href="/note/javascript/值类型、引用类型、深拷贝.html#常见的引用类型" class="sidebar-link">常见的引用类型</a></li><li class="sidebar-sub-header"><a href="/note/javascript/值类型、引用类型、深拷贝.html#typeof-能判断哪些类型" class="sidebar-link">typeof 能判断哪些类型</a></li><li class="sidebar-sub-header"><a href="/note/javascript/值类型、引用类型、深拷贝.html#深拷贝" class="sidebar-link">深拷贝</a></li></ul></li></ul></li><li><a href="/note/javascript/类型转换.html" class="sidebar-link">类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/类型转换.html#类型转换" class="sidebar-link">类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/类型转换.html#字符串拼接" class="sidebar-link">字符串拼接</a></li><li class="sidebar-sub-header"><a href="/note/javascript/类型转换.html#" class="sidebar-link">==</a></li><li class="sidebar-sub-header"><a href="/note/javascript/类型转换.html#if-语句和逻辑运算" class="sidebar-link">if 语句和逻辑运算</a></li></ul></li></ul></li><li><a href="/note/javascript/class、原型与原型链.html" class="sidebar-link">class、原型与原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#原型与原型链" class="sidebar-link">原型与原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#class" class="sidebar-link">class</a></li><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#原型" class="sidebar-link">原型</a></li><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#原型关系" class="sidebar-link">原型关系</a></li><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#如何准确判断一个变量是不是数组" class="sidebar-link">如何准确判断一个变量是不是数组</a></li><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#手写一个简易的-jquery-考虑插件和扩展性" class="sidebar-link">手写一个简易的 jQuery，考虑插件和扩展性</a></li><li class="sidebar-sub-header"><a href="/note/javascript/class、原型与原型链.html#class-的原型本质-怎么理解" class="sidebar-link">class 的原型本质，怎么理解</a></li></ul></li></ul></li><li><a href="/note/javascript/this.html" class="sidebar-link">this</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/this.html#this" class="sidebar-link">this</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/this.html#this-的确定" class="sidebar-link">this 的确定</a></li><li class="sidebar-sub-header"><a href="/note/javascript/this.html#手写-bind-函数" class="sidebar-link">手写 bind 函数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/this.html#实例-创建-10-个-a-标签-点击的时候弹出来对应的序号" class="sidebar-link">实例：创建 10 个 a 标签，点击的时候弹出来对应的序号</a></li><li class="sidebar-sub-header"><a href="/note/javascript/this.html#this-指向" class="sidebar-link">this 指向</a></li><li class="sidebar-sub-header"><a href="/note/javascript/this.html#new-操作符" class="sidebar-link">new 操作符</a></li><li class="sidebar-sub-header"><a href="/note/javascript/this.html#this-优先级" class="sidebar-link">this 优先级</a></li><li class="sidebar-sub-header"><a href="/note/javascript/this.html#let、const" class="sidebar-link">let、const</a></li></ul></li></ul></li><li><a href="/note/javascript/同步跟异步.html" class="sidebar-link">同步跟异步</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/同步跟异步.html#异步和单线程" class="sidebar-link">异步和单线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/同步跟异步.html#题目" class="sidebar-link">题目</a></li></ul></li></ul></li><li><a href="/note/javascript/es6.html" aria-current="page" class="active sidebar-link">es6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#es6-新增内容" class="sidebar-link">es6 新增内容</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_1-变量" class="sidebar-link">1. 变量</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_2-箭头函数" class="sidebar-link">2. 箭头函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_2-1-优点" class="sidebar-link">2.1 优点：</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_2-2-箭头函数的局限性" class="sidebar-link">2.2 箭头函数的局限性：</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_3-es6-参数默认值" class="sidebar-link">3. ES6 参数默认值</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_4-模板字符串" class="sidebar-link">4. 模板字符串</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_5-对象解构" class="sidebar-link">5. 对象解构</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_6-数组解构" class="sidebar-link">6. 数组解构</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_7-for-of-用法" class="sidebar-link">7. for of 用法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_8-array-from-array-of" class="sidebar-link">8. Array.from()  Array.of()</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_8-1-array-from" class="sidebar-link">8.1 Array.from()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_8-2-array-of" class="sidebar-link">8.2 Array.of()</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_9-数组的其他方法" class="sidebar-link">9. 数组的其他方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_9-1-find" class="sidebar-link">9.1 .find()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_9-2-findindex" class="sidebar-link">9.2 .findIndex()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_9-3-some" class="sidebar-link">9.3 .some()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_9-4-every" class="sidebar-link">9.4 .every()</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_10-剩余参数" class="sidebar-link">10. 剩余参数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_11-扩展运算符" class="sidebar-link">11. 扩展运算符</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_12-对象的计算属性" class="sidebar-link">12. 对象的计算属性</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_13-es6-的-promise-对象" class="sidebar-link">13. ES6  的 Promise 对象</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_14-symbol" class="sidebar-link">14. Symbol</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#对象新增" class="sidebar-link">对象新增</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#深拷贝与浅拷贝" class="sidebar-link">深拷贝与浅拷贝</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#浅拷贝" class="sidebar-link">浅拷贝</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_15-eslint" class="sidebar-link">15. ESLint</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_16-import-export" class="sidebar-link">16. import  export</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_17-使用-systemjs-进行打包" class="sidebar-link">17. 使用 SystemJS 进行打包</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_18-class" class="sidebar-link">18. Class</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_18-1-class基本用法" class="sidebar-link">18.1 Class基本用法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_18-2-class的扩展" class="sidebar-link">18.2 Class的扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_18-3-class-进行扩展内建对象" class="sidebar-link">18.3 Class 进行扩展内建对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_19-proxy" class="sidebar-link">19. Proxy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#get-拦截操作" class="sidebar-link">get 拦截操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#set-拦截操作" class="sidebar-link">set 拦截操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#has-拦截-in-操作符-拦截操作" class="sidebar-link">has (拦截 in 操作符) 拦截操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#ownkeys-拦截操作" class="sidebar-link">ownKeys 拦截操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#deleteproperty-拦截操作" class="sidebar-link">deleteProperty 拦截操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#apply-拦截操作" class="sidebar-link">apply 拦截操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#construct-拦截操作" class="sidebar-link">construct 拦截操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_20-set" class="sidebar-link">20. Set</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#应用" class="sidebar-link">应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_21-map" class="sidebar-link">21. Map</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_22-函数的参数" class="sidebar-link">22. 函数的参数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_23-字符串的扩展" class="sidebar-link">23. 字符串的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#unicode-表示法" class="sidebar-link">Unicode 表示法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#字符串的遍历器接口" class="sidebar-link">字符串的遍历器接口</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#带标签的模板字符串" class="sidebar-link">带标签的模板字符串</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#扩展方法" class="sidebar-link">扩展方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#_24-正则表达式的扩展" class="sidebar-link">24. 正则表达式的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#y-修饰符-粘连修饰符" class="sidebar-link">y 修饰符（粘连修饰符）</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#u-修饰符" class="sidebar-link">u 修饰符</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#数值的扩展" class="sidebar-link">数值的扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#进制转换" class="sidebar-link">进制转换</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#新增方法" class="sidebar-link">新增方法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#math-扩展" class="sidebar-link">Math 扩展</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#reflect" class="sidebar-link">Reflect</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#设计目的" class="sidebar-link">设计目的</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#常用方法" class="sidebar-link">常用方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#generator" class="sidebar-link">Generator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#yield-表达式" class="sidebar-link">yield 表达式</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#应用场景" class="sidebar-link">应用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es6.html#iterator" class="sidebar-link">Iterator</a></li></ul></li><li><a href="/note/javascript/es7-11.html" class="sidebar-link">es7-11</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#es7-11-新增内容" class="sidebar-link">ES7~11 新增内容</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#es7-相关" class="sidebar-link">ES7 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#array-prototype-includes" class="sidebar-link">Array.prototype.includes()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#幂运算符" class="sidebar-link">幂运算符**</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#es8-相关" class="sidebar-link">ES8 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#async-await" class="sidebar-link">async / await</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#object-扩展" class="sidebar-link">Object 扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#string-扩展" class="sidebar-link">String 扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#尾逗号-trailing-commas" class="sidebar-link">尾逗号 Trailing commas</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#es9-相关" class="sidebar-link">ES9 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#for-await-of" class="sidebar-link">for await of</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#regexp-updates-正则扩展" class="sidebar-link">RegExp Updates 正则扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#object-rest-spread-对象扩展" class="sidebar-link">Object Rest &amp; Spread 对象扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#promise-prototype-finally" class="sidebar-link">Promise.prototype.finally()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#字符串扩展" class="sidebar-link">字符串扩展</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#es10-相关" class="sidebar-link">ES10 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#object-fromentries" class="sidebar-link">Object.fromEntries()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#string-扩展-2" class="sidebar-link">String 扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#array-扩展" class="sidebar-link">Array 扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#修订-function-prototype-tostring" class="sidebar-link">修订 Function.prototype.toString()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#可选的-catch-binding" class="sidebar-link">可选的 Catch Binding</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#json-扩展" class="sidebar-link">JSON 扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#symbol-扩展" class="sidebar-link">Symbol 扩展</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#es11-相关" class="sidebar-link">ES11 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#string-扩展-3" class="sidebar-link">String 扩展</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#dynamic-import" class="sidebar-link">Dynamic Import</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#bigint" class="sidebar-link">BigInt</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#promise-allsettled" class="sidebar-link">Promise.allSettled()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#globalthis" class="sidebar-link">globalThis</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#可选链-optional-chaining" class="sidebar-link">可选链 Optional chaining</a></li><li class="sidebar-sub-header"><a href="/note/javascript/es7-11.html#空值合并运算符-nullish-coalescing-operator" class="sidebar-link">空值合并运算符（Nullish coalescing Operator）</a></li></ul></li></ul></li><li><a href="/note/javascript/存储.html" class="sidebar-link">存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/存储.html#存储" class="sidebar-link">存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/存储.html#cookie" class="sidebar-link">cookie</a></li><li class="sidebar-sub-header"><a href="/note/javascript/存储.html#localstorage-和-sessionstorage" class="sidebar-link">localStorage 和 sessionStorage</a></li></ul></li></ul></li><li><a href="/note/javascript/事件.html" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/事件.html#事件" class="sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/事件.html#事件绑定" class="sidebar-link">事件绑定</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件.html#事件冒泡" class="sidebar-link">事件冒泡</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件.html#事件代理" class="sidebar-link">事件代理</a></li></ul></li></ul></li><li><a href="/note/javascript/页面加载和渲染过程.html" class="sidebar-link">页面加载和渲染过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/页面加载和渲染过程.html#页面加载和渲染过程" class="sidebar-link">页面加载和渲染过程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/页面加载和渲染过程.html#加载过程" class="sidebar-link">加载过程</a></li><li class="sidebar-sub-header"><a href="/note/javascript/页面加载和渲染过程.html#渲染过程" class="sidebar-link">渲染过程</a></li><li class="sidebar-sub-header"><a href="/note/javascript/页面加载和渲染过程.html#window-onload-和-domcontentloaded" class="sidebar-link">window.onload 和 DOMContentLoaded</a></li></ul></li></ul></li><li><a href="/note/javascript/性能优化.html" class="sidebar-link">性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/性能优化.html#性能优化" class="sidebar-link">性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/性能优化.html#性能优化原则" class="sidebar-link">性能优化原则</a></li><li class="sidebar-sub-header"><a href="/note/javascript/性能优化.html#让加载更快" class="sidebar-link">让加载更快</a></li><li class="sidebar-sub-header"><a href="/note/javascript/性能优化.html#让渲染更快" class="sidebar-link">让渲染更快</a></li></ul></li></ul></li><li><a href="/note/javascript/防抖节流.html" class="sidebar-link">防抖节流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/防抖节流.html#防抖、节流" class="sidebar-link">防抖、节流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/防抖节流.html#防抖-debounce" class="sidebar-link">防抖 debounce</a></li><li class="sidebar-sub-header"><a href="/note/javascript/防抖节流.html#节流-throttle" class="sidebar-link">节流 throttle</a></li></ul></li></ul></li><li><a href="/note/javascript/安全.html" class="sidebar-link">安全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/安全.html#安全" class="sidebar-link">安全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/安全.html#xss-攻击" class="sidebar-link">XSS 攻击</a></li><li class="sidebar-sub-header"><a href="/note/javascript/安全.html#xsrf-攻击" class="sidebar-link">XSRF 攻击</a></li></ul></li></ul></li><li><a href="/note/javascript/ajax.html" class="sidebar-link">ajax</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/ajax.html#ajax" class="sidebar-link">ajax</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/ajax.html#xmlhttprequest" class="sidebar-link">XMLHttpRequest</a></li><li class="sidebar-sub-header"><a href="/note/javascript/ajax.html#状态码" class="sidebar-link">状态码</a></li><li class="sidebar-sub-header"><a href="/note/javascript/ajax.html#跨域-同源策略-跨域解决方案" class="sidebar-link">跨域：同源策略，跨域解决方案</a></li><li class="sidebar-sub-header"><a href="/note/javascript/ajax.html#问题" class="sidebar-link">问题</a></li><li class="sidebar-sub-header"><a href="/note/javascript/ajax.html#git" class="sidebar-link">git</a></li></ul></li></ul></li><li><a href="/note/javascript/js-web-API.html" class="sidebar-link">js-web-API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js-web-API.html#js-web-api" class="sidebar-link">JS Web API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js-web-API.html#dom-节点操作" class="sidebar-link">DOM 节点操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js-web-API.html#dom-是哪种数据结构" class="sidebar-link">DOM 是哪种数据结构</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js-web-API.html#dom-操作的常用-api" class="sidebar-link">DOM 操作的常用 API</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js-web-API.html#attr-和-property-的区别" class="sidebar-link">attr 和 property 的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js-web-API.html#dom-性能" class="sidebar-link">DOM 性能</a></li></ul></li></ul></li><li><a href="/note/javascript/linux.html" class="sidebar-link">linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/linux.html#linux-简单操作" class="sidebar-link">linux 简单操作</a></li></ul></li><li><a href="/note/javascript/基础面试题.html" class="sidebar-link">基础面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#js" class="sidebar-link">js</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#实现一个判断两个值是否相等" class="sidebar-link">实现一个判断两个值是否相等</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#数组的-pop-push-unshift-shift-分别是什么" class="sidebar-link">数组的 pop push unshift shift 分别是什么</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#数组的-api-有哪些是纯函数" class="sidebar-link">数组的 API 有哪些是纯函数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#数组-slice-和-splice-区别" class="sidebar-link">数组 slice 和 splice 区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#_10-20-30-map-parseint" class="sidebar-link">[10, 20, 30].map(parseInt)</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#new-object-和-object-create-区别" class="sidebar-link">new Object() 和 Object.create 区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#手写字符串-trim-保证浏览器兼容性" class="sidebar-link">手写字符串 trim 保证浏览器兼容性</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#获取多个数字中的最大值" class="sidebar-link">获取多个数字中的最大值</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#如何捕获-js-中的异常" class="sidebar-link">如何捕获 JS 中的异常</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#获取当前页面-url-参数" class="sidebar-link">获取当前页面 url 参数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#将-url-参数解析为-js-对象" class="sidebar-link">将 URL 参数解析为 JS 对象</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#手写-flatern-考虑多层级" class="sidebar-link">手写 flatern 考虑多层级</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#数组去重" class="sidebar-link">数组去重</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/note/javascript/基础面试题.html#介绍-raf-requestanimationframe" class="sidebar-link">介绍 RAF requestAnimationFrame</a></li></ul></li></ul></li><li><a href="/note/javascript/前端笔记.html" class="sidebar-link">前端笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_1-js-的对象" class="sidebar-link">1. JS 的对象</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_2-await-与-async" class="sidebar-link">2. await 与 async</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_3-js-数据" class="sidebar-link">3. JS 数据</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-js-知识" class="sidebar-link">4. JS 知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-1-基本类型" class="sidebar-link">4.1 基本类型：</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-2-typeof-与-instanceof" class="sidebar-link">4.2 typeof 与 instanceof</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-3-for-of-for-in-和-foreach-map-的区别" class="sidebar-link">4.3  for of，for in 和 forEach，map 的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-4-箭头函数" class="sidebar-link">4.4  箭头函数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-5-词法作用域" class="sidebar-link">4.5 词法作用域</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-6-call与apply、bind-函数" class="sidebar-link">4.6 call与apply、bind 函数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-7-this的指向" class="sidebar-link">4.7 this的指向</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-8-promise" class="sidebar-link">4.8 Promise</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-9-async-await" class="sidebar-link">4.9 async/await</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-10-作用域" class="sidebar-link">4.10 作用域</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-11-this指向" class="sidebar-link">4.11 this指向</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-12-闭包-closure" class="sidebar-link">4.12 闭包(closure)</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-13-原型链" class="sidebar-link">4.13 原型链</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-14-几种继承方式" class="sidebar-link">4.14 几种继承方式</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-15-js-的暂时性死区" class="sidebar-link">4.15 js 的暂时性死区</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-16-es6-中的-map-对象跟原生的对象之间的区别" class="sidebar-link">4.16 ES6 中的 map 对象跟原生的对象之间的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-17-es6-中的-set-对象" class="sidebar-link">4.17 ES6 中的 Set 对象</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-18-事件的捕获与冒泡" class="sidebar-link">4.18 事件的捕获与冒泡</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-19-数组与对象的深拷贝" class="sidebar-link">4.19 数组与对象的深拷贝</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_4-12-实现队列与堆栈" class="sidebar-link">4.12 实现队列与堆栈</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-vue相关" class="sidebar-link">5. vue相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-1-vue-cli" class="sidebar-link">5.1 vue-cli</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-2-vue-router-中-hash-模式与-history-模式的对比" class="sidebar-link">5.2 vue-router 中 hash 模式与 history 模式的对比</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-3-组件之间的调用" class="sidebar-link">5.3 组件之间的调用</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-4-对mvvm的理解" class="sidebar-link">5.4 对MVVM的理解</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-5-vue等单页面应用及优缺点" class="sidebar-link">5.5 vue等单页面应用及优缺点</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-6-route和router的区别" class="sidebar-link">5.6 route和router的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-7-vue-router的routes中name属性作用详解" class="sidebar-link">5.7 vue-router的routes中name属性作用详解</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-8-vue的声明周期" class="sidebar-link">5.8 vue的声明周期</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-9-vue如何自定义一个过滤器" class="sidebar-link">5.9 vue如何自定义一个过滤器</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-10-computed和watch区别" class="sidebar-link">5.10 computed和watch区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-11-extend能做什么" class="sidebar-link">5.11 extend能做什么</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-12-mixin和mixins区别" class="sidebar-link">5.12 mixin和mixins区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-13-如何使用vue-nexttick" class="sidebar-link">5.13 如何使用vue.nextTick()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-14-transition-过渡的实现原理" class="sidebar-link">5.14 transition 过渡的实现原理</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-15-非父子组件通讯" class="sidebar-link">5.15 非父子组件通讯</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-16-vue-router" class="sidebar-link">5.16 vue-Router</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-17-vuex中的mapstate、mapmutation、mapactions" class="sidebar-link">5.17 vuex中的mapState、mapMutation、mapActions</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_5-18-vue的双向数据绑定原理的理解" class="sidebar-link">5.18 vue的双向数据绑定原理的理解</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_6-数据结构" class="sidebar-link">6. 数据结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_6-1-数组与链表的区别" class="sidebar-link">6.1 数组与链表的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_6-2-堆与栈" class="sidebar-link">6.2 堆与栈</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-其他" class="sidebar-link">7. 其他</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-1-es5-实现定义常量" class="sidebar-link">7.1 es5 实现定义常量</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-3-javascript实现前端路由" class="sidebar-link">7.3 JavaScript实现前端路由</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-2-const-声明的变量不可以改变-声明的对象属性为何可以改变" class="sidebar-link">7.2 const 声明的变量不可以改变，声明的对象属性为何可以改变</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-3-jquery-与-vue之间的对比" class="sidebar-link">7.3 jQuery 与 vue之间的对比</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-4-从输入url到看到页面发生的全过程" class="sidebar-link">7.4 从输入URL到看到页面发生的全过程</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-5-三次握手-四次挥手" class="sidebar-link">7.5 三次握手，四次挥手</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-6-数组去重" class="sidebar-link">7.6 数组去重</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-8-原生js无缝滚动效果的简单实现" class="sidebar-link">7.8 原生Js无缝滚动效果的简单实现</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-9-如何实现一个弹幕" class="sidebar-link">7.9 如何实现一个弹幕</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-10-js数组的堆与栈实现" class="sidebar-link">7.10 js数组的堆与栈实现</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_7-11-4-如果有成千上万个菜单-如何绑定点击事件" class="sidebar-link">7.11 4. 如果有成千上万个菜单，如何绑定点击事件</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_8-css-相关" class="sidebar-link">8 css 相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_8-1-实现元素的水平垂直居中" class="sidebar-link">8.1 实现元素的水平垂直居中</a></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_8-2-用伪类清除浮动" class="sidebar-link">8.2 用伪类清除浮动</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/前端笔记.html#_9-git" class="sidebar-link">9 git</a></li></ul></li><li><a href="/note/javascript/事件执行机制.html" class="sidebar-link">事件执行机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#javascript-事件执行机制" class="sidebar-link">JavaScript 事件执行机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#javascript-事件循环" class="sidebar-link">JavaScript 事件循环</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#settimeout" class="sidebar-link">setTimeout</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#setinterval" class="sidebar-link">setInterval</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#promise-与-process-nexttick-callback" class="sidebar-link">Promise 与 process.nextTick(callback)</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#settimeout-与-setimmediate" class="sidebar-link">setTimeout 与 setImmediate</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#宏任务、微任务" class="sidebar-link">宏任务、微任务</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#其他" class="sidebar-link">其他</a></li><li class="sidebar-sub-header"><a href="/note/javascript/事件执行机制.html#总结" class="sidebar-link">总结</a></li></ul></li></ul></li><li><a href="/note/javascript/资源合并与压缩.html" class="sidebar-link">资源合并与压缩</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/资源合并与压缩.html#http-请求的过程以及潜在的性能优化" class="sidebar-link">http 请求的过程以及潜在的性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/资源合并与压缩.html#html-压缩" class="sidebar-link">HTML 压缩</a></li><li class="sidebar-sub-header"><a href="/note/javascript/资源合并与压缩.html#css-压缩" class="sidebar-link">css 压缩</a></li><li class="sidebar-sub-header"><a href="/note/javascript/资源合并与压缩.html#js-压缩与混乱" class="sidebar-link">js 压缩与混乱</a></li><li class="sidebar-sub-header"><a href="/note/javascript/资源合并与压缩.html#文件合并" class="sidebar-link">文件合并</a></li></ul></li></ul></li><li><a href="/note/javascript/几种循环.html" class="sidebar-link">几种循环</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#for、foreach、for-of" class="sidebar-link">for、forEach、for ...of</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#some、every" class="sidebar-link">some、every</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#filter、map" class="sidebar-link">filter、map</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#find、findindex" class="sidebar-link">find、findIndex</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#reduce、reduceright" class="sidebar-link">reduce、reduceRight</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#计算对象数组某一属性的总和" class="sidebar-link">计算对象数组某一属性的总和</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#对象数组的去重-并统计每一项重复次数" class="sidebar-link">对象数组的去重，并统计每一项重复次数</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#对象数组最大-最小值获取" class="sidebar-link">对象数组最大/最小值获取</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#性能对比" class="sidebar-link">性能对比</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#对象属性遍历" class="sidebar-link">对象属性遍历</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#for-in" class="sidebar-link">for in</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#object-keys" class="sidebar-link">Object.keys</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#object-values" class="sidebar-link">Object.values</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#object-entries" class="sidebar-link">Object.entries</a></li><li class="sidebar-sub-header"><a href="/note/javascript/几种循环.html#object-getownpropertynames" class="sidebar-link">Object.getOwnPropertyNames</a></li></ul></li></ul></li><li><a href="/note/javascript/js相关面试.html" class="sidebar-link">js相关面试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#js-运行机制" class="sidebar-link">js 运行机制</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#闭包是什么-有什么应用场景" class="sidebar-link">闭包是什么，有什么应用场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#闭包是什么" class="sidebar-link">闭包是什么</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#闭包的应用场景" class="sidebar-link">闭包的应用场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#什么是发布订阅模式" class="sidebar-link">什么是发布订阅模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#观察者模式" class="sidebar-link">观察者模式</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#发布订阅模式" class="sidebar-link">发布订阅模式</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#如何解决跨域" class="sidebar-link">如何解决跨域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#jsonp-跨域" class="sidebar-link">JSONP 跨域</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#跨域资源共享-cors" class="sidebar-link">跨域资源共享（CORS）</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#nginx-代理跨域" class="sidebar-link">nginx 代理跨域</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#document-domain-iframe-跨域" class="sidebar-link">document.domain + iframe 跨域</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#websocket-协议跨域" class="sidebar-link">WebSocket 协议跨域</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#浏览器的缓存策略" class="sidebar-link">浏览器的缓存策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#缓存位置" class="sidebar-link">缓存位置</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#service-worker" class="sidebar-link">Service Worker</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#memory-cache" class="sidebar-link">Memory Cache</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#disk-cache" class="sidebar-link">Disk Cache</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#push-cache" class="sidebar-link">Push Cache</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#http-缓存机制" class="sidebar-link">HTTP 缓存机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#缓存的过程" class="sidebar-link">缓存的过程</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#强制缓存" class="sidebar-link">强制缓存</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#协商缓存" class="sidebar-link">协商缓存</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#总结" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#输入-url-后发生了什么" class="sidebar-link">输入 URL 后发生了什么</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#怎么模拟一个队列-有多少种方式" class="sidebar-link">怎么模拟一个队列，有多少种方式</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#实现一个-js-的反向链表" class="sidebar-link">实现一个 js 的反向链表</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#如果有一个列表非常长-分页后怎么做才能使得占据的内存最小" class="sidebar-link">如果有一个列表非常长，分页后怎么做才能使得占据的内存最小</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#this-的理解" class="sidebar-link">this 的理解</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#amd-cmd、commonjs-和-es6-的-esmodule-的区别" class="sidebar-link">AMD，CMD、CommonJS 和 es6 的 esmodule 的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#amd-requirejs" class="sidebar-link">AMD (requireJS)</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#cmd-seajs" class="sidebar-link">CMD (SeaJS)</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#commonjs" class="sidebar-link">CommonJS</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#es6-module" class="sidebar-link">ES6 Module</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#总结-2" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#commonjs-和-es6-module-的区别" class="sidebar-link">Commonjs 和 es6 module 的区别</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#原型链和原型" class="sidebar-link">原型链和原型</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#怎么实现一个-new" class="sidebar-link">怎么实现一个 new</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#localstorage-和-sessionstorage-和-cookie" class="sidebar-link">localstorage 和 sessionstorage 和 cookie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#使用方式" class="sidebar-link">使用方式</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#三者的异同" class="sidebar-link">三者的异同</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#能设置或读取子域的-cookie-吗" class="sidebar-link">能设置或读取子域的 cookie 吗?</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#同域-跨域-ajax-请求到底会不会带上-cookie" class="sidebar-link">同域/跨域 ajax 请求到底会不会带上 cookie?</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#纯-js-怎么实现当你需要一个-js-的时候再去加载" class="sidebar-link">纯 js 怎么实现当你需要一个 js 的时候再去加载</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#ts-的理解-优点和缺点" class="sidebar-link">ts 的理解，优点和缺点</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#泛型和接口的区别" class="sidebar-link">泛型和接口的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#移动端适配方案有哪几种" class="sidebar-link">移动端适配方案有哪几种</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#async-await-和-promise-之间优缺点" class="sidebar-link">async await 和 promise 之间优缺点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#async-await-优点" class="sidebar-link">async/await 优点</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#async-await-缺点" class="sidebar-link">async/await 缺点</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#promise-的一些问题" class="sidebar-link">promise 的一些问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#es6-中新增内容-symbol、proxy、object-is-、in、object-assign" class="sidebar-link">es6 中新增内容，symbol、proxy、Object.is(===)、in、Object.assign</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#object-is-与-区别" class="sidebar-link">Object.is 与 === 区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#in-运算符" class="sidebar-link">in 运算符</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#如何去重" class="sidebar-link">如何去重</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#双重循环" class="sidebar-link">双重循环</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#array-prototype-indexof" class="sidebar-link">Array.prototype.indexOf()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#array-prototype-sort" class="sidebar-link">Array.prototype.sort()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#array-prototype-includes" class="sidebar-link">Array.prototype.includes()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#array-prototype-reduce" class="sidebar-link">Array.prototype.reduce()</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#map" class="sidebar-link">Map</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#map、for-in、for-of、filter-等等区别" class="sidebar-link">map、for in、for of、filter 等等区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#深拷贝、浅拷贝、遇到循环引用如何处理" class="sidebar-link">深拷贝、浅拷贝、遇到循环引用如何处理</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#原型链、继承、作用域" class="sidebar-link">原型链、继承、作用域</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#async-await-执行顺序" class="sidebar-link">async/await 执行顺序</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#前端性能优化" class="sidebar-link">前端性能优化</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#fetch-api" class="sidebar-link">fetch api</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#dom-操作如何优化" class="sidebar-link">dom 操作如何优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#减少在循环内进行-dom-操作-在循环外部进行-dom-缓存" class="sidebar-link">减少在循环内进行 DOM 操作，在循环外部进行 DOM 缓存</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#操作-dom-前-先把-dom-节点删除或隐藏" class="sidebar-link">操作 DOM 前，先把 DOM 节点删除或隐藏</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#最小化重绘和重排" class="sidebar-link">最小化重绘和重排</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#减少访问" class="sidebar-link">减少访问</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#改变选择器" class="sidebar-link">改变选择器</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#事件委托" class="sidebar-link">事件委托</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#documentfragment" class="sidebar-link">DocumentFragment</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#如何计算首屏时间以及优化" class="sidebar-link">如何计算首屏时间以及优化</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#script-中-async-以及-defer" class="sidebar-link">script 中 async 以及 defer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#普通的-script-加载" class="sidebar-link">普通的 script 加载</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#defer-延迟脚本" class="sidebar-link">defer 延迟脚本</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#async-异步脚本" class="sidebar-link">async 异步脚本</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#总结-3" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#includes-与-indexof" class="sidebar-link">includes 与 indexOf</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#slice-与-splice-之前的区别" class="sidebar-link">slice 与 splice 之前的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#slice" class="sidebar-link">slice</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#splice" class="sidebar-link">splice</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#扩展运算符" class="sidebar-link">扩展运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#使用扩展运算符可以快速扁平化二维数组" class="sidebar-link">使用扩展运算符可以快速扁平化二维数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#indexdb" class="sidebar-link">indexDB</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#创建一个-indexeddb-数据库" class="sidebar-link">创建一个 indexedDB 数据库</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#创建一个对象仓库" class="sidebar-link">创建一个对象仓库</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#操作数据" class="sidebar-link">操作数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#javascript-空值合并操作符" class="sidebar-link">javaScript 空值合并操作符</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#qiankun-框架原理" class="sidebar-link">qiankun 框架原理</a></li><li class="sidebar-sub-header"><a href="/note/javascript/js相关面试.html#angular-数据双向绑定" class="sidebar-link">angular 数据双向绑定</a></li></ul></li><li><a href="/note/javascript/css面试.html" class="sidebar-link">css面试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#span-标签设置-inline-block-后加-width-和-height-能起作用么-加-padding-和-margin-呢" class="sidebar-link">span 标签设置 inline-block 后加 width 和 height 能起作用么，加 padding 和 margin 呢</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#visible、display-none、opacity-之间的区别" class="sidebar-link">visible、display:none、opacity 之间的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#display-none" class="sidebar-link">display: none</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#visibility-hidden" class="sidebar-link">visibility: hidden</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#opacity-0" class="sidebar-link">opacity: 0</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#盒子模型" class="sidebar-link">盒子模型</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#flex-以及如何实现响应式布局" class="sidebar-link">flex 以及如何实现响应式布局</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#清除浮动" class="sidebar-link">清除浮动</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#垂直居中布局" class="sidebar-link">垂直居中布局</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#css-动画" class="sidebar-link">css 动画</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#css-选择器" class="sidebar-link">css 选择器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#选择器语法" class="sidebar-link">选择器语法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#选择器优先级" class="sidebar-link">选择器优先级</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#重绘和重排" class="sidebar-link">重绘和重排</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#导致页面重排的一些操作" class="sidebar-link">导致页面重排的一些操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#导致页面重绘的操作" class="sidebar-link">导致页面重绘的操作</a></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#浏览器分析" class="sidebar-link">浏览器分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/css面试.html#css-有哪些属性是可以继承的" class="sidebar-link">css 有哪些属性是可以继承的</a></li></ul></li><li><a href="/note/javascript/vue相关面试.html" class="sidebar-link">vue相关面试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#谈谈-vue3-的-ref-和-reactive" class="sidebar-link">谈谈 vue3 的 ref 和 reactive</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-的组件传值如何实现" class="sidebar-link">vue 的组件传值如何实现</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-的响应式原理" class="sidebar-link">vue 的响应式原理</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#event-bus-如何实现" class="sidebar-link">event bus 如何实现</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-声明周期做的事情" class="sidebar-link">vue 声明周期做的事情</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#beforecreate" class="sidebar-link">beforeCreate</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#created" class="sidebar-link">created</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#beforemount" class="sidebar-link">beforeMount</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#mounted" class="sidebar-link">mounted</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#beforeupdate" class="sidebar-link">beforeUpdate</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#updated" class="sidebar-link">updated</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#beforedestroy" class="sidebar-link">beforeDestroy</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#destroyed" class="sidebar-link">destroyed</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#provide-inject-实现响应式数据更新" class="sidebar-link">provide/inject 实现响应式数据更新</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-如何实现-v-model" class="sidebar-link">vue 如何实现 v-model</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#什么是虚拟-dom" class="sidebar-link">什么是虚拟 DOM</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vuex-实现原理以及使用" class="sidebar-link">vuex 实现原理以及使用</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vuex-如何实现持久性存储" class="sidebar-link">vuex 如何实现持久性存储</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#v-if、v-show-实现原理" class="sidebar-link">v-if、v-show 实现原理；</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-router-的实现原理-各个模式" class="sidebar-link">vue-router 的实现原理；各个模式</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#nexttrick-如何实现" class="sidebar-link">nexttrick 如何实现</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-整个数据更新流程" class="sidebar-link">vue 整个数据更新流程；</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#object-defineproperty-注意。对数组有什么影响-vue2-为何不使用-proxy-api" class="sidebar-link">object.defineproperty 注意。对数组有什么影响，vue2 为何不使用；proxy API；</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#更新策略。以及虚拟-dom-等" class="sidebar-link">更新策略。以及虚拟 dom 等</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#与-react-相比-数据流向以及更新策略有何不同" class="sidebar-link">与 react 相比，数据流向以及更新策略有何不同</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-中父组件能否监听子组件的生命周期" class="sidebar-link">Vue 中父组件能否监听子组件的生命周期</a></li><li class="sidebar-sub-header"><a href="/note/javascript/vue相关面试.html#vue-父组件与子组件声明周期的执行顺序" class="sidebar-link">Vue 父组件与子组件声明周期的执行顺序</a></li></ul></li><li><a href="/note/javascript/react相关面试.html" class="sidebar-link">react相关面试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-的-key-值为什么那么重要-新版本-diff-是偏向算法还是策略-具体是怎么样的" class="sidebar-link">react 的 key 值为什么那么重要，新版本 diff 是偏向算法还是策略，具体是怎么样的</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react16-新特性分别有什么-起什么作用" class="sidebar-link">react16 新特性分别有什么，起什么作用</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-之前可以怎么进行state的监听-排除-useeffect-的依赖监听" class="sidebar-link">react 之前可以怎么进行state的监听（排除 useEffect 的依赖监听）</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-hooks-和高阶组件的理解" class="sidebar-link">react hooks 和高阶组件的理解</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#针对-react-有什么优化方案" class="sidebar-link">针对 react 有什么优化方案</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#除了-react-官方和-webpack-的优化-还有什么优化方案或者是注意要点" class="sidebar-link">除了 react 官方和 webpack 的优化，还有什么优化方案或者是注意要点</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-hooks-为什么不能在条件语句里面书写" class="sidebar-link">react hooks 为什么不能在条件语句里面书写</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-页面为何要引入-react" class="sidebar-link">react 页面为何要引入 react</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#setstate-为何存在异步" class="sidebar-link">setState 为何存在异步</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-优化" class="sidebar-link">react 优化</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-class-组件与-function-组件之间区别" class="sidebar-link">react class 组件与 function 组件之间区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-加入-hooks-的意义是什么-或者说一下为什么-react-要加入hooks-这一特性-最后举例说一下-hooks-的基本实现原理" class="sidebar-link">React 加入 Hooks 的意义是什么？或者说一下为什么 React 要加入Hooks 这一特性？最后举例说一下 Hooks 的基本实现原理；</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#hook-的基本用法" class="sidebar-link">hook 的基本用法</a></li><li class="sidebar-sub-header"><a href="/note/javascript/react相关面试.html#react-何时清除-effect" class="sidebar-link">React 何时清除 effect？</a></li></ul></li><li><a href="/note/javascript/node_http_webpack相关.html" class="sidebar-link">node_http_webpack相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack" class="sidebar-link">webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#基本配置" class="sidebar-link">基本配置</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack-有什么方案可以压缩体积和提高打包速度" class="sidebar-link">webpack 有什么方案可以压缩体积和提高打包速度</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack-热更新原理" class="sidebar-link">webpack 热更新原理</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack-如何实现跨域-domain、path-等设置" class="sidebar-link">webpack 如何实现跨域；domain、path 等设置</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack-做过哪些优化" class="sidebar-link">webpack 做过哪些优化；</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack-如何写一个-loader、plugin-等" class="sidebar-link">webpack 如何写一个 loader、plugin 等</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#webpack-打包原理" class="sidebar-link">webpack 打包原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#http" class="sidebar-link">http</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#_206-和-403-代表什么" class="sidebar-link">206 和 403 代表什么</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#http-相关-三次握手、四次挥手" class="sidebar-link">http 相关，三次握手、四次挥手</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#node" class="sidebar-link">node</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#express、koa2-之间的区别" class="sidebar-link">express、koa2 之间的区别</a></li><li class="sidebar-sub-header"><a href="/note/javascript/node_http_webpack相关.html#node-中间件实现、模块化" class="sidebar-link">node 中间件实现、模块化；</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="es6-新增内容"><a href="#es6-新增内容" class="header-anchor">#</a> es6 新增内容</h2> <p><img src="/note/assets/img/ES6.16341266.png" alt="在这里插入图片描述"></p> <h2 id="_1-变量"><a href="#_1-变量" class="header-anchor">#</a> 1. 变量</h2> <ul><li><p><code>var</code>声明的变量是<code>function scope</code>也就是在函数中可以访问到，并不是在大括号里面声明的，外层就访问不到。<code>let const</code>声明的变量都是<code>block scope</code>块级作用域，也就是在大括号里面可以访问到。</p></li> <li><p><code>let</code> 和 <code>const</code> 都不允许重复声明。他们两个都不可以在同一个作用域中进行重复声明，比如，在函数中声明的变量跟在函数外声明的同名的变量是不同的。<code>let</code> 定义的变量可以重新赋值，<code>const</code>是不可以的。</p></li> <li><p><code>const</code> 声明的对象，对象是一个引用类型的值，可以进行修改对象的属性。如果想要定义的对象的属性是不可以改变可以使用<code>es5</code>中的<code>Object.freeze()</code>这个方法：<code>const jelly = Object.freeze(person)</code></p></li> <li><p><code>let</code> 跟<code>const</code>都是存在暂时性死区的，也就是说；我们在声明前使用调用变量，会报<code>RefrenceError</code>的错误；而<code>var</code>声明的变量是没有的；这样，我们也可以养成习惯，在使用变量之前，进行声明。</p></li> <li><p><code>let</code> 与 <code>const</code> 避免了全局变量与顶层对象的属性挂钩。不再像 <code>var</code> 声明的变量一样挂载到 <code>window</code> 对象上；</p></li> <li><p><code>const</code> 只是不能修改变量所指的内存地址；<code>object.freeze</code> 方法只是浅冻结如果属性还是 <code>object</code>，不会进行冻结</p></li></ul> <h2 id="_2-箭头函数"><a href="#_2-箭头函数" class="header-anchor">#</a> 2. 箭头函数</h2> <h3 id="_2-1-优点"><a href="#_2-1-优点" class="header-anchor">#</a> 2.1 优点：</h3> <ul><li>简明语法</li> <li>可以隐式返回：也就是可以不使用<code>return</code>关键字进行返回；删除<code>{}</code>大括号。</li> <li>不绑定<code>this</code>：箭头函数没有自己的<code>this</code>值，他的<code>this</code>值是继承他的父级作用域的，<code>this</code>值是定义的时候就绑定了。</li> <li>箭头函数也是匿名函数，我们可以通过定义变量，等于箭头函数，当进行调用：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">gree</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">alert</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre></div><p>一个函数在他独立运行的时候，也就是说他没有作为对象的方法去调用，也没用<code>call</code>、<code>apply</code>等方法进行绑定；这里的数组里面<code>map</code>的回调函数就是一个独立运行的，所以他的<code>this</code>值是在运行的时候动态绑定的，绑定到了<code>window</code>对象上，所以不会获取到<code>name</code>值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jelly <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
  bobbies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'sleeping'</span><span class="token punctuation">,</span> <span class="token string">'coding'</span><span class="token punctuation">,</span> <span class="token string">'reading'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">print</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hobbies<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">hobby</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> loves </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hobby<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-2-箭头函数的局限性"><a href="#_2-2-箭头函数的局限性" class="header-anchor">#</a> 2.2 箭头函数的局限性：</h3> <ul><li>作为构造函数，一个方法需要绑定到对象：下面的代码。<code>Person</code>对象中使用箭头函数，并没有将<code>this</code>绑定到它本身。所以，这里需要使用原始的函数。下面的给原型绑定方法，同样也是，<code>this</code>指向的是父级的<code>this</code>所以指向<code>window</code>对象；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> points</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>points <span class="token operator">=</span> points<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> jelly <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span> <span class="token punctuation">(</span><span class="token string">'Jelly'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">updatePoints</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>points <span class="token operator">++</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>points<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>当你真的需要this的时候：下面代码的<code>this</code>指向的是调用<code>addEventListener</code>方法的对象；箭头函数的<code>this</code>是不会绑定的，所以这里的也还是<code>window</code>对象。<code>setTimeout</code>里面应该是使用箭头函数，来邦定<code>this</code>值在该作用域。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.zoom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'in'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'in'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>需要使用<code>arguments</code>对象：箭头函数中是没有<code>arguments</code>对象的。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevSum<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prevSum <span class="token operator">+</span> value<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>箭头函数不能作为构造函数来使用；</li> <li>this 指向定义时所在的对象，而不是调用时所在的对象；</li></ul> <h2 id="_3-es6-参数默认值"><a href="#_3-es6-参数默认值" class="header-anchor">#</a> 3. ES6 参数默认值</h2> <p>我们在函数中可以通过下面的方法进行设置默认参数值：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">5</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当我们需要第一个参数使用默认值的时候，这样<code>add(undeffined, 2)</code>这样，如果<code>add(1)</code>这样调用的话，第二个参数使用默认值。</p> <h2 id="_4-模板字符串"><a href="#_4-模板字符串" class="header-anchor">#</a> 4. 模板字符串</h2> <p><code>es6</code>中的模板字符串是可以嵌套的，以及在<code>${}</code>中可以直接调用方法。
还有一个标签模板字符串：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">highLight</span><span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> user<span class="token punctuation">,</span> topic</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'templa'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token string">'jie'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> topic <span class="token operator">=</span> <span class="token string">'learn es6'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sentence <span class="token operator">=</span> highLight<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> has commented on your topic </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>topic<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre></div><p>然后我们查看<code>sentence</code>，他就会返回标签模板字符串中返回的东西；
<img src="https://img-blog.csdnimg.cn/20190602110837804.png" alt="在这里插入图片描述">
对应标签模板字符串是有是三个参数的，<code>string, user, topic</code>第一个参数是返回模板字符串中默认内容；返回值是一个数组，如果不是以模板字符串传入的变量开头的，那数组的第一个不死空字符串；如上面代码中，返回的是[&quot; &quot;,<code>has commented on your topic</code>,&quot; &quot;]，然后后面的参数就是模板字符串中传入的变量。我们这里传入的是<code>${user}</code>跟<code>${topic}</code>，但是如果我们传入了很多的参数，这个时候我们可以使用<code>es6</code>的剩余参数：<code>...values</code>他是参数的数组，这样我们就获取到所有的参数。我们可以使用标签模板字符串，来返回我们想要的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">highLight</span><span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">debugger</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">'templa'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们可以使用标签模板字符串，去处理我们输入的参数，比如在留言板等功能中，为了防止<code>xss</code>攻击，我们可以通过模板字符串进行过滤用户输入的内容。可以使用第三方的包：<code>DOMPurify</code>进行过滤。</p> <h2 id="_5-对象解构"><a href="#_5-对象解构" class="header-anchor">#</a> 5. 对象解构</h2> <p>我们有一个对象如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Tom <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  family<span class="token operator">:</span> <span class="token punctuation">{</span>
    mother<span class="token operator">:</span> <span class="token string">'tom mother'</span><span class="token punctuation">,</span>
    father<span class="token operator">:</span> <span class="token string">'tom father'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们每次访问的时候，需要进行<code>Tom.name</code>这样进行访问，如果属性有很多的话，就比较麻烦，我们可以这样写：这样去访问他的属性</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">const</span> Tom <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  family<span class="token operator">:</span> <span class="token punctuation">{</span>
    mother<span class="token operator">:</span> <span class="token string">'tom mother'</span><span class="token punctuation">,</span>
    father<span class="token operator">:</span> <span class="token string">'tom father'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span>Tom
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
</code></pre></div><p>如果我们想要先声明变量，然后进行结构对象，可以如下面这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> Tom<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>对象解构也可以进行嵌套，如上面的代码，我们想要访问<code>family</code>属性，我们可以这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Tom <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  family<span class="token operator">:</span> <span class="token punctuation">{</span>
    mother<span class="token operator">:</span> <span class="token string">'tom mother'</span><span class="token punctuation">,</span>
    father<span class="token operator">:</span> <span class="token string">'tom father'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> father<span class="token punctuation">,</span> mother <span class="token punctuation">}</span> <span class="token operator">=</span>Tom<span class="token punctuation">.</span>family
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">)</span>
</code></pre></div><p>我们在解构的时候也可以进行重新命名，类似<code>sql</code>中的<code>as</code>；可以这样写：<code>father: f</code>这样，将<code>father</code>属性赋值给<code>f</code>变量。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Tom <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  family<span class="token operator">:</span> <span class="token punctuation">{</span>
    mother<span class="token operator">:</span> <span class="token string">'tom mother'</span><span class="token punctuation">,</span>
    father<span class="token operator">:</span> <span class="token string">'tom father'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> father<span class="token operator">:</span> f<span class="token punctuation">,</span> mother <span class="token punctuation">}</span> <span class="token operator">=</span>Tom<span class="token punctuation">.</span>family
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">)</span>
</code></pre></div><p>我们在对象解构的时候，也可以给解构后的变量赋予默认值，如果被解构的对象没有该属性为<code>undefined</code>，就使用我们的默认值，如下代码：<code>sister = 'haove no sister'</code>这样。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Tom <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  family<span class="token operator">:</span> <span class="token punctuation">{</span>
    mother<span class="token operator">:</span> <span class="token string">'tom mother'</span><span class="token punctuation">,</span>
    father<span class="token operator">:</span> <span class="token string">'tom father'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> father<span class="token operator">:</span> f<span class="token punctuation">,</span> mother<span class="token punctuation">,</span> sister <span class="token operator">=</span> <span class="token string">'haove no sister'</span> <span class="token punctuation">}</span> <span class="token operator">=</span>Tom<span class="token punctuation">.</span>family
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mother<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>father<span class="token punctuation">)</span>
</code></pre></div><p>如下面代码，经常会在封装一些插件中，会使用默认值：
<img src="https://img-blog.csdnimg.cn/20190602141028611.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p> <h2 id="_6-数组解构"><a href="#_6-数组解构" class="header-anchor">#</a> 6. 数组解构</h2> <p>数组的解构基本跟对象的解构类似：下面代码是解构了数组的第一项，跟第二项</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> two<span class="token punctuation">]</span> <span class="token operator">=</span> number<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> two<span class="token punctuation">)</span>
</code></pre></div><p>如果我们想回去第一个跟第三个：需要添加一个逗号进行分隔，流出第二个位置。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> <span class="token punctuation">,</span> two<span class="token punctuation">]</span> <span class="token operator">=</span> number<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> two<span class="token punctuation">)</span>
</code></pre></div><p>如果想要获取到第一个值，跟后面所有的值，我们可以使用扩展运算符，将剩余项组成一个数组：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> <span class="token operator">...</span>other<span class="token punctuation">]</span> <span class="token operator">=</span> number<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> other<span class="token punctuation">)</span>
</code></pre></div><p><code>rest</code>参数只能使最后一个，也就是说解析后面所有的，不能解析某一部分：<code>const [one, ...other, four] = number;</code>这样就会报错。</p> <p>数组的结构也可以进行赋予默认值：同样相应的值为<code>undefined</code>的时候，才会使用默认的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>one<span class="token punctuation">,</span> two<span class="token punctuation">,</span> three <span class="token operator">=</span> <span class="token string">'three'</span><span class="token punctuation">]</span> <span class="token operator">=</span> number<span class="token punctuation">;</span>
</code></pre></div><p>数组的解构的使用技巧可以用在交换两个变量的值：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-for-of-用法"><a href="#_7-for-of-用法" class="header-anchor">#</a> 7. for of 用法</h2> <p><code>forEach</code>循环不能终止循环，<code>for in</code>循环，循环的是<code>index</code>值，遍历的是变量的可枚举属性。即使是原型的属性也会进行循环出来。使用<code>for of</code>是循环的属性值：在循环中，也可以使用<code>break</code>进行中断循环。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>item <span class="token keyword">of</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>for of</code>循环还可以用于遍历数组的遍历器属性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token string">'two'</span><span class="token punctuation">,</span> <span class="token string">'three'</span><span class="token punctuation">,</span> <span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> fruit<span class="token punctuation">]</span> <span class="token keyword">of</span> number<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> number<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>for of</code>不支持对象的循环。可以应用于字符串：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> 'sddsdsd<span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> code <span class="token keyword">of</span> number<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>for of</code>循环还可以用于<code>nodeList</code>进行循环：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> li <span class="token keyword">of</span> lis<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  li<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//执行方法</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-array-from-array-of"><a href="#_8-array-from-array-of" class="header-anchor">#</a> 8. Array.from()  Array.of()</h2> <h3 id="_8-1-array-from"><a href="#_8-1-array-from" class="header-anchor">#</a> 8.1 Array.from()</h3> <p>这两个方法并不是数组原型的方法，我们需要通过<code>Array.from() Array.of()</code>这种去调用，而不是声明一个数组点上这个方法。<code>Array.from()</code>方法是将一个类素组对象转换为数组对象。类素组对象也就是拥有<code>length</code>属性的对象，<code>modeList</code>就是一个类数组对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> lisArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span>lis<span class="token punctuation">)</span>
<span class="token keyword">const</span> names <span class="token operator">=</span> lisArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">li</span> <span class="token operator">=&gt;</span> li<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span>
</code></pre></div><p><code>Array.from()</code>方法有两个参数，第一个参数是需要准换的类数组，第二个参数类似数组的<code>map</code>方法，会给转化后的数组中的每一项执行该方法，于是，上面的代码可以简写为下面：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> names <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">form</span><span class="token punctuation">(</span>lis， <span class="token parameter">li</span> <span class="token operator">=&gt;</span> li<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span>
</code></pre></div><p>也可以利用<code>Array.from()</code>方法进行转换函数中的<code>arguments</code>属性进行转化。
我们也可以利用<code>Array.from()</code>方法将字符串也能转换为一个数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> number <span class="token operator">=</span> 'sddsdsd<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_8-2-array-of"><a href="#_8-2-array-of" class="header-anchor">#</a> 8.2 Array.of()</h3> <p><code>Array.of()</code>方法就是根据传入的参数，返回一个由传入的参数组成的数组；</p> <h2 id="_9-数组的其他方法"><a href="#_9-数组的其他方法" class="header-anchor">#</a> 9. 数组的其他方法</h2> <h3 id="_9-1-find"><a href="#_9-1-find" class="header-anchor">#</a> 9.1 .find()</h3> <p>查找是否有<code>bananas</code>这个选项；返回的是找到的该选项，以对象返回；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> inventory <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'apples'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'bananas'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'cherries'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> bananas <span class="token operator">=</span> inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">fruit</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>fruit<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'bananas'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_9-2-findindex"><a href="#_9-2-findindex" class="header-anchor">#</a> 9.2 .findIndex()</h3> <p><code>findIndex()</code>返回的是要查找的选项的索引值：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> inventory <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'apples'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'bananas'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'cherries'</span><span class="token punctuation">,</span> quantity<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token keyword">const</span> bananas <span class="token operator">=</span> inventory<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">fruit</span> <span class="token operator">=&gt;</span> fruit<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'bananas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回的是索引值1</span>
</code></pre></div><h3 id="_9-3-some"><a href="#_9-3-some" class="header-anchor">#</a> 9.3 .some()</h3> <p>返回的布尔值；如果有一部分满足测试函数，就返回<code>true</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isEnough<span class="token operator">=</span> inventory<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">fruit</span> <span class="token operator">=&gt;</span> fruit<span class="token punctuation">.</span>quantity <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回true</span>
</code></pre></div><h3 id="_9-4-every"><a href="#_9-4-every" class="header-anchor">#</a> 9.4 .every()</h3> <p>返回的布尔值；如果所有的都满足测试函数，就返回<code>true</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isAllenough<span class="token operator">=</span> inventory<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">fruit</span> <span class="token operator">=&gt;</span> fruit<span class="token punctuation">.</span>quantity <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回false</span>
</code></pre></div><h2 id="_10-剩余参数"><a href="#_10-剩余参数" class="header-anchor">#</a> 10. 剩余参数</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>numbers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token comment">//一个数组[1, 2, 3, 4]</span>
<span class="token punctuation">}</span>
<span class="token function">sum</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
</code></pre></div><p>数组相关：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// break</span>
    <span class="token comment">// 跳出这次循环-在 for 中都可以使用</span>
    <span class="token keyword">continue</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// forEach</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 不能使用 break、continue</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token comment">// map - 同样不能使用 break、continue</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// filter</span>
<span class="token keyword">let</span> res <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">'filter'</span><span class="token punctuation">)</span>

<span class="token comment">// some</span>
<span class="token keyword">let</span> resSome <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resSome<span class="token punctuation">,</span> <span class="token string">'some'</span><span class="token punctuation">)</span> <span class="token comment">// boolean</span>

<span class="token comment">// every</span>
<span class="token keyword">let</span> every <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>every<span class="token punctuation">,</span> <span class="token string">'every'</span><span class="token punctuation">)</span>

<span class="token comment">// reduce</span>
<span class="token keyword">let</span> resR <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev <span class="token operator">+</span> cur<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resR<span class="token punctuation">,</span> <span class="token string">'reduce'</span><span class="token punctuation">)</span>
<span class="token comment">// 求出数组最大值</span>
<span class="token keyword">let</span> max <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token punctuation">)</span>
<span class="token comment">// 去重</span>
<span class="token keyword">let</span> resC <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  prev<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> prev<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span>
  <span class="token keyword">return</span> prev
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resC<span class="token punctuation">)</span>

<span class="token comment">// find 返回第一个测试通过的元素</span>
<span class="token keyword">let</span> find <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>find<span class="token punctuation">,</span> <span class="token string">'find'</span><span class="token punctuation">)</span>

<span class="token comment">// findIndex</span>
<span class="token keyword">let</span> findIndex <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> val <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>findIndex<span class="token punctuation">,</span> <span class="token string">'findIndex'</span><span class="token punctuation">)</span>

<span class="token comment">// for of</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>index<span class="token punctuation">,</span> item<span class="token punctuation">]</span> <span class="token keyword">of</span> arr<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>includes</li></ul> <p>es6 新增的 includes 跟 es5 的 indexOf 是一样的作用，返回数组中是否存在某个元素，但是对于 NaN  来说，indexOf 返回 -1，而 includes 是返回 true；</p> <h2 id="_11-扩展运算符"><a href="#_11-扩展运算符" class="header-anchor">#</a> 11. 扩展运算符</h2> <p>我们如果想要两个数组，合并为一个数组，并且，在中间插入一个值，如下我们以前写的代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> youngers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'george'</span> <span class="token punctuation">,</span> <span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'Thomas'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> olders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'James'</span><span class="token punctuation">,</span> <span class="token string">'Adrew'</span><span class="token punctuation">,</span> <span class="token string">'Martin'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> members <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
members <span class="token operator">=</span> members<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>youngers<span class="token punctuation">)</span><span class="token punctuation">;</span>
members<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'Mary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
members <span class="token operator">=</span> members<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>olders<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用<code>es6</code>可以这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> youngers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'george'</span> <span class="token punctuation">,</span> <span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'Thomas'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> olders <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'James'</span><span class="token punctuation">,</span> <span class="token string">'Adrew'</span><span class="token punctuation">,</span> <span class="token string">'Martin'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> members <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>youngers<span class="token punctuation">,</span> <span class="token string">'Mary'</span><span class="token punctuation">,</span> <span class="token operator">...</span>olders<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>可以通过扩展运算符将一个字符串变为以每一个字符变为数组中的一项：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">'jiegiser'</span><span class="token punctuation">]</span>
<span class="token comment">//[&quot;j&quot;, &quot;i&quot;, &quot;e&quot;, &quot;g&quot;, &quot;i&quot;, &quot;s&quot;, &quot;e&quot;, &quot;r&quot;]</span>
</code></pre></div><p>可以借助扩展运算符，放置我们将数组赋值给另一个数组，修改另一个数组中的数据，会将源数组的值进行改变：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> currentMembers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>numbers<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>我们可以使用扩展运算符将可遍历对象扩展到一个新的数组中：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>比如我们需要删除一个数组中，对象属性<code>id</code>为2的一项；代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Go to store'</span><span class="token punctuation">,</span> completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Wacth TV'</span><span class="token punctuation">,</span> completed<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'Go Shopping'</span><span class="token punctuation">,</span> completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token comment">// 要删除的项的id为2</span>
<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> todoIndex <span class="token operator">=</span> todos<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=&gt;</span> todo<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>

<span class="token keyword">const</span> newTodos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>todos<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> todoIndex<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>todos<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>todoIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>我们还可以将一个数组通过扩展运算符，追加到另一个数组后：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fruit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'bananas'</span><span class="token punctuation">,</span> <span class="token string">'pear'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> newFruit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'orange'</span><span class="token punctuation">,</span> <span class="token string">'mongo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
fruit<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>newFruit<span class="token punctuation">)</span>
</code></pre></div><p>还可以利用扩展运算符，将数组扩展为函数的参数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> dateField <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token operator">...</span>dateField<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_12-对象的计算属性"><a href="#_12-对象的计算属性" class="header-anchor">#</a> 12. 对象的计算属性</h2> <p>假如我们需要定义一个对象：我们希望我们的<code>'user -1': 1</code>这个数组是每次加一，然后进行定义变量。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> userIds <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'user -1'</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token string">'user-2'</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><p>我们可以这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> id <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">const</span> userIds <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">user-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">++</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> id<span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">user-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">++</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> id<span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">user-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">++</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token operator">:</span> id<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果我们想要定义一个对象，对象的键是一个数组，对应的每一个值是一个数组，我们可以这样写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'birthday'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'jiegiser'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">'0501'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> jiegiser <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>keys<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> values<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>keys<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> values<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>keys<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> values<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_13-es6-的-promise-对象"><a href="#_13-es6-的-promise-对象" class="header-anchor">#</a> 13. ES6  的 Promise 对象</h2> <p>如下代码，<code>then</code>里面是执行<code>ajax</code>执行成功之后的回调函数，<code>catch</code>是如果请求出现异常，执行的方法。这里是返回一个<code>promise</code>对象，所以可以继续在外层使用<code>.then()</code>方法。<code>return axios.get(</code>https://api.github.com/users/${username}/repos<code>);</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> username<span class="token punctuation">;</span>
<span class="token keyword">const</span> usersPromise <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://api.github.com/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

usersPromise
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    username <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>login<span class="token punctuation">;</span>
    <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.github.com/users/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/repos</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>一个<code>promise</code>对象的实例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//请求成功执行</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 请求失败的执行</span>
  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//请求成功执行的回调</span>
p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 请求失败的执行的回调</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>如果我们的页面中有多个<code>Promise</code>对象，这些对象之间执行的顺序时不相关的，互不影响的，我们可以使用下面的方法，处理这些<code>Promise</code>对象返回的结果：这里需要注意的是，<code>.all()</code>方法返回的结果是对应的执行<code>Promise</code>对象的结果，返回的是一个数组，我们可以使用对象解构，去得到不同的请求返回的结果。只有当<code>.all()</code>方法里面的<code>Promise</code>对象全部返回的是<code>resolve</code>的时候，才会执行<code>.then()</code>方法。否则执行<code>.catch()</code></p> <div class="language-js extra-class"><pre class="language-js"><code>Promise
  <span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>userPromise<span class="token punctuation">,</span> movePromise<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>users<span class="token punctuation">,</span> movice<span class="token punctuation">]</span> <span class="token operator">=</span> response<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>movice<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>与<code>.all()</code>方法相对的是一个·<code>Promise.race()</code>方法，他同样也是处理多个<code>Promise</code>实例，但是，他是处理的<code>Promise</code>实例中，只要第一个<code>Promise</code>实例是执行<code>resolve</code>也就是回调成功，就会去执行<code>.then()</code>方法。否则执行<code>.catch()</code></p> <blockquote><p>这里需要注意的是，下面代码并不是说只要执行 reject，后面的代码不会执行；链式操作 .then 是看前一个 promise 返回的结果而已；</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 1</span>
<span class="token comment">// 2</span>
<span class="token comment">// undefined</span>


<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 1 1</span>
<span class="token comment">// undefined &quot;2&quot;</span>
<span class="token comment">// undefined &quot;4&quot;</span>
</code></pre></div><p>如果说我们使用 catch 去处理错误请求，那么 .then 的链式操作如果出现 reject；不会往下执行：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
   <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 不会执行</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> <span class="token string">'err'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 1</span>
<span class="token comment">// 2 error</span>
</code></pre></div><h2 id="_14-symbol"><a href="#_14-symbol" class="header-anchor">#</a> 14. Symbol</h2> <p><code>symbol</code>是生成一个唯一的标识符，如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> one <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'one'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> two <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'two'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>one <span class="token operator">===</span> two<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>我们可以使用<code>symbol</code>来给 对象定义一个相同属性名，但是值不同：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> classRoom <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'lily'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>grade<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'nina'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>grade<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'nina'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>grade<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>symbol</code>类型的值是不能遍历的，如上面的属性，是不能通过<code>for in</code>等进行遍历的。可以使用<code>Object.getOwnPropertySymbols(classRoom)</code>进行遍历,获取到属性名。获取属性值：classrom[Symbol(lily)]这样进行获取，不能通过.的方法进行获取。前面定义<code>symbol</code>属性的时候，是需要使用计算属性的方式进行定义。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> classRoom <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'lily'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>grade<span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'nina'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>grade<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'nina'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>grade<span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>classRoom<span class="token punctuation">)</span>
</code></pre></div><p>初始化的时候如果传递一个对象，他会把对象的 toString 方法的返回值设置为标识：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// Symbol(a)</span>
</code></pre></div><p>通过 description 获取标识</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>description<span class="token punctuation">)</span>
</code></pre></div><p>通过 Symbol.for 声明全局描述符 (全局环境下)：会进行查找，之前有没有声明过；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1 <span class="token operator">===</span> s2<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>可以通过 Symbol.keyFor 查找标识是否全局定义：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// foo</span>
</code></pre></div><p>不能使用 for in、Object.keys() 来遍历通过 symbol 在对象上定义的属性，可以通过 Reflect.ownKeys 来遍历获取到普通属性以及 symbol 属性：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'im'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">[</span>sym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'imc'</span>
  <span class="token punctuation">}</span>

  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">[</span>sym<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'jie'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// jieimc</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// name</span>
<span class="token punctuation">}</span>

<span class="token comment">// 只能获取到 symbol 类型的属性</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// Symbol(im)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取所有属性</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// name</span>
<span class="token comment">// Symbol(im)</span>
</code></pre></div><p>Symbol 另一种用法：消除魔术字符串：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> shapeType <span class="token operator">=</span> <span class="token punctuation">{</span>
  triangle<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  circle<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token parameter">shape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>triangle<span class="token operator">:</span>
         area <span class="token operator">=</span> <span class="token number">1</span>
         <span class="token keyword">break</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>circle<span class="token operator">:</span>
       area <span class="token operator">=</span> <span class="token number">2</span>
       <span class="token keyword">break</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> area
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span>shapeType<span class="token punctuation">.</span>triangle<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="对象新增"><a href="#对象新增" class="header-anchor">#</a> 对象新增</h2> <ul><li>属性简洁表示法：如果对象键跟属性相等可以省略属性值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'jie'</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>属性名表达式：属性的键可以动态赋值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'jie'</span>
<span class="token keyword">let</span> dk <span class="token operator">=</span> <span class="token string">'school'</span>

<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>dk<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'gasu'</span>
<span class="token punctuation">}</span>

</code></pre></div><ul><li>Object.is 判断两个值是否相等；与 === 区别是，两个 NaN 返回的结果是 true：Object.is(NaN, NaN)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><ul><li>扩展运算符与 Object.assign()</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> 
  b<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>x<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>

<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span>
</code></pre></div><ul><li>in：是否包含该属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> 
  b<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span> <span class="token keyword">in</span> x<span class="token punctuation">)</span>
</code></pre></div><ul><li>对象的遍历方式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> x<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> x<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> x<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> x<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="深拷贝与浅拷贝"><a href="#深拷贝与浅拷贝" class="header-anchor">#</a> 深拷贝与浅拷贝</h2> <h3 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 检查类型</span>
<span class="token keyword">const</span> <span class="token function-variable function">checkType</span> <span class="token operator">=</span> <span class="token parameter">taregt</span> <span class="token operator">=&gt;</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>taregt<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token parameter">target</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> targetType <span class="token operator">=</span> <span class="token function">checkType</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
  <span class="token keyword">let</span> result
  <span class="token keyword">if</span> <span class="token punctuation">(</span>targetType <span class="token operator">===</span> <span class="token string">'Object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>targetType <span class="token operator">===</span> <span class="token string">'Array'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token keyword">let</span> valueType <span class="token operator">=</span> <span class="token function">checkType</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>valueType <span class="token operator">===</span> <span class="token string">'Object'</span> <span class="token operator">||</span> valueType <span class="token operator">===</span> <span class="token string">'Array'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre></div><h3 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h3> <p>Object.assign()</p> <h2 id="_15-eslint"><a href="#_15-eslint" class="header-anchor">#</a> 15. ESLint</h2> <p>输入命令：<code>npm install eslint -D</code>进行本地安装，然后输入命令进行初始化<code>eslint</code>的配置：<code>eslint --init</code>然后根据自己的需要进行配置，
<img src="https://img-blog.csdnimg.cn/20190604202606357.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">
输入<code>eslint init.js</code>进行检测我们的文件的书写规范。
<img src="https://img-blog.csdnimg.cn/20190604202851194.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">
可以输入后面的报错信息到<code>https://eslint.cn/docs/rules/</code>这里进行查看。
我们可以查看前面生成的<code>eslint</code>的规则配置：可以看到我们的规则是继承了<code>&quot;extends&quot;: &quot;eslint:recommended&quot;,</code>也就是<code>https://eslint.cn/docs/rules/</code>这里面标绿色箭头的选项，我们可以在我们的<code>rules</code>里面进行配置我们自己的规则。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;commonjs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;es6&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">2015</span><span class="token punctuation">,</span>
        <span class="token string">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;indent&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
            <span class="token number">4</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;linebreak-style&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;windows&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;quotes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;single&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;always&quot;</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>禁用<code>eslint</code>，比如说我们写<code>vue</code>的时候，是引入了<code>vue</code>，这个时候<code>eslint</code>会提示，，没有定义<code>vue</code>，我们可以在代码顶部加一个:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*global Vue*/</span>   <span class="token comment">//把某一个变量当做全局对象使用</span>
</code></pre></div><p>如果想要禁用一个规则，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">/*eslint-disable no-new*/</span>   <span class="token comment">//禁用 no-new 规则</span>
</code></pre></div><p>我们也可以在某一行，重新打开我们禁用的规则：</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">/*eslint-enable no-new*/</span>   <span class="token comment">//打开 no-new 规则，关闭禁用no-new</span>
</code></pre></div><p>还有检查<code>html</code>中的<code>js</code>书写，安装<code>eslint-plugin-html</code>插件</p> <h2 id="_16-import-export"><a href="#_16-import-export" class="header-anchor">#</a> 16. import  export</h2> <p>默认导出：一个模块只能有一个默认导出；</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> apikey <span class="token operator">=</span> <span class="token string">'abc123'</span><span class="token punctuation">;</span>

 <span class="token keyword">export</span> <span class="token keyword">default</span> apikey<span class="token punctuation">;</span>
</code></pre></div><p>默认导出的引入方式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> api <span class="token keyword">from</span> <span class="token string">'./config.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>api<span class="token punctuation">)</span>
</code></pre></div><p>命名导出：这里的<code>apikey</code>就是导出的名字，</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> apikey <span class="token operator">=</span> <span class="token string">'abc123'</span><span class="token punctuation">;</span>
</code></pre></div><p>引入的时候，必须使用同样的名字，而且，需要使用<code>{}</code>来包裹起来：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> apikey <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./config'</span>
</code></pre></div><p>可以引入多个：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> apikey<span class="token punctuation">,</span>a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./config'</span>
</code></pre></div><p>可以用下面的方式导出多个：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> apikey<span class="token punctuation">,</span> age<span class="token punctuation">,</span> greet <span class="token punctuation">}</span>
</code></pre></div><p>也可以在导出的时候，进行重命名：然后引入的时候，必须使用<code>as</code>命名后的名字；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token punctuation">{</span> apikey <span class="token keyword">as</span> apk<span class="token punctuation">,</span> age<span class="token punctuation">,</span> greet <span class="token punctuation">}</span>
</code></pre></div><p>当然，也可以在引入的时候重新命名：在模块使用的时候，就必须使用重命名的名字；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> apikey <span class="token keyword">as</span> apk<span class="token punctuation">,</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./config'</span>
</code></pre></div><blockquote><p>默认导出的，吗唉导入的时候，可以使用任意的命名，而命名导出，需要使用我们导出的名字，在导入的时候，进行导入。
一个第三方包：<code>slug</code>,过滤用户名。还有<code>md5</code>包。</p></blockquote> <p>引入命名导出以及默认导出的变量：<code>User</code>默认导出的内容。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> User<span class="token punctuation">,</span> <span class="token punctuation">{</span> apikey <span class="token keyword">as</span> apk<span class="token punctuation">,</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./config'</span>
</code></pre></div><h2 id="_17-使用-systemjs-进行打包"><a href="#_17-使用-systemjs-进行打包" class="header-anchor">#</a> 17. 使用 SystemJS 进行打包</h2> <p>一个非常简单的打包工具，不用进行类似<code>webpack</code>繁琐的配置。我们可以使用<code>jspm.io</code>进行加载<code>npm</code> 或者<code>github</code>上面的包。在标签中引入<code>systemJS</code>，然后进行配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
System<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">{</span>transpiler<span class="token operator">:</span> <span class="token string">'babel'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

System<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token string">'./main.js'</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>在<code>js</code>中引入第三方模块的方式也是不一样的，如下：意思就是在<code>npm</code>里面查找我们引入的包，进行引入。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> sum <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'npm:lodash'</span><span class="token punctuation">;</span>
</code></pre></div><p>引入本地模块跟前面是一样的。</p> <h2 id="_18-class"><a href="#_18-class" class="header-anchor">#</a> 18. Class</h2> <p>ES5 中的组合式继承，是构造函数继承 + 原型链继承，构造函数继承是：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 继承属性</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
<span class="token punctuation">}</span>
</code></pre></div><p>原型链继承：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
<span class="token punctuation">}</span>

<span class="token comment">// 继承方法</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Dog
</code></pre></div><p>组合式继承：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 继承属性</span>
  <span class="token function">Animal</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
<span class="token punctuation">}</span>

<span class="token comment">// 继承方法</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Dog
</code></pre></div><h3 id="_18-1-class基本用法"><a href="#_18-1-class基本用法" class="header-anchor">#</a> 18.1 Class基本用法</h3> <p>是特殊的函数，定义方式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//第一种</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token comment">//第二种</span>
<span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><p><code>typeof User</code>打印出的结果是<code>function</code>，函数是有函数提升的，而类是没有的。在声明之前使用，会报错。</p> <blockquote><p>这里需要注意的是，类里面定义函数，之间是不需要使用逗号隔开的，加了逗号会报错；</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">info</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> jiegiser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'jiegiser'</span><span class="token punctuation">,</span> <span class="token string">'jiegiser@163.com'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jiegiser<span class="token punctuation">)</span>
</code></pre></div><p>静态方法的定义：静态方法--不能实例化调用，只能在原型对象调用，一般将原型对象里面的方法定义为静态方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">info</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//静态方法--不能实例化调用，只能在原型对象调用，一般将原型对象里面的方法定义为静态方法</span>
    <span class="token keyword">static</span> <span class="token function">descript</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi jj</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> jiegiser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'jiegiser'</span><span class="token punctuation">,</span> <span class="token string">'jiegiser@163.com'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jiegiser<span class="token punctuation">)</span>
</code></pre></div><p>定义<code>get set</code>方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">info</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//静态方法--不能实例化调用，只能在原型对象调用，一般将原型对象里面的方法定义为静态方法</span>
    <span class="token keyword">static</span> <span class="token function">descript</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi jj</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">set</span> <span class="token function">github</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>githubName <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">github</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://github.com/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>githubName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> jiegiser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'jiegiser'</span><span class="token punctuation">,</span> <span class="token string">'jiegiser@163.com'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jiegiser<span class="token punctuation">)</span>
</code></pre></div><h3 id="_18-2-class的扩展"><a href="#_18-2-class的扩展" class="header-anchor">#</a> 18.2 Class的扩展</h3> <p>在类的定义中，定义方法的时候，也可以使用计算属性的方式进行定义：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> methodName <span class="token operator">=</span> <span class="token string">'info'</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> email</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">[</span>methodName<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I'm </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//静态方法--不能实例化调用，只能在原型对象调用，一般将原型对象里面的方法定义为静态方法</span>
    <span class="token keyword">static</span> <span class="token function">descript</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hi jj</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">set</span> <span class="token function">github</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>githubName <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">get</span> <span class="token function">github</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://github.com/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>githubName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>类必须要使用<code>new</code>关键字进行调用。下面是类的继承：注意<code>super(name);</code>进行调用父类构造函数。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name  <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>belly <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">eat</span> <span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>belly<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//在子类中调用父类构造函数</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">bark</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Barl bark!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> lucky <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'lucky'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_18-3-class-进行扩展内建对象"><a href="#_18-3-class-进行扩展内建对象" class="header-anchor">#</a> 18.3 Class 进行扩展内建对象</h3> <p>我们可以通过<code>class</code>扩展<code>javascript</code>中的内建对象，比如扩展<code>Array</code>对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">MyArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>在子类中其实可以通过<code>this</code>来访问父级<code>Array</code>的一些属性跟方法的。这里就是调用了<code>Array</code>的<code>push</code>方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">movieCollaction</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> <span class="token operator">...</span>items</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>items<span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">toRated</span> <span class="token punctuation">(</span><span class="token parameter">limit <span class="token operator">=</span> <span class="token number">10</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>scores <span class="token operator">&gt;</span> b<span class="token punctuation">.</span>scores<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> movies <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">movieCollaction</span><span class="token punctuation">(</span><span class="token string">'favorite movies'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'the croods'</span><span class="token punctuation">,</span> scored<span class="token operator">:</span> <span class="token number">8.7</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'the days'</span><span class="token punctuation">,</span> scored<span class="token operator">:</span> <span class="token number">9.6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'the shawshank'</span><span class="token punctuation">,</span> scored<span class="token operator">:</span> <span class="token number">9.4</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'the summer'</span><span class="token punctuation">,</span> scored<span class="token operator">:</span> <span class="token number">8.0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_19-proxy"><a href="#_19-proxy" class="header-anchor">#</a> 19. Proxy</h2> <p>在 es5 中，我们是使用 Object.defineProperty():</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> newVal <span class="token operator">=</span> <span class="token string">'jiegiser'</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> newVal
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">)</span>
    newVal <span class="token operator">=</span> val
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 'get' 'jiegiser'</span>
</code></pre></div><p>es6 中是 proxy；比如我们做一个对数组获取值进行代理，如果取得下标没有对应的下标就返回 error</p> <h3 id="get-拦截操作"><a href="#get-拦截操作" class="header-anchor">#</a> get 拦截操作</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span>
arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token comment">// [7, 8, 9], &quot;1&quot;</span>
    <span class="token keyword">return</span> prop <span class="token keyword">in</span> target <span class="token operator">?</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token string">'error'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="set-拦截操作"><a href="#set-拦截操作" class="header-anchor">#</a> set 拦截操作</h3> <p>帮助我们重写对象上的默认方法。比如下面的的方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> personn <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 第一个参数为要代理的对象，第二个参数就是一个对象，包含重写的方法。也就类似vue计算属性</span>
<span class="token keyword">const</span> personProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>personn<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
personProxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jie'</span>
</code></pre></div><p>我们用 proxy 去代理一个对象的时候，并不会破坏对象的原有属性；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 5, 6, 2</span>
</code></pre></div><p><code>Proxy</code>的一个例子：对电话号码进行格式化输出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> phonerHandle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[0-9]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\d{3})(\d{4})(\d{4})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'$1-$2-$3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> pgoneNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> phonerHandle<span class="token punctuation">)</span>
</code></pre></div><h3 id="has-拦截-in-操作符-拦截操作"><a href="#has-拦截-in-操作符-拦截操作" class="header-anchor">#</a> has (拦截 in 操作符) 拦截操作</h3> <p>拦截 propKey in proxy 的操作，返回一个布尔值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
  start<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  end<span class="token operator">:</span> <span class="token number">5</span>
<span class="token punctuation">}</span>

range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> prop <span class="token operator">&gt;=</span> target<span class="token punctuation">.</span>start <span class="token operator">&amp;&amp;</span> prop <span class="token operator">&lt;=</span> target<span class="token punctuation">.</span>end
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">9</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span>
</code></pre></div><h3 id="ownkeys-拦截操作"><a href="#ownkeys-拦截操作" class="header-anchor">#</a> ownKeys 拦截操作</h3> <p>拦截 Object.getOwnPropertyNames(proxy)、Object.getOwnPropertySymbols(proxy)、Object.keys(proxy)、for...in 循环，返回一个数组。该方法返回目标对象所有自身的属性的属性名，而 Object.keys() 的返回结果仅包括目标对象自身的可遍历属性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'imooc'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'es'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'es6'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;name&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [Symbol(es)]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;name&quot;]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// [&quot;name&quot;]</span>

<span class="token comment">// 使用 Reflect.ownKeys 遍历所有属性</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>使用代理：比如带下划线的属性为私有属性，下面代码是当遍历对象属性的时候，不对私有属性进行遍历；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> userinfo <span class="token operator">=</span> <span class="token punctuation">{</span>
  username<span class="token operator">:</span> <span class="token string">'xiecheng'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span>
  _password<span class="token operator">:</span> <span class="token string">'***'</span>
<span class="token punctuation">}</span>
userinfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>userinfo<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> userinfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// username</span>
<span class="token comment">// age</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>userinfo<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="deleteproperty-拦截操作"><a href="#deleteproperty-拦截操作" class="header-anchor">#</a> deleteProperty 拦截操作</h3> <p>拦截 <code>delete proxy[propKey]</code> 的操作，返回一个布尔值。</p> <p>比如有下面一个场景，我们对一个对象的带有下划线属性进行代理，设置他不能获取、设置、删除、不能循环遍历，如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  _password<span class="token operator">:</span> <span class="token string">'******'</span>
<span class="token punctuation">}</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不可访问'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不可访问'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token comment">// 删除拦截</span>
  <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不可删除'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">delete</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>_password<span class="token punctuation">)</span>
user<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">18</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  user<span class="token punctuation">.</span>_password <span class="token operator">=</span> <span class="token string">'xxx'</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// delete user.age</span>
  <span class="token keyword">delete</span> user<span class="token punctuation">.</span>_password
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="apply-拦截操作"><a href="#apply-拦截操作" class="header-anchor">#</a> apply 拦截操作</h3> <p>拦截 Proxy 实例作为函数调用的操作，比如 proxy(...args)、proxy.call(object, ...args)、proxy.apply(...)。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>
  args<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    num <span class="token operator">+=</span> item
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> num
<span class="token punctuation">}</span>

sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">target</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
</code></pre></div><h3 id="construct-拦截操作"><a href="#construct-拦截操作" class="header-anchor">#</a> construct 拦截操作</h3> <p>拦截 Proxy 实例作为构造函数调用的操作，比如 new proxy(...args)。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> User <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

User <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> args<span class="token punctuation">,</span> newTarget</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'constructor'</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> args<span class="token punctuation">,</span> newTarget<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">target</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'jiegiser'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_20-set"><a href="#_20-set" class="header-anchor">#</a> 20. Set</h2> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h3> <p>一种唯一的数组，也就是数组中的数据是唯一的，不会重复，不能通过索引进行获取。使用<code>add</code>添加值，<code>delete</code>删除某个值。检验某个值是否存在<code>has</code>，移除所有的元素<code>.clear()</code>。<code>.values</code>是一个<code>set</code>的一个遍历器。可以使用<code>for of</code>进行循环遍历，.size 属性是获取 set 元素的个数；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">)</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
</code></pre></div><p>可以使用下面的的方法，进行遍历：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">)</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> iterator <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>可以链式调用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
colors<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'green'</span><span class="token punctuation">)</span>
</code></pre></div><p>对于 set 元素的遍历，可以使用数组的遍历方法，进行遍历元素：</p> <p>使用<code>for of</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> color <span class="token keyword">of</span> colors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用<code>forEach</code>进行遍历;</p> <div class="language-js extra-class"><pre class="language-js"><code>colors<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> key<span class="token punctuation">,</span> ownSet</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span>key<span class="token punctuation">,</span>ownSet<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><code>set</code>接收的是一个可遍历对象，我们也可以传入一个数组，进行初始化：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fruits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'mongo'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="应用"><a href="#应用" class="header-anchor">#</a> 应用</h3> <p>求交集</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> s2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>result<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>求差集</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span>

<span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>s2<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr2<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>s1<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>arr3<span class="token punctuation">,</span> <span class="token operator">...</span>arr4<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><code>weakSet</code>跟<code>set</code>非常相似，只不过，他存储的项只能是对象，不能存储字符串，而且不能通过<code>for of</code>进行循环，他没有迭代器，也不能使用<code>forEach</code>进行循环。他没有<code>clear()</code>清除全部，他可以自己进行检测进行注销对应的数据。</p> <p>weakSet 是弱引用；不会进入垃圾回收机制进行计数；</p> <h2 id="_21-map"><a href="#_21-map" class="header-anchor">#</a> 21. Map</h2> <p><code>map</code>跟<code>set</code>非常相似，不同的是，<code>map</code>通过<code>.set('key', value)</code>这种方法进行添加元素，他也相当于一个数组，数组中是一个个对象。对象的键可以是任意数据类型;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
people<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'jelly'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
people<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'{}'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="https://img-blog.csdnimg.cn/20190608133541629.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NqOTU1MQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述">
获取对应的值：</p> <div class="language-js extra-class"><pre class="language-js"><code>people<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'jellu'</span><span class="token punctuation">)</span><span class="token comment">//传入键</span>
</code></pre></div><p>获取里面j键值对的数量：</p> <div class="language-js extra-class"><pre class="language-js"><code>people<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>删除某个项：</p> <div class="language-js extra-class"><pre class="language-js"><code>people<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'jelly'</span><span class="token punctuation">)</span>
</code></pre></div><p>删除所有元素：</p> <div class="language-js extra-class"><pre class="language-js"><code>people<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>循环遍历元素：</p> <p><code>forEach</code>进行循环；</p> <div class="language-js extra-class"><pre class="language-js"><code>people<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> map</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> map<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>使用<code>for of</code>进行循环：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> people<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用 .entries() 方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> people<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>初始化参数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fruits<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">'banans'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p><code>wekMap</code>没有<code>size</code>属性，他的 key 只能是引用类型的数据；不能循环遍历；没有 clear、size 等属性以及方法；他也是弱引用，垃圾回收机制，会自动回收。</p> <h2 id="_22-函数的参数"><a href="#_22-函数的参数" class="header-anchor">#</a> 22. 函数的参数</h2> <ul><li>参数可以设置默认值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 不能再次声明</span>
  <span class="token comment">// let x = 1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>函数的 length 是返回没有指定默认值的参数的个数；</p></li> <li><p>函数参数会形成作用域</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y <span class="token operator">=</span> x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>函数 name 属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// anonymous</span>


<span class="token comment">// bind 改变</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// bound foo</span>


<span class="token comment">// 匿名函数使用 bind</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// bound</span>
</code></pre></div><h2 id="_23-字符串的扩展"><a href="#_23-字符串的扩展" class="header-anchor">#</a> 23. 字符串的扩展</h2> <h3 id="unicode-表示法"><a href="#unicode-表示法" class="header-anchor">#</a> Unicode 表示法</h3> <p>ES6 加强了对 Unicode 的支持，允许采用\uxxxx形式表示一个字符，其中xxxx表示字符的 Unicode 码点。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;\u0061&quot;</span>
<span class="token comment">// &quot;a&quot;</span>
</code></pre></div><p>但是，这种表示法只限于码点在 \u0000~\uFFFF 之间的字符。超出这个范围的字符，必须用两个双字节的形式表示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;\uD842\uDFB7&quot;</span>
<span class="token comment">// &quot;𠮷&quot;</span>

<span class="token string">&quot;\u20BB7&quot;</span>
<span class="token comment">// &quot; 7&quot;</span>
</code></pre></div><p>上面代码表示，如果直接在 \u 后面跟上超过 0xFFFF 的数值（比如\u20BB7），JavaScript 会理解成 \u20BB+7。由于 \u20BB 是一个不可打印字符，所以只会显示一个空格，后面跟着一个7。</p> <p>ES6 对这一点做出了改进，只要将码点放入大括号，就能正确解读该字符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;\u{20BB7}&quot;</span>
<span class="token comment">// &quot;𠮷&quot;</span>
</code></pre></div><p>有了这种表示法之后，JavaScript 共有 6 种方法可以表示一个字符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'\z'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\172'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\x7A'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\u007A'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
<span class="token string">'\u{7A}'</span> <span class="token operator">===</span> <span class="token string">'z'</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="字符串的遍历器接口"><a href="#字符串的遍历器接口" class="header-anchor">#</a> 字符串的遍历器接口</h3> <p>可以通过 for of 去遍历字符串：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> <span class="token string">'jiegiser'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="带标签的模板字符串"><a href="#带标签的模板字符串" class="header-anchor">#</a> 带标签的模板字符串</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">'jiegiser'</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">18</span>
foo<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">这是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，他的年龄是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">22</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token comment">// [&quot;这是&quot;, &quot;，他的年龄是&quot;, &quot;岁, &quot;, &quot;&quot;]</span>
<span class="token comment">// jiegiser</span>
<span class="token comment">// 18</span>
<span class="token comment">// 22</span>
</code></pre></div><h3 id="扩展方法"><a href="#扩展方法" class="header-anchor">#</a> 扩展方法</h3> <ul><li>String.prototype.fromCodePoint()</li></ul> <p>用于从 Unicode 码点返回对应字符，并且可以识别大于0xFFFF的字符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">0x20BB7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span><span class="token function">fromCodePoint</span><span class="token punctuation">(</span><span class="token number">0x20BB7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>String.prototype.includes()</li></ul> <p>ES5中可以使用indexOf方法来判断一个字符串是否包含在另一个字符串中，indexOf返回出现的下标位置，如果不存在则返回-1。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'imooc'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'mo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>ES6提供了includes方法来判断一个字符串是否包含在另一个字符串中，返回boolean类型的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'imooc'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'mo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>String.prototype.startsWith()
判断参数字符串是否在原字符串的头部, 返回boolean类型的值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'imooc'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'im'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>String.prototype.endsWith()</li></ul> <p>判断参数字符串是否在原字符串的尾部, 返回boolean类型的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'imooc'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'mooc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>String.prototype.repeat()</li></ul> <p>repeat 方法返回一个新字符串，表示将原字符串重复n次。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'imooc'</span>

<span class="token keyword">const</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span>
</code></pre></div><h2 id="_24-正则表达式的扩展"><a href="#_24-正则表达式的扩展" class="header-anchor">#</a> 24. 正则表达式的扩展</h2> <p>在 es5 时，有三个修饰符：i（忽略大小写）、m（多行匹配）、g（全局匹配），es6 新增了两个：y、u 修饰符；</p> <h3 id="y-修饰符-粘连修饰符"><a href="#y-修饰符-粘连修饰符" class="header-anchor">#</a> y 修饰符（粘连修饰符）</h3> <p>y 修饰符的作用与 g 修饰符类似，也是全局匹配，后一次匹配都从上一次匹配成功的下一个位置开始。不同之处在于，g 修饰符只要剩余位置中存在匹配就可，而 y 修饰符确保匹配必须从剩余的第一个位置开始，这也就是“粘连”的涵义。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token string">'aaa_aa_a'</span>
<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>
<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>

r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aaa&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aaa&quot;]</span>

r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aa&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// null</span>

r1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;a&quot;]</span>
r2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aaa&quot;] // 重新开始匹配</span>
</code></pre></div><p>上面代码有两个正则表达式，一个使用 g 修饰符，另一个使用 y 修饰符。这两个正则表达式各执行了两次，第一次执行的时候，两者行为相同，剩余字符串都是 _aa_a。由于 g 修饰没有位置要求，所以第二次执行会返回结果，而 y 修饰符要求匹配必须从头部开始，所以返回 null。</p> <p>如果改一下正则表达式，保证每次都能头部匹配，y 修饰符就会返回结果了。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token string">'aaa_aa_a'</span>
<span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+_</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>

r<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aaa_&quot;]</span>
r<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// [&quot;aa_&quot;]</span>
</code></pre></div><p>上面代码每次匹配，都是从剩余字符串的头部开始。使用 lastIndex 属性，可以更好地说明 y 修饰符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span>

<span class="token comment">// 指定从2号位置（y）开始匹配</span>
regexp<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">2</span>

<span class="token comment">// 匹配成功</span>
<span class="token keyword">const</span> match <span class="token operator">=</span> regexp<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'xaya'</span><span class="token punctuation">)</span>

<span class="token comment">// 在 3 号位置匹配成功</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 3</span>

<span class="token comment">// 下一次匹配从 4 号位开始</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regexp<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 4</span>

<span class="token comment">// 4 号位开始匹配失败</span>
regexp<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'xaxa'</span><span class="token punctuation">)</span> <span class="token comment">// null</span>
</code></pre></div><p>上面代码中，lastIndex 属性指定每次搜索的开始位置，g 修饰符从这个位置开始向后搜索，直到发现匹配为止。</p> <p>y 修饰符同样遵守 lastIndex 属性，但是要求必须在 lastIndex 指定的位置发现匹配。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>

<span class="token comment">// 指定从 2 号位置开始匹配</span>
regexp<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">2</span>

<span class="token comment">// 不是粘连，匹配失败</span>
regexp<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'xaya'</span><span class="token punctuation">)</span> <span class="token comment">// null</span>

<span class="token comment">// 指定从 3 号位置开始匹配</span>
regexp<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> <span class="token number">3</span>

<span class="token comment">// 3 号位置是粘连，匹配成功</span>
<span class="token keyword">const</span> match <span class="token operator">=</span> regexp<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'xaxa'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>regexp<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 4</span>
</code></pre></div><p>进一步说，y 修饰符号隐含了头部匹配的标志 ^。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">y</span></span>
reg<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'aba'</span><span class="token punctuation">)</span>
<span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span>
</code></pre></div><blockquote><p>sticky 模式在正则匹配过程中只会影响两件事：</p> <ol><li>匹配必须从 re.lastIndex 开始（相当于正则表达中的 ^）</li> <li>如果匹配到会修改 re.lastIndex（相当于 g 模式）</li></ol></blockquote> <h3 id="u-修饰符"><a href="#u-修饰符" class="header-anchor">#</a> u 修饰符</h3> <p>ES6 为正则表达式添加了 u 修饰符，含义为 “Unicode模式”，用来正确处理大于 \uFFFF 的 Unicode 字符。也就是说，会正确处理四个字节的 UTF-16 编码。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 表示一个字符</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">'\uD83D\uDC2A'</span>
<span class="token operator">/</span><span class="token operator">^</span>\uD83D<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// es6 false</span>

<span class="token operator">/</span><span class="token operator">^</span>\uD83D<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// es5 true</span>
</code></pre></div><p>上面代码中， \uD83D\uDC2A 是一个四个字节的UTF-16编码，代表一个字符 &quot;🐪&quot;。但是，ES5 不支持四个字节的 UTF-16 编码，会将其识别为两个字符，导致第二行代码结果为 true。加了 u 修饰符以后，ES6 就会识别其为一个字符，所以第一行代码结果为 false。</p> <p>一旦加上u修饰符号，就会修改下面这些正则表达式的行为。</p> <ol><li>点字符</li></ol> <p>点（.）字符在正则表达式中，含义是除了换行符以外的任意单个字符。对于码点大于 0xFFFF 的 Unicode 字符，点字符不能识别，必须加上 u 修饰符。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token string">'𠮷'</span>

<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">.</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">.</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>上面代码表示，如果不添加u修饰符，正则表达式就会认为字符串为两个字符，从而匹配失败。</p> <blockquote><p>'𠮷'这个字读 jí，是'吉'字的异形体，Unicode 码点 U+20BB7</p></blockquote> <ol start="2"><li>Unicode 字符表示法</li></ol> <p>ES6 新增了使用大括号表示Unicode字符，这种表示法在正则表达式中必须加上u修饰符，才能识别。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\u{61}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token operator">/</span>\u<span class="token punctuation">{</span><span class="token number">61</span><span class="token punctuation">}</span><span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token operator">/</span>\u<span class="token punctuation">{</span><span class="token number">20</span>BB7<span class="token punctuation">}</span><span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>上面代码表示，如果不加 u 修饰符，正则表达式无法识别 \u{61} 这种表示法，只会认为这匹配 61 个连续的 u。</p> <ol start="3"><li>量词
使用 u 修饰符后，所有量词都会正确识别码点大于 0xFFFF 的 Unicode 字符。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a{2}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token operator">/</span>a<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token operator">/</span>𠮷<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token operator">/</span>𠮷<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>另外，只有在使用 u 修饰符的情况下，Unicode表达式当中的大括号才会被正确解读，否则会被解读为量词。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\u{3}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'uuu'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>上面代码中，由于正则表达式没有 u 修饰符，所以大括号被解读为量词。加上 u 修饰符，就会被解读为 Unicode 表达式。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\u{20BB7}{2}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">u</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>使用 u 修饰符之后 Unicode 表达式+量词也是可以的。</p> <ol start="4"><li>预定义模式
u 修饰符也影响到预定义模式，能否正确识别码点大于 0xFFFF 的 Unicode 字符。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\S$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token operator">/</span><span class="token operator">^</span>\<span class="token constant">S</span>$<span class="token operator">/</span>u<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'𠮷'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>上面代码的 \S 是预定义模式，匹配所有不是空格的字符。只有加了 u 修饰符，它才能正确匹配码点大于 0xFFFF 的 Unicode 字符。</p> <p>利用这一点，可以写出一个正确返回字符串长度的函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">codePointLength</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\s\S]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gu</span></span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> result <span class="token operator">?</span> result<span class="token punctuation">.</span>length <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token string">'𠮷𠮷'</span>

s<span class="token punctuation">.</span>length <span class="token comment">// 4</span>
<span class="token function">codePointLength</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><ol start="5"><li>i 修饰符
有些 Unicode 字符的编码不同，但是字型很相近，比如，\u004B 与 \u212A 都是大写的 K。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'\u212A'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">/</span>iu<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'\u212A'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>上面代码中，不加 u 修饰符，就无法识别非规范的 K 字符。</p> <h2 id="数值的扩展"><a href="#数值的扩展" class="header-anchor">#</a> 数值的扩展</h2> <h3 id="进制转换"><a href="#进制转换" class="header-anchor">#</a> 进制转换</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// es5</span>
<span class="token comment">// 十进制 -&gt; 二进制</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 101</span>

<span class="token comment">// 二进制 -&gt; 十进制</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">101</span>
<span class="token comment">// console.log(parseInt(5.5))</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>ES6 提供了二进制和八进制数值的新的写法，分别用前缀 0b（或0B）和 0o（或0O）表示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">0B0101</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 5</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">0o777</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 511</span>
</code></pre></div><h3 id="新增方法"><a href="#新增方法" class="header-anchor">#</a> 新增方法</h3> <ul><li>Number.isFinite()
用来检查一个数值是否为有限的（finite），即不是 Infinity。
如果不是数值，都是 false；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">'15'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><ul><li>Number.isNaN()</li></ul> <p>用来检查一个值是否为NaN。</p> <div class="language-js extra-class"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'15'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">9</span> <span class="token operator">/</span> <span class="token number">NaN</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'true'</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">'true'</span> <span class="token operator">/</span> <span class="token string">'true'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>Number.parseInt()</li></ul> <p>ES6 将全局方法 parseInt() 移植到 Number 对象上面，行为完全保持不变。 这样做的目的，是逐步减少全局性方法，使得语言逐步模块化。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5的写法</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'12.34'</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>

<span class="token comment">// ES6的写法</span>
Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">'12.34'</span><span class="token punctuation">)</span> <span class="token comment">// 12</span>
</code></pre></div><ul><li>Number.parseFloat()
ES6 将全局方法 parseFloat() 移植到 Number 对象上面，行为完全保持不变。这样做的目的，是逐步减少全局性方法，使得语言逐步模块化</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES5的写法</span>
<span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'123.45#'</span><span class="token punctuation">)</span> <span class="token comment">// 123.45</span>

<span class="token comment">// ES6的写法</span>
Number<span class="token punctuation">.</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">'123.45#'</span><span class="token punctuation">)</span> <span class="token comment">// 123.45</span>
</code></pre></div><ul><li>Number.isInteger()</li></ul> <p>用来判断一个数值是否为整数。</p> <div class="language-js extra-class"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">25.1</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token string">'15'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><ul><li>js 数值精度</li></ul> <p>在 js 中，我们存储数字精度的标准是 IEEE 754，在存储 0.1 的时候（因为计算机存储数值为二进制）会存在精度缺失，该标准会因为存储的数值有一定空间，会舍弃一部分；所以在 js 中会存在 0.1 + 0.2 不等于 0.3 这样的结果：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">35</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">00100011</span>
<span class="token number">0.35</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">0.011</span>
<span class="token number">0.1</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token number">0.0000440044</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// 超出 14 位会舍弃</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0.1000000000000001</span><span class="token punctuation">)</span> <span class="token comment">// 0.1000000000000001</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0.10000000000000001</span><span class="token punctuation">)</span> <span class="token comment">// 0.1</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">0.10000000000000001</span> <span class="token operator">===</span> <span class="token number">0.1</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>Number.MAX_SAFE_INTEGER、Number.MIN_SAFE_INTEGER</li></ul> <p>最大的安全整数；</p> <div class="language-js extra-class"><pre class="language-js"><code>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span> <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token comment">// true</span>

Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span> <span class="token operator">===</span> <span class="token number">9007199254740991</span> <span class="token comment">// true</span>

Number<span class="token punctuation">.</span><span class="token constant">MIN_SAFE_INTEGER</span> <span class="token operator">===</span> <span class="token operator">-</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span> <span class="token comment">// true</span>

Number<span class="token punctuation">.</span><span class="token constant">MIN_SAFE_INTEGER</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">9007199254740991</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>Number.isSafeInteger()</li></ul> <p>JavaScript 能够准确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值。</p> <div class="language-js extra-class"><pre class="language-js"><code>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token comment">// 9007199254740992</span>

Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">===</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h3 id="math-扩展"><a href="#math-扩展" class="header-anchor">#</a> Math 扩展</h3> <ul><li>Math.trunc()
方法用于去除一个数的小数部分，返回整数部分。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token number">5.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre></div><ul><li>Math.sign()
方法用来判断一个数到底是正数、负数、还是零。对于非数值，会先将其转换为数值。</li></ul> <p>它会返回五种值。</p> <ol><li>参数为正数，返回+1</li> <li>参数为负数，返回-1</li> <li>参数为 0，返回0</li> <li>参数为-0，返回-0</li> <li>其他值，返回NaN</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div><ul><li>Math.cbrt()</li></ul> <p>方法用于计算一个数的立方根。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">cbrt</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">cbrt</span><span class="token punctuation">(</span><span class="token string">'imooc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre></div><h2 id="reflect"><a href="#reflect" class="header-anchor">#</a> Reflect</h2> <p>Reflect 对象与 Proxy 对象一样，也是 ES6 为了操作对象而提供的新 API。</p> <h3 id="设计目的"><a href="#设计目的" class="header-anchor">#</a> 设计目的</h3> <ul><li>将 Object 属于语言内部的方法放到 Reflect 上</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> newVal <span class="token operator">=</span> <span class="token string">''</span>
Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> newVal
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token punctuation">)</span>
    <span class="token comment">// this.name = val</span>
    newVal <span class="token operator">=</span> val
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'es'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre></div><ul><li>修改某些 Object 方法的返回结果，让其变得更合理</li></ul> <p>es5 我们通过 Object.defineProperty 定义对象属性时，有的属性是不能被定义的，如果定义操作会抛出异常，我们通过 try catch 来捕获；es6 可以通过 Reflect.defineProperty，他会返回 boolean 类型的值，表示是否可以定义；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 老写法</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> attributes<span class="token punctuation">)</span>
  <span class="token comment">// success</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// failure</span>
<span class="token punctuation">}</span>

<span class="token comment">// 新写法</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> attributes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// success</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// failure</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>让 Object 操作变成函数行为</li></ul> <p>比如下面代码，判断当前对象是否具有某个方法；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 老写法</span>
<span class="token string">'assign'</span> <span class="token keyword">in</span> Object <span class="token comment">// true</span>

<span class="token comment">// 新写法</span>
Reflect<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>Object<span class="token punctuation">,</span> <span class="token string">'assign'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>Reflect 对象的方法与 Proxy 对象的方法一一对应</li></ul> <p>只要是 Proxy 对象的方法，就能在 Reflect 对象上找到对应的方法。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'jiegiser'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  _password<span class="token operator">:</span> <span class="token string">'******'</span>
<span class="token punctuation">}</span>

user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不可访问'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// return target[prop]</span>
      <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不可访问'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// target[prop] = val</span>
      Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>


  <span class="token comment">// 删除拦截</span>
  <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'不可删除'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// delete target[prop]</span>
      Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// return Object.keys(target).filter(key =&gt; !key.startsWith('_'))</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>_password<span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

user<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">19</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token keyword">delete</span> user<span class="token punctuation">.</span>age
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="常用方法"><a href="#常用方法" class="header-anchor">#</a> 常用方法</h3> <ul><li>Reflect.apply()</li></ul> <blockquote><p>Reflect.apply(target, thisArgument, argumentsList)
target: 目标函数；thisArgument：target 函数调用时绑定的 this 对象；argumentsList：target 函数调用时传入的实参列表，该参数应该是一个类数组的对象</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>floor<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1.75</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 1</span>

<span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>String<span class="token punctuation">.</span>fromCharCode<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;hello&quot;</span>

<span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>exec<span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'confabulation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index
<span class="token comment">// 4</span>

<span class="token function">Reflect</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">.</span>charAt<span class="token punctuation">,</span> <span class="token string">'ponies'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// &quot;i&quot;</span>
</code></pre></div><p>该方法与 ES5 中 Function.prototype.apply() 方法类似：调用一个方法并且显式地指定 this 变量和参数列表 (arguments) ，参数列表可以是数组，或类似数组的对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>floor<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1.75</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>Reflect.construct()</li></ul> <p>Reflect.construct() 方法的行为有点像 new 操作符 构造函数 ， 相当于运行 new target(...args).</p> <blockquote><p>Reflect.construct(target, argumentsList[, newTarget])
target：被运行的目标函数；argumentsList：调用构造函数的数组或者伪数组；newTarget：该参数为构造函数， 参考 new.target 操作符，如果没有 newTarget 参数， 默认和 target 一样</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>Foo<span class="token punctuation">,</span> args<span class="token punctuation">)</span>

<span class="token keyword">var</span> d <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>Date<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1776</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
d <span class="token keyword">instanceof</span> <span class="token class-name">Date</span> <span class="token comment">// true</span>
d<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1776</span>

<span class="token comment">// 如果使用 newTarget 参数，则表示继承了 newTarget 这个超类：</span>
<span class="token keyword">function</span> <span class="token function">someConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">construct</span><span class="token punctuation">(</span>Array<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> someConstructor<span class="token punctuation">)</span>

Reflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// 输出：someConstructor.prototype</span>
Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>Reflect.delete​Property()</li></ul> <p>Reflect.deleteProperty 允许你删除一个对象上的属性。返回一个 Boolean 值表示该属性是否被成功删除。它几乎与非严格的 delete operator 相同</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    y<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
obj <span class="token comment">// { y: 2 }</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
arr <span class="token comment">// [1, 2, 3, , 5]</span>

<span class="token comment">// 如果属性不存在，返回 true</span>
Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// 如果属性不可配置，返回 false</span>
Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    foo<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><ul><li>Reflect.get​OwnProperty​Descriptor()</li></ul> <p>静态方法 Reflect.getOwnPropertyDescriptor() 与 Object.getOwnPropertyDescriptor() 方法相似。如果在对象中存在，则返回给定的属性的属性描述符，否则返回 undefined。</p> <div class="language-js extra-class"><pre class="language-js"><code>Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">)</span>
<span class="token comment">// {value: &quot;hello&quot;, writable: true, enumerable: true, configurable: true}</span>

Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    x<span class="token operator">:</span> <span class="token string">'hello'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span>
<span class="token comment">// undefined</span>

Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'length'</span><span class="token punctuation">)</span>
<span class="token comment">// {value: 0, writable: true, enumerable: false, configurable: false}</span>
</code></pre></div><p>如果该方法的第一个参数不是一个对象（一个原始值），那么将造成 TypeError 错误。而对于 Object.getOwnPropertyDescriptor，非对象的第一个参数将被强制转换为一个对象处理。</p> <div class="language-js extra-class"><pre class="language-js"><code>Reflect<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// TypeError: &quot;foo&quot; is not non-null object</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment">// { value: &quot;f&quot;, writable: false, enumerable: true, configurable: false }</span>
</code></pre></div><ul><li>Reflect.get​PrototypeOf()</li></ul> <p>静态方法 Reflect.getPrototypeOf() 与 Object.getPrototypeOf() 方法是一样的。都是返回指定对象的原型（即，内部的 [[Prototype]] 属性的值）。</p> <div class="language-js extra-class"><pre class="language-js"><code>Reflect<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// constructor: ƒ Object()</span>
<span class="token comment">// hasOwnProperty: ƒ hasOwnProperty()</span>
<span class="token comment">// isPrototypeOf: ƒ isPrototypeOf()</span>
<span class="token comment">// propertyIsEnumerable: ƒ propertyIsEnumerable()</span>
<span class="token comment">// toLocaleString: ƒ toLocaleString()</span>
<span class="token comment">// toString: ƒ toString()</span>
<span class="token comment">// valueOf: ƒ valueOf()</span>
<span class="token comment">// __defineGetter__: ƒ __defineGetter__()</span>
<span class="token comment">// __defineSetter__: ƒ __defineSetter__()</span>
<span class="token comment">// __lookupGetter__: ƒ __lookupGetter__()</span>
<span class="token comment">// __lookupSetter__: ƒ __lookupSetter__()</span>
<span class="token comment">// get __proto__: ƒ __proto__()</span>
<span class="token comment">// set __proto__: ƒ __proto__()</span>
</code></pre></div><ul><li>Reflect.isExtensible()</li></ul> <p>Reflect.isExtensible 判断一个对象是否可扩展 （即是否能够添加新的属性），它与 Object.isExtensible() 方法一样。</p> <blockquote><p>Reflect.isExtensible(target)
target: 获取原型的目标对象</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// true</span>
Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// true</span>
</code></pre></div><ul><li>Reflect.prevent​Extensions()</li></ul> <p>Reflect.preventExtensions 方法阻止新属性添加到对象 例如：防止将来对对象的扩展被添加到对象中)。该方法与 Object.preventExtensions() 方法一致;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Objects are extensible by default.</span>
<span class="token keyword">var</span> empty <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span> <span class="token comment">// === true</span>

<span class="token comment">// ...but that can be changed.</span>
Reflect<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span>
Reflect<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span> <span class="token comment">// === false</span>


Reflect<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// TypeError: 1 is not an object</span>

Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// 1</span>
</code></pre></div><ul><li>Reflect.set​PrototypeOf()</li></ul> <p>Reflect.setPrototypeOf 方法改变指定对象的原型 （即，内部的 [[Prototype]] 属性值</p> <div class="language-js extra-class"><pre class="language-js"><code>Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// It can change an object's [[Prototype]] to null.</span>
Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// Returns false if target is not extensible.</span>
Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// Returns false if it cause a prototype chain cycle.</span>
<span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
Reflect<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> proto<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h2 id="generator"><a href="#generator" class="header-anchor">#</a> Generator</h2> <ul><li>比普通函数多一个 *</li> <li>函数内部用 yield 来控制程序的执行的“暂停”</li> <li>函数的返回值通过调用 next 来“恢复”程序执行</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">yield</span> i
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {value: 0, done: false}</span>
</code></pre></div><p>Generator 函数的定义不能使用箭头函数，否则会触发 SyntaxError 错误:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// SyntaxError</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// SyntaxError</span>
<span class="token keyword">let</span> <span class="token function-variable function">generator</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token parameter"><span class="token operator">*</span></span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// SyntaxError</span>
</code></pre></div><h3 id="yield-表达式"><a href="#yield-表达式" class="header-anchor">#</a> yield 表达式</h3> <p>yield 关键字用来暂停和恢复一个生成器函数，yield 只能出现在 generator 函数内部，否则会报错：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 注意在写循环的时候，类似 forEach 这种需要回调函数，往往会忽略</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  args<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> item <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>yield 表达式的返回值是 undefined，但是遍历器对象的 next 方法可以修改这个默认值。</p> <p>理解 yield 的含义：首先第一个输出 6，因为走到第一个 yield，x + 1 就是 6；所以，g.next() 返回是 yield 的结果；然后走到第二个 yield，因为第二个打印的 g.next() 并没有传递参数，导致第一个 yield 为 undefined；所以 2 * undefined 为 NaN，所以 y 的结果就是 NaN；得到 z 的结果也是 NaN；所以打印结果 NaN；最后 return 也是 NaN，所以最后打印也是 NaN；</p> <p>这里要说一下，g.next 是可以传参的，表示上一次 yield 的执行结果；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token keyword">yield</span><span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre></div><p>如果我们传参，如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token keyword">yield</span><span class="token punctuation">(</span>y <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// y = 24 8</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// z = 13 x = 5 42</span>
</code></pre></div><h3 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h3> <ul><li>按顺序读取 a.json、b.json、c.json，如果使用 Generator 该如何实现呢？</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    getData<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> res1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'static/a.json'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res1<span class="token punctuation">)</span>
  <span class="token keyword">let</span> res2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'static/b.json'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">)</span>
  <span class="token keyword">let</span> res3 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'static/c.json'</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res3<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> getData <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
getData<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>我们经常玩一些小游戏，比如数数字，敲7，到7和7的倍数，无限循环转圈去数数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> x
    <span class="token punctuation">}</span>
    x<span class="token operator">++</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// es5 中就是个死循环 因为 es5 的循环需要有个终止值，但我们这个需求没有终止，一直在数数</span>
<span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
</code></pre></div><p>通过 Generator 我们就能轻松实现，只要调用 n.next 我们就知道下一个数是什么了，而使用普通函数却没法做到。</p> <h2 id="iterator"><a href="#iterator" class="header-anchor">#</a> Iterator</h2> <p>Iterator 就是 ES6 中用来实现自定义遍历的接口，按照上述的示例，我们来实现下这个接口：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> authors <span class="token operator">=</span> <span class="token punctuation">{</span>
  allAuthors<span class="token operator">:</span> <span class="token punctuation">{</span>
    fiction<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'Agatha Christie'</span><span class="token punctuation">,</span>
      <span class="token string">'J. K. Rowling'</span><span class="token punctuation">,</span>
      <span class="token string">'Dr. Seuss'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    scienceFiction<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'Neal Stephenson'</span><span class="token punctuation">,</span>
      <span class="token string">'Arthur Clarke'</span><span class="token punctuation">,</span>
      <span class="token string">'Isaac Asimov'</span><span class="token punctuation">,</span>
      <span class="token string">'Robert Heinlein'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    fantasy<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'J. R. R. Tolkien'</span><span class="token punctuation">,</span>
      <span class="token string">'J. K. Rowling'</span><span class="token punctuation">,</span>
      <span class="token string">'Terry Pratchett'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这个代码在数据结构上部署了 Iterator 接口，我们就可以用 for...of 来遍历代码了</span>
authors<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> allAuthors <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>allAuthors
  <span class="token keyword">let</span> keys <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>allAuthors<span class="token punctuation">)</span>
  <span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>keys<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          values <span class="token operator">=</span> allAuthors<span class="token punctuation">[</span>keys<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
          keys<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        done<span class="token operator">:</span> <span class="token operator">!</span>values<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        value<span class="token operator">:</span> values<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> authors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><section style="border-top:2px solid #eaecef;padding-top:1rem;margin-top:2rem;"><div><span data-flag-title="Your Article Title" class="leancloud-visitors"><em class="post-meta-item-text">阅读量： </em> <i class="leancloud-visitors-count"></i></span></div> <h3><a href="javascript:;"></a>
    评 论：
  </h3> <div id="vcomments"></div></section></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">6/6/2021, 5:13:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/javascript/同步跟异步.html" class="prev">
        同步跟异步
      </a></span> <span class="next"><a href="/note/javascript/es7-11.html">
        es7-11
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.e947756a.js" defer></script><script src="/note/assets/js/3.90278144.js" defer></script><script src="/note/assets/js/52.22755877.js" defer></script><script src="/note/assets/js/75.886b64ff.js" defer></script>
  </body>
</html>
