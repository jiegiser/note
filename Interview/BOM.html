<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>window 对象 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="学习笔记">
    <link rel="preload" href="/note/assets/css/0.styles.c9d983ba.css" as="style"><link rel="preload" href="/note/assets/js/app.ca38eada.js" as="script"><link rel="preload" href="/note/assets/js/2.941e2322.js" as="script"><link rel="preload" href="/note/assets/js/16.ed42ccf8.js" as="script"><link rel="prefetch" href="/note/assets/js/10.e394aa83.js"><link rel="prefetch" href="/note/assets/js/100.d85e90b5.js"><link rel="prefetch" href="/note/assets/js/101.92f5de92.js"><link rel="prefetch" href="/note/assets/js/102.997ab42e.js"><link rel="prefetch" href="/note/assets/js/103.00e48a30.js"><link rel="prefetch" href="/note/assets/js/104.f67716bc.js"><link rel="prefetch" href="/note/assets/js/105.2fdc2456.js"><link rel="prefetch" href="/note/assets/js/106.38b12a08.js"><link rel="prefetch" href="/note/assets/js/107.bec79734.js"><link rel="prefetch" href="/note/assets/js/108.bb443291.js"><link rel="prefetch" href="/note/assets/js/109.605044b3.js"><link rel="prefetch" href="/note/assets/js/11.2048143e.js"><link rel="prefetch" href="/note/assets/js/110.286970f4.js"><link rel="prefetch" href="/note/assets/js/111.608e9f45.js"><link rel="prefetch" href="/note/assets/js/112.9a1b5262.js"><link rel="prefetch" href="/note/assets/js/113.dae38cdd.js"><link rel="prefetch" href="/note/assets/js/114.8a101485.js"><link rel="prefetch" href="/note/assets/js/12.a7be195e.js"><link rel="prefetch" href="/note/assets/js/13.095e00c3.js"><link rel="prefetch" href="/note/assets/js/14.398da845.js"><link rel="prefetch" href="/note/assets/js/15.42cdb663.js"><link rel="prefetch" href="/note/assets/js/17.844dd8b1.js"><link rel="prefetch" href="/note/assets/js/18.218e81c2.js"><link rel="prefetch" href="/note/assets/js/19.f0ca9696.js"><link rel="prefetch" href="/note/assets/js/20.7c94c3ec.js"><link rel="prefetch" href="/note/assets/js/21.aa71251b.js"><link rel="prefetch" href="/note/assets/js/22.00fd5847.js"><link rel="prefetch" href="/note/assets/js/23.e0279b43.js"><link rel="prefetch" href="/note/assets/js/24.6128f515.js"><link rel="prefetch" href="/note/assets/js/25.a680f9a5.js"><link rel="prefetch" href="/note/assets/js/26.074090bc.js"><link rel="prefetch" href="/note/assets/js/27.a83b1c27.js"><link rel="prefetch" href="/note/assets/js/28.5d9bde44.js"><link rel="prefetch" href="/note/assets/js/29.bc25ba85.js"><link rel="prefetch" href="/note/assets/js/3.1f627bdf.js"><link rel="prefetch" href="/note/assets/js/30.8a883b39.js"><link rel="prefetch" href="/note/assets/js/31.897e71e5.js"><link rel="prefetch" href="/note/assets/js/32.6d18f486.js"><link rel="prefetch" href="/note/assets/js/33.8c6611cf.js"><link rel="prefetch" href="/note/assets/js/34.43f66f92.js"><link rel="prefetch" href="/note/assets/js/35.4908a1d9.js"><link rel="prefetch" href="/note/assets/js/36.36fe421e.js"><link rel="prefetch" href="/note/assets/js/37.10dd1fc9.js"><link rel="prefetch" href="/note/assets/js/38.699f42aa.js"><link rel="prefetch" href="/note/assets/js/39.11fa5a26.js"><link rel="prefetch" href="/note/assets/js/4.0c0e2a94.js"><link rel="prefetch" href="/note/assets/js/40.0524666d.js"><link rel="prefetch" href="/note/assets/js/41.03fd8867.js"><link rel="prefetch" href="/note/assets/js/42.a7993496.js"><link rel="prefetch" href="/note/assets/js/43.1c1016c2.js"><link rel="prefetch" href="/note/assets/js/44.0da3c4e9.js"><link rel="prefetch" href="/note/assets/js/45.334ef874.js"><link rel="prefetch" href="/note/assets/js/46.8479405b.js"><link rel="prefetch" href="/note/assets/js/47.0a0403ae.js"><link rel="prefetch" href="/note/assets/js/48.e6aa0b7b.js"><link rel="prefetch" href="/note/assets/js/49.81b779e3.js"><link rel="prefetch" href="/note/assets/js/5.f2995ff3.js"><link rel="prefetch" href="/note/assets/js/50.3f3f3eb9.js"><link rel="prefetch" href="/note/assets/js/51.d9f6a2b4.js"><link rel="prefetch" href="/note/assets/js/52.1ed2acb9.js"><link rel="prefetch" href="/note/assets/js/53.213d72b0.js"><link rel="prefetch" href="/note/assets/js/54.36d70567.js"><link rel="prefetch" href="/note/assets/js/55.565e6611.js"><link rel="prefetch" href="/note/assets/js/56.b2c06ec7.js"><link rel="prefetch" href="/note/assets/js/57.d0086234.js"><link rel="prefetch" href="/note/assets/js/58.47449bd0.js"><link rel="prefetch" href="/note/assets/js/59.a0140fb6.js"><link rel="prefetch" href="/note/assets/js/6.8421140d.js"><link rel="prefetch" href="/note/assets/js/60.b5db2e90.js"><link rel="prefetch" href="/note/assets/js/61.820fcaf5.js"><link rel="prefetch" href="/note/assets/js/62.a1baa352.js"><link rel="prefetch" href="/note/assets/js/63.15359733.js"><link rel="prefetch" href="/note/assets/js/64.1a68b1d7.js"><link rel="prefetch" href="/note/assets/js/65.de1cadb2.js"><link rel="prefetch" href="/note/assets/js/66.8a2251d1.js"><link rel="prefetch" href="/note/assets/js/67.e8e12030.js"><link rel="prefetch" href="/note/assets/js/68.d0c89c2e.js"><link rel="prefetch" href="/note/assets/js/69.4e7b15bd.js"><link rel="prefetch" href="/note/assets/js/7.0b258659.js"><link rel="prefetch" href="/note/assets/js/70.5b7c2441.js"><link rel="prefetch" href="/note/assets/js/71.c24fd26b.js"><link rel="prefetch" href="/note/assets/js/72.2485c51f.js"><link rel="prefetch" href="/note/assets/js/73.9476d074.js"><link rel="prefetch" href="/note/assets/js/74.8d973288.js"><link rel="prefetch" href="/note/assets/js/75.e0b3af4b.js"><link rel="prefetch" href="/note/assets/js/76.8cf68066.js"><link rel="prefetch" href="/note/assets/js/77.6364c5b0.js"><link rel="prefetch" href="/note/assets/js/78.e1ab365c.js"><link rel="prefetch" href="/note/assets/js/79.cbb9c333.js"><link rel="prefetch" href="/note/assets/js/8.31e68a8a.js"><link rel="prefetch" href="/note/assets/js/80.cf5a60cb.js"><link rel="prefetch" href="/note/assets/js/81.886b44cc.js"><link rel="prefetch" href="/note/assets/js/82.92748777.js"><link rel="prefetch" href="/note/assets/js/83.eef03540.js"><link rel="prefetch" href="/note/assets/js/84.b7b450bd.js"><link rel="prefetch" href="/note/assets/js/85.26ff988e.js"><link rel="prefetch" href="/note/assets/js/86.3d02c518.js"><link rel="prefetch" href="/note/assets/js/87.f76817c2.js"><link rel="prefetch" href="/note/assets/js/88.35187d3b.js"><link rel="prefetch" href="/note/assets/js/89.c733bc1e.js"><link rel="prefetch" href="/note/assets/js/9.cf0bf65b.js"><link rel="prefetch" href="/note/assets/js/90.b2505ee9.js"><link rel="prefetch" href="/note/assets/js/91.7a0ca359.js"><link rel="prefetch" href="/note/assets/js/92.a81fdd26.js"><link rel="prefetch" href="/note/assets/js/93.8753a3bf.js"><link rel="prefetch" href="/note/assets/js/94.6297f58c.js"><link rel="prefetch" href="/note/assets/js/95.7b77cea3.js"><link rel="prefetch" href="/note/assets/js/96.39d50ec3.js"><link rel="prefetch" href="/note/assets/js/97.2cf84f20.js"><link rel="prefetch" href="/note/assets/js/98.a45cac24.js"><link rel="prefetch" href="/note/assets/js/99.2a187cc0.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.c9d983ba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="sidebar-link">forEach、for in、for of、map之间的区别</a></li><li><a href="/note/Interview/数据类型.html" class="sidebar-link">数据类型</a></li><li><a href="/note/Interview/操作符.html" class="sidebar-link">操作符</a></li><li><a href="/note/Interview/变量、作用域和内存.html" class="sidebar-link">变量、作用域和内存</a></li><li><a href="/note/Interview/引用类型.html" class="sidebar-link">引用类型</a></li><li><a href="/note/Interview/对象的创建模式.html" class="sidebar-link">对象的创建模式</a></li><li><a href="/note/Interview/继承.html" class="sidebar-link">继承</a></li><li><a href="/note/Interview/函数表达式.html" class="sidebar-link">函数表达式</a></li><li><a href="/note/Interview/BOM.html" aria-current="page" class="active sidebar-link">BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Interview/BOM.html#window-对象" class="sidebar-link">window 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Interview/BOM.html#全局作用域" class="sidebar-link">全局作用域</a></li><li class="sidebar-sub-header"><a href="/note/Interview/BOM.html#窗口关系及框架" class="sidebar-link">窗口关系及框架</a></li><li class="sidebar-sub-header"><a href="/note/Interview/BOM.html#窗口位置" class="sidebar-link">窗口位置</a></li><li class="sidebar-sub-header"><a href="/note/Interview/BOM.html#窗口大小" class="sidebar-link">窗口大小</a></li><li class="sidebar-sub-header"><a href="/note/Interview/BOM.html#导航和打开窗口" class="sidebar-link">导航和打开窗口</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="window-对象"><a href="#window-对象" class="header-anchor">#</a> window 对象</h2> <h3 id="全局作用域"><a href="#全局作用域" class="header-anchor">#</a> 全局作用域</h3> <p>window 对象是 ECMAScript 中 Global 对象。因此所有全局作用域中声明的变量、函数都会变为 window 对象的属性和方法；</p> <p>抛开全局变量会成为 window 对象的属性不谈，定义全局变量与在 window 对象上直接定义属性还是有一点差别：全局变量不能通过 delete 操作符删除，而直接在 window 对象上定义的属性可以。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> age <span class="token operator">=</span> <span class="token number">18</span>
window<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span>

<span class="token comment">// 在 IE9 &lt; 9 时抛出错误，在其他浏览器中都返回 false</span>
<span class="token keyword">delete</span> window<span class="token punctuation">.</span>age

<span class="token comment">// 在 IE9 &lt; 9 时抛出错误，在其他浏览器中都返回 true</span>
<span class="token keyword">delete</span> window<span class="token punctuation">.</span>color

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 18</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><p>访问未声明的变量会抛出错误，但是通过查询 window 对象，可以知道某个可能未声明的变量是否存在。</p> <h3 id="窗口关系及框架"><a href="#窗口关系及框架" class="header-anchor">#</a> 窗口关系及框架</h3> <p>如果页面中包含框架，则每个框架都拥有自己的 window 对象，并且保存在 frames 集合中，可以通过数值索引（从 0 开始，从左至右，从上至下）或者框架名称来访问相应的 window 对象。每个 window 对象都有一个 name 属性，其中包含框架的名称，如下面代码：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Frame Example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>160, *<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>frame.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>topFrame<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frame</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frameset</span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>50%, 50%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>anotherframe.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>leftFrame<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frame</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>frame</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>yetanotherframe.html<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>rightFrame<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frame</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>frameset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>对于这个例子，可以通过 window.frames[0] 或者 window.frames['topFrame'] 来获取上方的框架，可以使用 top 而非 window 来引用这些框架：top.frames[0]</p> <p>top 对象始终指向最高（最外）层的框架，也就是浏览器的窗口；使用它可以确保在一个框架中正确地访问另一个框架，因为对于在一个框架中编写的任何代码来说，其中的 window 对象指向的都是那个框架的特定实例，而非最高层的框架。下图是不同框架中，访问自身的不同方式：</p> <p><img src="/note/assets/img/frames.f1ef61b9.png" alt="在这里插入图片描述"></p> <p>与 top 相对的另一个 window 对象是 parent，顾名思义，parent 对象始终指向当前框架的直接上层框架，在没有框架的情况下，parent 一定等于 top，也就是都等于 window 对象。</p> <p>与框架有关的最后一个对象是 self，他始终指向 window，实际上 self 和 window 对象可以互换使用。引入 self 对象的目的是为了与 top 和 parent 对象对应起来，因此他不额外包含其他值。</p> <h3 id="窗口位置"><a href="#窗口位置" class="header-anchor">#</a> 窗口位置</h3> <p>screenLeft 和 screenTop 属性，分别用于表示窗口相对于屏幕左边以及上边的位置。使用下列代码可以跨浏览器取得窗口左边和上边的位置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> leftPos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenLeft <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token operator">?</span> window<span class="token punctuation">.</span>screenLeft <span class="token operator">:</span> window<span class="token punctuation">.</span>screenX
<span class="token keyword">var</span> topPos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>screenTop <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token operator">?</span> window<span class="token punctuation">.</span>screenTop <span class="token operator">:</span> window<span class="token punctuation">.</span>screenY
</code></pre></div><p>需要注意的是：在 IE、Opera 中，screenLeft 和 screenTop 中保存的是从屏幕左边和上边到由 window 对象表示的页面可见区域的距离。换句话说，如果 window 对象是最外层对象，而且浏览器窗口紧贴屏幕最上端，也就是 y 轴坐标为 0，那么 screenTop 的值就是位于页面可见区域上方的浏览器工具栏的像素高度。但是在 Chrome、Firefox 中，screenY 或 screenTop 中保存的是整个浏览器窗口相对于屏幕的坐标值，即 0 ；</p> <p>使用 moveTo() 和 moveBy() 方法游客可能将窗口精确地移动到一个新的位置。这两个方法都接收两个参数：</p> <p>moveTo() 方法接收的新位置的 x 和 y 坐标值；
moveBy() 方法接收的是在水平和垂直方向上移动的像素值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 将窗口移动到屏幕左上角</span>
window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">// 将窗口向下移动 100 像素</span>
window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment">// 将窗口移动到 200，300</span>
window<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

<span class="token comment">// 将窗口向左移动 50 像素</span>
window<span class="token punctuation">.</span><span class="token function">moveBy</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>需要注意的是，这链各个方法可能会被浏览器禁用，而且，在 Opera 和 IE 7（及更高的版本）中默认就是禁用的。另外，这链各个方法都不适用与框架，只能对最外层的 window 对象使用。</p> <p>如果符合下列情况，则普通网页中的 JavaScript 无法通过调用该函数来移动浏览器窗口</p> <ul><li>当前窗口或标签页不是由window.open方法创建的</li> <li>当前标签页所在的窗口包含有多个标签页</li></ul> <h3 id="窗口大小"><a href="#窗口大小" class="header-anchor">#</a> 窗口大小</h3> <ul><li>IE9+、Safari 和 Firefox：outerWidth 和 outerHeight 返回浏览器窗口本身的尺寸（无论从最外层的 window 对象还是从某个框架访问）；</li> <li>Opera：outerWidth 和 outerHeight 表示页面视图容器的大小，也就是单个标签页对应的浏览器窗口；</li> <li>Chrome：outerWidth 和 outerHeight 与 innerWidth 和 innerHeight 返回相同的值，即视口大小而非浏览器窗口大小；</li></ul> <p>获取页面视口的大小，如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> pageWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth
<span class="token keyword">var</span> pageHeight <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> pageWidth <span class="token operator">!=</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 确定页面是否处于标准模式</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">'CSS1Compat'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pageWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth
    pageHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    pageWidth <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth
    pageHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用 resizeTo() 和 resizeBy() 方法可以调整浏览器窗口的大小，都接收两个参数：</p> <ul><li>resizeTo() 接收浏览器窗口的新高度和新宽度</li> <li>resizeBy() 接收新窗口与原窗口的宽度和高度之差</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 调整到 100 * 100</span>
window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token comment">// 调整到 200 * 150</span>
window<span class="token punctuation">.</span><span class="token function">resizeBy</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

<span class="token comment">// 调整到 300 * 300</span>
window<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="导航和打开窗口"><a href="#导航和打开窗口" class="header-anchor">#</a> 导航和打开窗口</h3> <p>使用 window.open 既可以导航到一个特定的 URL，也可以打开一个新的浏览器窗口，他接收 4 个参数：</p> <ol><li>要加载的URL；</li> <li>窗口目标；</li> <li>一个特性字符串；</li> <li>一个表示新页面是否取代浏览器历史记录中当前加载页面的布尔值；</li></ol> <p>最后一个参数只在不打开新窗口的情况下使用；</p> <p>如果为 window.open() 传递了第二个参数，而且该参数是已有窗口或框架的名称，那么就会在具有该名称的窗口或框架中加载第一个参数指定 URL:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 等同于 &lt;a href=&quot;http://jiegiser.github.io/note&quot; target=&quot;topFrame&quot;&gt;&lt;/a&gt;</span>
window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;http://jiegiser.github.io/note&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;topFrame&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>调用上面的代码就相当于用户点击了那个 a 标签，如果有一个名叫 toFrame 的窗口或者框架，就会在该窗口或框架加载这个 URL，否则就会创建一个新的窗口并将其命名为 topFrame。</p> <h4 id="弹出窗口"><a href="#弹出窗口" class="header-anchor">#</a> 弹出窗口</h4> <p>如果给 window.open() 传递的第二个参数并不是一个已经存在的窗口或框架，那么该方法就会根据在第三个参数位置上传人的字符串创建一个新窗口或新标签页。如果没有传入第三个参数,那么就会打开一个带有全部默认设置(工具栏、地址栏和状态栏等)的新浏览器窗口(或者打开一个新标签页--根据浏览器设置)在不打开新窗口的情况下，会忽略第三个参数。
第三个参数是一个逗号分隔的设置字符串，表示在新窗口中都显示哪些特性。下表列出了可以出现这个字符串中的设置选项：</p> <table><thead><tr><th>设置</th> <th>值</th> <th>说 明</th></tr></thead> <tbody><tr><td>fullscreen</td> <td>yes 或 no</td> <td>表示浏览器窗口是否最大化。仅限 IE</td></tr> <tr><td>height</td> <td>数值</td> <td>表示新窗口的高度。不能小于 100</td></tr> <tr><td>left</td> <td>数值</td> <td>表示新窗口的左坐标。不能是负值数值</td></tr> <tr><td>location</td> <td>yes 或 no</td> <td>表示是否在浏览器窗口中显示地址栏。不同浏览器的默认值不同。如果设置为 no,地址栏可能会隐藏,也可能会被禁用(取决于浏览器)</td></tr> <tr><td>menubar</td> <td>yes 或 no</td> <td>表示是否在浏览器窗口中显示菜单栏。默认值为 no</td></tr> <tr><td>resizable</td> <td>yes 或 no</td> <td>表示是否可以通过拖动浏览器窗口的边框改变其大小。默认值为 no</td></tr> <tr><td>status</td> <td>yes 或 no</td> <td>表示是否在浏览器窗口中显示状态栏。默认值为 no</td></tr> <tr><td>toolbar</td> <td>yes 或 no</td> <td>表示是否在浏览器窗口中显示工具栏。默认值为 no</td></tr> <tr><td>top</td> <td>yes 或 no</td> <td>表示新窗口的上坐标。不能是负值</td></tr> <tr><td>width</td> <td>yes 或 no</td> <td>表示新窗口的宽度。不能小于 100</td></tr></tbody></table> <p>上面的属性都可以通过键值对形式的字符串来指定，其中键值对中不能出现空格：</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'jiegiser.github.io/note'</span><span class="token punctuation">,</span> <span class="token string">'note'</span><span class="token punctuation">,</span> <span class="token string">'height=400,widht=400,top=10,left=10,resizable=yes'</span><span class="token punctuation">)</span>
</code></pre></div><p>window.open() 方法会返回一个指向新窗口的引用。引用的对象与其他 window 对象大致相似，但我们可以对其进行更多控制。例如，有些浏览器在默认情況下可能不允许我们针对主浏览器窗口调整大小或移动位置，但却允许我们针对通过 window.open() 创建的窗口调整大小或移动位置。通过这个返回的对象，可以像操作其他窗口一样操作新打开的窗口，如下所示。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> note <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'jiegiser.github.io/note'</span><span class="token punctuation">,</span> <span class="token string">'note'</span><span class="token punctuation">,</span> <span class="token string">'height=400,widht=400,top=10,left=10,resizable=yes'</span><span class="token punctuation">)</span>

<span class="token comment">// 调整大小</span>
note<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>

<span class="token comment">// 移动位置</span>
note<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

</code></pre></div><p>使用 close() 方法还可以关闭新打开的窗口</p> <div class="language-js extra-class"><pre class="language-js"><code>note<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>这个方法仅适用于 window.open() 打开的弹出窗口，对于浏览器的主窗口，如果没有得到用户的允许是不能关闭它的。不过，弹出窗口倒是可以通过调用 top.close() 在不经过用户允许的情况下关闭自己。弹出窗口关闭之后，窗口的引用仍然还在，但除了像下面检测其 closed 属性之外，已经没有其他用处了：</p> <div class="language-js extra-class"><pre class="language-js"><code>note<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>note<span class="token punctuation">.</span>closed<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>新创建的窗口中有一个指针指向打开它的原始窗口对象，这个属性只在弹出窗口中的最外层 window 对象 (top) 中有定义，而且指向调用 window.open() 的窗口或框架：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> note <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'jiegiser.github.io/note'</span><span class="token punctuation">,</span> <span class="token string">'note'</span><span class="token punctuation">,</span> <span class="token string">'height=400,widht=400,top=10,left=10,resizable=yes'</span><span class="token punctuation">)</span>
note<span class="token punctuation">.</span>opener <span class="token operator">===</span> window <span class="token comment">// true</span>
</code></pre></div><p>有些浏览器（如 IE8 和 Chrome）会在独立的的进程中运行每个标签页。当一个标签页打开另一个标签页时，如果两个 window 对象之间需要彼此通信，那么新标签页就不能运行在独立的进程中，在 chrome 中，将新创建的标签页的 opener 属性设置为 null，即表示在单独的进程中运行新标签页，如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> note <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'jiegiser.github.io/note'</span><span class="token punctuation">,</span> <span class="token string">'note'</span><span class="token punctuation">,</span> <span class="token string">'height=400,widht=400,top=10,left=10,resizable=yes'</span><span class="token punctuation">)</span>
note<span class="token punctuation">.</span>opener <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><p>将 opener 属性设置为 null 就是告诉浏览器新创建的标签页不需要与打开它的标签页通信，因此可以在独立的进程中运行。标签页之间的联系一旦断开，将没有办法恢复。</p> <h4 id="弹出窗口屏蔽程序"><a href="#弹出窗口屏蔽程序" class="header-anchor">#</a> 弹出窗口屏蔽程序</h4> <p>在弹窗窗口被屏蔽时，就应该考虑两种可能性。如果浏览器内置的屏蔽程序阻止的弹出窗口，那么 window.open() 很可能会返回 null，此时，只要检测这个返回的值就可以确定窗口是否被屏蔽了，如下代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> note <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'jiegiser.github.io/note'</span><span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>note <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'the popup was blocked!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>如果是浏览器扩展或其他程序阻止的弹出窗口，那么 window.open() 通常会抛出一个错误，因此，想要准确地检测出弹出窗口是否被屏蔽，必须在检测返回值的同时，将对 window.open() 的调用封装在一个 try catch 块中，如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> blocked <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> note <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'jiegiser.github.io/note'</span><span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>note <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    blocked <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  blocked <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>blocked<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'the popup was blocked!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">9/18/2020, 9:57:33 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/Interview/函数表达式.html" class="prev">
        函数表达式
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.ca38eada.js" defer></script><script src="/note/assets/js/2.941e2322.js" defer></script><script src="/note/assets/js/16.ed42ccf8.js" defer></script>
  </body>
</html>
