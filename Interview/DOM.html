<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>节点层次 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="学习笔记">
    <link rel="preload" href="/note/assets/css/0.styles.c9d983ba.css" as="style"><link rel="preload" href="/note/assets/js/app.e5773a01.js" as="script"><link rel="preload" href="/note/assets/js/2.1078e79b.js" as="script"><link rel="preload" href="/note/assets/js/42.86d4cc56.js" as="script"><link rel="prefetch" href="/note/assets/js/10.dd494ac3.js"><link rel="prefetch" href="/note/assets/js/100.dac436f5.js"><link rel="prefetch" href="/note/assets/js/101.1628de88.js"><link rel="prefetch" href="/note/assets/js/102.c024c4f1.js"><link rel="prefetch" href="/note/assets/js/103.a4c962a9.js"><link rel="prefetch" href="/note/assets/js/104.23088e4f.js"><link rel="prefetch" href="/note/assets/js/105.71b19c4e.js"><link rel="prefetch" href="/note/assets/js/106.caf1cae0.js"><link rel="prefetch" href="/note/assets/js/107.facfde97.js"><link rel="prefetch" href="/note/assets/js/108.4a463768.js"><link rel="prefetch" href="/note/assets/js/109.01d77d5a.js"><link rel="prefetch" href="/note/assets/js/11.392cc37b.js"><link rel="prefetch" href="/note/assets/js/110.33a8b2a2.js"><link rel="prefetch" href="/note/assets/js/111.9687c075.js"><link rel="prefetch" href="/note/assets/js/112.73f90175.js"><link rel="prefetch" href="/note/assets/js/113.79b8610b.js"><link rel="prefetch" href="/note/assets/js/114.04ef8f89.js"><link rel="prefetch" href="/note/assets/js/115.c0f25876.js"><link rel="prefetch" href="/note/assets/js/116.22cffb7b.js"><link rel="prefetch" href="/note/assets/js/117.d71434cc.js"><link rel="prefetch" href="/note/assets/js/118.30cb8ae1.js"><link rel="prefetch" href="/note/assets/js/119.4fc1d68f.js"><link rel="prefetch" href="/note/assets/js/12.495d3a1c.js"><link rel="prefetch" href="/note/assets/js/120.cb107b43.js"><link rel="prefetch" href="/note/assets/js/121.10bdea23.js"><link rel="prefetch" href="/note/assets/js/13.30b2bfc0.js"><link rel="prefetch" href="/note/assets/js/14.85ccd97c.js"><link rel="prefetch" href="/note/assets/js/15.74d3fe1a.js"><link rel="prefetch" href="/note/assets/js/16.eef70249.js"><link rel="prefetch" href="/note/assets/js/17.e6464563.js"><link rel="prefetch" href="/note/assets/js/18.e4814be1.js"><link rel="prefetch" href="/note/assets/js/19.955d64ed.js"><link rel="prefetch" href="/note/assets/js/20.12190641.js"><link rel="prefetch" href="/note/assets/js/21.8c665fdb.js"><link rel="prefetch" href="/note/assets/js/22.c285753b.js"><link rel="prefetch" href="/note/assets/js/23.affccd17.js"><link rel="prefetch" href="/note/assets/js/24.5dc8ec9c.js"><link rel="prefetch" href="/note/assets/js/25.68ddf630.js"><link rel="prefetch" href="/note/assets/js/26.ee60bb5f.js"><link rel="prefetch" href="/note/assets/js/27.b91bc68d.js"><link rel="prefetch" href="/note/assets/js/28.8f8edc84.js"><link rel="prefetch" href="/note/assets/js/29.c70a999a.js"><link rel="prefetch" href="/note/assets/js/3.c26e82d5.js"><link rel="prefetch" href="/note/assets/js/30.1909616e.js"><link rel="prefetch" href="/note/assets/js/31.b06c7c8a.js"><link rel="prefetch" href="/note/assets/js/32.2bd7251c.js"><link rel="prefetch" href="/note/assets/js/33.365f56d8.js"><link rel="prefetch" href="/note/assets/js/34.a4c94aba.js"><link rel="prefetch" href="/note/assets/js/35.f88a40b6.js"><link rel="prefetch" href="/note/assets/js/36.20537e50.js"><link rel="prefetch" href="/note/assets/js/37.3cd9cf03.js"><link rel="prefetch" href="/note/assets/js/38.1f78b6d3.js"><link rel="prefetch" href="/note/assets/js/39.2e1379a8.js"><link rel="prefetch" href="/note/assets/js/4.3a4f8a66.js"><link rel="prefetch" href="/note/assets/js/40.d4c6e40e.js"><link rel="prefetch" href="/note/assets/js/41.cf71d1c5.js"><link rel="prefetch" href="/note/assets/js/43.65818e15.js"><link rel="prefetch" href="/note/assets/js/44.11fcaff3.js"><link rel="prefetch" href="/note/assets/js/45.9a7be3f1.js"><link rel="prefetch" href="/note/assets/js/46.85a44922.js"><link rel="prefetch" href="/note/assets/js/47.7044b0c9.js"><link rel="prefetch" href="/note/assets/js/48.58711294.js"><link rel="prefetch" href="/note/assets/js/49.f98859c7.js"><link rel="prefetch" href="/note/assets/js/5.5696a6e1.js"><link rel="prefetch" href="/note/assets/js/50.09d6fe28.js"><link rel="prefetch" href="/note/assets/js/51.b1967b60.js"><link rel="prefetch" href="/note/assets/js/52.a62ab593.js"><link rel="prefetch" href="/note/assets/js/53.4a26d9dc.js"><link rel="prefetch" href="/note/assets/js/54.a348b8c0.js"><link rel="prefetch" href="/note/assets/js/55.b632dc59.js"><link rel="prefetch" href="/note/assets/js/56.8aa1b114.js"><link rel="prefetch" href="/note/assets/js/57.de830bd1.js"><link rel="prefetch" href="/note/assets/js/58.200acd50.js"><link rel="prefetch" href="/note/assets/js/59.f2dc8114.js"><link rel="prefetch" href="/note/assets/js/6.c78d1e71.js"><link rel="prefetch" href="/note/assets/js/60.a146ea22.js"><link rel="prefetch" href="/note/assets/js/61.48cb568a.js"><link rel="prefetch" href="/note/assets/js/62.205ce14a.js"><link rel="prefetch" href="/note/assets/js/63.b876cc93.js"><link rel="prefetch" href="/note/assets/js/64.6d8a9c03.js"><link rel="prefetch" href="/note/assets/js/65.6c587f91.js"><link rel="prefetch" href="/note/assets/js/66.b998e709.js"><link rel="prefetch" href="/note/assets/js/67.90a6edd7.js"><link rel="prefetch" href="/note/assets/js/68.c1916c63.js"><link rel="prefetch" href="/note/assets/js/69.ef3c113b.js"><link rel="prefetch" href="/note/assets/js/7.9e32cc67.js"><link rel="prefetch" href="/note/assets/js/70.8bb911cf.js"><link rel="prefetch" href="/note/assets/js/71.f5a1f63c.js"><link rel="prefetch" href="/note/assets/js/72.9ff53c8f.js"><link rel="prefetch" href="/note/assets/js/73.dde6eaa4.js"><link rel="prefetch" href="/note/assets/js/74.e8bfba3d.js"><link rel="prefetch" href="/note/assets/js/75.0f28eb15.js"><link rel="prefetch" href="/note/assets/js/76.1594452e.js"><link rel="prefetch" href="/note/assets/js/77.8fc85c62.js"><link rel="prefetch" href="/note/assets/js/78.2fcbe451.js"><link rel="prefetch" href="/note/assets/js/79.197d87fc.js"><link rel="prefetch" href="/note/assets/js/8.f5acd0a3.js"><link rel="prefetch" href="/note/assets/js/80.26ac51ae.js"><link rel="prefetch" href="/note/assets/js/81.31a49753.js"><link rel="prefetch" href="/note/assets/js/82.18955354.js"><link rel="prefetch" href="/note/assets/js/83.252f9589.js"><link rel="prefetch" href="/note/assets/js/84.20976745.js"><link rel="prefetch" href="/note/assets/js/85.e2f6dbe2.js"><link rel="prefetch" href="/note/assets/js/86.987805cf.js"><link rel="prefetch" href="/note/assets/js/87.c6a2af43.js"><link rel="prefetch" href="/note/assets/js/88.f71b3c73.js"><link rel="prefetch" href="/note/assets/js/89.7fc8b357.js"><link rel="prefetch" href="/note/assets/js/9.357b56e2.js"><link rel="prefetch" href="/note/assets/js/90.39e57633.js"><link rel="prefetch" href="/note/assets/js/91.83b6da79.js"><link rel="prefetch" href="/note/assets/js/92.9510c5d4.js"><link rel="prefetch" href="/note/assets/js/93.6836d391.js"><link rel="prefetch" href="/note/assets/js/94.4fd8a270.js"><link rel="prefetch" href="/note/assets/js/95.43f3fc9f.js"><link rel="prefetch" href="/note/assets/js/96.00ada1f5.js"><link rel="prefetch" href="/note/assets/js/97.04c44228.js"><link rel="prefetch" href="/note/assets/js/98.9a659575.js"><link rel="prefetch" href="/note/assets/js/99.50466487.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.c9d983ba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="sidebar-link">forEach、for in、for of、map之间的区别</a></li><li><a href="/note/Interview/数据类型.html" class="sidebar-link">数据类型</a></li><li><a href="/note/Interview/操作符.html" class="sidebar-link">操作符</a></li><li><a href="/note/Interview/变量、作用域和内存.html" class="sidebar-link">变量、作用域和内存</a></li><li><a href="/note/Interview/引用类型.html" class="sidebar-link">引用类型</a></li><li><a href="/note/Interview/对象的创建模式.html" class="sidebar-link">对象的创建模式</a></li><li><a href="/note/Interview/继承.html" class="sidebar-link">继承</a></li><li><a href="/note/Interview/函数表达式.html" class="sidebar-link">函数表达式</a></li><li><a href="/note/Interview/BOM.html" class="sidebar-link">BOM</a></li><li><a href="/note/Interview/DOM.html" aria-current="page" class="active sidebar-link">DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Interview/DOM.html#节点层次" class="sidebar-link">节点层次</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Interview/DOM.html#node-类型" class="sidebar-link">Node 类型</a></li><li class="sidebar-sub-header"><a href="/note/Interview/DOM.html#document-类型" class="sidebar-link">Document 类型</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="节点层次"><a href="#节点层次" class="header-anchor">#</a> 节点层次</h2> <p>HTML 中每一段标记都可以通过树中的一个节点来表示：HTML 元素通过元素节点表示，特性（attribute）通过特性节点表示，文档类型通过文档类型节点来表示，而注释通过注释节点来表示。</p> <h3 id="node-类型"><a href="#node-类型" class="header-anchor">#</a> Node 类型</h3> <p>JavaScript 中所有节点类型都继承自 Node 类型，因此所有节点属性都共享着相同的基本属性和方法。</p> <p>每个节点都有一个 nodeType 属性，用于表明节点的类型。节点类型由在 Node 类型中定义的下列 12 个数值常量来表示，任何节点类型必具其一：</p> <ul><li>Node.ELEMENT_NODE(1)</li> <li>Node.ATTRIBUTE_NODE(2)</li> <li>Node.TEXT_NODE(3)</li> <li>Node.CDATA_SECTION_NODE(4)</li> <li>Node.ENTITY_PREPERENCE_NODE(5)</li> <li>Node.ENTITY_NODE(6)</li> <li>Node.PROCESSING_INSTRUCTION_NODE(7)</li> <li>Node.COMMENT_NODE(8)</li> <li>Node.DOCUMENT_NODE(9)</li> <li>Node.DOCUMENT_TYPE_NODE(10)</li> <li>Node.DOCUMENT_FRAGMENT_NODE(11)</li> <li>Node.NOTATION_NODE(12)</li></ul> <p>通过比较上面这些常量，可以很容易地确定节点的类型，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在 IE 中无效</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> Node<span class="token punctuation">.</span><span class="token constant">ELEMENT_NODE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'node is an element'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可以通过与数值进行比较适用于所有浏览器</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'node is an element'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="nodename-和-nodevalue-属性"><a href="#nodename-和-nodevalue-属性" class="header-anchor">#</a> nodeName 和 nodeValue 属性</h4> <p>nodeName 是元素的标签名。Node 的 nodeValue 属性返回或设置当前节点的值。</p> <h4 id="节点关系"><a href="#节点关系" class="header-anchor">#</a> 节点关系</h4> <ul><li>每个节点都有一个 childNodes 属性，用于保存他的子元素，是一个 NodeList 对象，NodeList 是一种 类数组对象，用于保存一组有序的节点，可以通过位置来访问这些节点。NodeList 实际上是基于 DOM 结构动态执行查询的结果，因此 DOM 结构的变化能够自动反应在 NodeList 对象中。他并不是在某一时期的快照。</li></ul> <p>下面代码将 NodeList 对象转换为数组</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 在 IE8 之前无效</span>
<span class="token keyword">var</span> arrayOfNodes <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>someNode<span class="token punctuation">,</span> chilNodes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>下面代码是兼容 IE8：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">convertToArray</span><span class="token punctuation">(</span><span class="token parameter">nodes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    array <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> leng <span class="token operator">=</span> nodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      array<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nodes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>每个节点都有一个 parentNode 属性；该属性指向文档树中的父节点。包含在 childrenNodes 列表中的每个节点相互之间都是同胞节点，通过使用列表中每个节点的 previousSibling 和 nextSilling 属性，可以访问他的前一个与后一个兄弟节点。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>someNodes<span class="token punctuation">.</span>nextSibling <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Last node in the parents childNodes list'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>someNodes<span class="token punctuation">.</span>previousSibling <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'First node in the parents childNodes list'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><p>父节点的 firstChild 和 lastChild 属性分别指向其 childNodes 列表中的第一个和最后一个节点。</p></li> <li><p>使用 hasChildNodes() 方法可以检查是否有子节点；</p></li> <li><p>所有节点都有一个最后一个属性是 ownerDocument，该属性指向表示整个文档的文档节点。这种关系表示的是任何节点都属于他所在的文档，任何节点都不能同时存在于两个或更多的文档中。通过这个属性，我们可以不必在节点层次中通过层层回溯到达顶端，而是可以直接访问文档顶点。</p></li></ul> <h4 id="操作节点"><a href="#操作节点" class="header-anchor">#</a> 操作节点</h4> <ul><li>appendChild() 方法：用于向 chilNodes 列表的末尾添加一个节点。返回值为新增的节点。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedNode <span class="token operator">===</span> newNode<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>lastChild <span class="token operator">===</span> newNode<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>如果新添加的节点已经是文档的一部分了，那结果就是将该节点从原来的位置转移到新文职。即使可以将 DOM 树看成是由一系列指针连接起来的，但任何 DOM 节点也不能同时出现在文档中的多个位置上。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// someNode 有多个子节点</span>
<span class="token keyword">var</span> returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnNode <span class="token operator">===</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnNode <span class="token operator">===</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>insertBefore() 方法：用于将节点放在 childNodes 列表中某个特定的位置上；他接收两个参数，第一个是要插入节点，第二个是作为参照的节点；插入节点后，被插入的节点会变成参照节点的前一个兄弟节点，同时被方法返回。如果参照节点是 null，则 insertBefore() 与 appendChild() 执行相同的操作，如下</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 插入后成为左右一个子节点</span>
returnNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNode <span class="token operator">===</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// 插入后成为第一个子节点</span>
returnNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnNode <span class="token operator">===</span> newNode<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNode <span class="token operator">===</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// 插入到最后一个子节点的前面</span>
returnNode <span class="token operator">=</span> someNoed<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newNode <span class="token operator">===</span> someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span>someNode<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>replaceChild() 方法：替换节点。接收两个参数，要插入的节点和要替换的节点。要替换的节点将由这个方法返回并从文档树中被移除，同时由要插入的节点替换其位置，如下：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 替换第一个子节点</span>
<span class="token keyword">var</span> returnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span>

<span class="token comment">// 替换最后一个子节点</span>
<span class="token keyword">var</span> rerurnedNode <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span>
</code></pre></div><ul><li>removeChild() 方法：移除节点，该方法接收一个参数，即要移除的节点，该方法的返回值为被移除的节点。如下：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 移除第一个子节点</span>
<span class="token keyword">var</span> formerFirstChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span>

<span class="token comment">// 移除最后一个子节点</span>
<span class="token keyword">var</span> formerLastChild <span class="token operator">=</span> someNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>someNode<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span>
</code></pre></div><h4 id="其他方法"><a href="#其他方法" class="header-anchor">#</a> 其他方法</h4> <ul><li><p>cloneNode() 方法：用于创建调用这个方法的节点的一个完全相同的副本；接收一个布尔值参数，表示是否执行深拷贝，ture 执行深拷贝。也就是复制节点及其整个子节点树；参数为 false 的情况下，执行浅拷贝，即只拷贝节点本身。拷贝的节点需要指定父节点，可以通过 appendChild()、insertBefore() 或者 replaceChild() 将它添加到文档中。</p></li> <li><p>normalize() 方法：主要作用处理文档树中的文本节点。由于解析器的实现或 DOM 操作的原因，可能出现文本节点不包含文本，或者接连出现两个文本节点的情况。当在某个节点上调用这个方法时，就会在该节点的后代节点中查找上述两种情况。如果找到了空文本节点，则删除他，如果找到相邻的文本节点 ，则将他们合并为一个文本节点。</p></li></ul> <h3 id="document-类型"><a href="#document-类型" class="header-anchor">#</a> Document 类型</h3> <p>JavaScript 通过 Document 类型表示文档，在浏览器中，document 对象是 HTMLDocument （继承自 Document 类型） 的一个实例，表示整个 HTML 页面。而且 document 对象是 window 对象的一个属性。具有以下特性：</p> <ul><li>nodeType 为 9</li> <li>nodeName 的值为 '#document'</li> <li>nodeValue 的值为 null</li> <li>parentNode 的值为 null</li> <li>ownerDocument 的值为 null</li> <li>其子节点可能是一个 DocumentType（最多一个）、Element（最多一个）、ProcessingInstruction 或 Comment。</li></ul> <h4 id="文档的子节点"><a href="#文档的子节点" class="header-anchor">#</a> 文档的子节点</h4> <ul><li>可以通过 documentElement 属性，访问 HTML 页面中的 HTML 元素。</li> <li>可以通过 childNodes 列表访问文档元素。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> html <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement <span class="token comment">// 取得 html 的引用</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html <span class="token operator">===</span> document<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html <span class="token operator">===</span> document<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><blockquote><p>所有浏览器都支持 document.documentElement 和 document.body 属性；</p></blockquote> <ul><li>可以通过 document.doctype 获取 DOCTYPE 标签的引用。</li></ul> <h4 id="文档信息"><a href="#文档信息" class="header-anchor">#</a> 文档信息</h4> <ul><li>document.title 属性：包含着 title 标签元素中的文本。</li> <li>document.URL 属性：包含页面完整的 URL。</li> <li>document.domain 属性：只包含页面的域名。</li> <li>document.referrer 属性：保存着链接当前页面的那个页面的 URL。在没有来源页面的情况下，该 属性中可能会包含空字符串。</li></ul> <p>上面的属性中，只有 domain 属性可以设置，但由于安全方面的限制，也并非可以给 domain 设置任何值。如果 URL 中包含一个子域名，例如 P2.wrox.com，那么只能将 domain设置为 wrox.com （URL 中包含 www，如 www.wrox.com 时，也是如此），不能将这个属性设置为 URL 中不包含的域。如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设页面来自于 p2p.wrox.com</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'wrox.com'</span> <span class="token comment">// 成功</span>
document<span class="token punctuation">.</span>domain <span class="token operator">=</span> <span class="token string">'nczonline.net'</span> <span class="token comment">// 失败</span>
</code></pre></div><h4 id="查找元素"><a href="#查找元素" class="header-anchor">#</a> 查找元素</h4> <ul><li>getElementById()：接收一个参数，要取得的元素的 id，如果找到相应的元素则返回该元素，如果不存在带有相应 id 的元素，则返回 null。如果页面中有多个元素的 id 值是相同的，那么只返回文档中第一次出现的元素。</li> <li>getElementsByTagName()：接收一个参数，即要取得元素的标签名，而返回的是包含零或者多个元素的 NodeList。在 HTML 文档中，这个方法返回一个 HTMLCollection 对象。该对象有一个 namedItem() 方法，使用这个方法可以通过元素的 name 特性取得集合中的项。在提供按索引访问项的基础上，HTMLCollection 还支持按名称访问项，对命名的项可以使用方括号语法来访问（就是传入元素的 name 属性），如果要取得所有元素，则传入 &quot;*&quot; ，获取全部元素。</li> <li>getElementsByName()：这个方法会返回带有给定 name 特性的所有元素。一般用于获取单选按钮。为了确保发送给浏览器的值正确无误，所有单选按钮必须具有相同的 name 特性；这个方法返回一个 HTMLCollection 对象。</li></ul> <h4 id="特殊集合"><a href="#特殊集合" class="header-anchor">#</a> 特殊集合</h4> <ul><li>document.anchors：包含文档中所有带 name 特性的 a 元素；</li> <li>document.applets：包含文档中所有的 applet 元素；</li> <li>document.forms：包含文档中所有的 form 元素，与 document.getElementsByTagName('form') 得到的结果一致；</li> <li>document.images：包含文档中所有的 img 元素，与 document.getElementsByTagName('img') 得到的结果一致；</li> <li>document.links：包含文档中所有带 href 特性的 a 元素；</li></ul> <h4 id="文档写入"><a href="#文档写入" class="header-anchor">#</a> 文档写入</h4> <p>将输出流写入到网页中主要为下面几个方法：这几个方法都接收一个字符串参数，即要写入到输出流中的文本；</p> <ul><li>write()：原样写入</li> <li>writeln()：会在每个字符串的末尾添加一个换行符
在页面被加载的过程中，可以使用上面两个方法向页面中动态地加入内容。</li> <li>open()：打开网页的输出流。</li> <li>close()：关闭网页的输出流。
如果是在页面加载期间使用 write() 或 writeln() 方法，则不需要使用上面两个方法。</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>document.write() example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The current date and time is:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;strong&gt;'</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'&lt;/strong&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面的代码使用功能 document.write() 在页面被呈现的过程中直接向其中输出了内容，如果在文档加载结束后再调用 document.write() ，那么输出的内容将会重写整个页面。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">9/27/2020, 10:09:48 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/Interview/BOM.html" class="prev">
        BOM
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.e5773a01.js" defer></script><script src="/note/assets/js/2.1078e79b.js" defer></script><script src="/note/assets/js/42.86d4cc56.js" defer></script>
  </body>
</html>
