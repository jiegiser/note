<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>引用类型 | 学习笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="学习笔记">
    <link rel="preload" href="/note/assets/css/0.styles.c9d983ba.css" as="style"><link rel="preload" href="/note/assets/js/app.222fd75d.js" as="script"><link rel="preload" href="/note/assets/js/2.92bfb059.js" as="script"><link rel="preload" href="/note/assets/js/34.2557a92e.js" as="script"><link rel="prefetch" href="/note/assets/js/10.2ca8f3b2.js"><link rel="prefetch" href="/note/assets/js/100.9a54c64d.js"><link rel="prefetch" href="/note/assets/js/101.9c5e80de.js"><link rel="prefetch" href="/note/assets/js/102.7d2c6919.js"><link rel="prefetch" href="/note/assets/js/103.44c382f7.js"><link rel="prefetch" href="/note/assets/js/104.20d0dd97.js"><link rel="prefetch" href="/note/assets/js/105.63ee4d22.js"><link rel="prefetch" href="/note/assets/js/106.c4d319c7.js"><link rel="prefetch" href="/note/assets/js/107.4cac18c3.js"><link rel="prefetch" href="/note/assets/js/11.d87d3fd7.js"><link rel="prefetch" href="/note/assets/js/12.25b1502a.js"><link rel="prefetch" href="/note/assets/js/13.f6ae9b4a.js"><link rel="prefetch" href="/note/assets/js/14.7d01e2e8.js"><link rel="prefetch" href="/note/assets/js/15.88101b53.js"><link rel="prefetch" href="/note/assets/js/16.a5065475.js"><link rel="prefetch" href="/note/assets/js/17.6992e335.js"><link rel="prefetch" href="/note/assets/js/18.a664a030.js"><link rel="prefetch" href="/note/assets/js/19.90164013.js"><link rel="prefetch" href="/note/assets/js/20.190a86ef.js"><link rel="prefetch" href="/note/assets/js/21.835f2876.js"><link rel="prefetch" href="/note/assets/js/22.e7a06144.js"><link rel="prefetch" href="/note/assets/js/23.85cb3864.js"><link rel="prefetch" href="/note/assets/js/24.0f95770f.js"><link rel="prefetch" href="/note/assets/js/25.76dd2c19.js"><link rel="prefetch" href="/note/assets/js/26.209ce055.js"><link rel="prefetch" href="/note/assets/js/27.bb754189.js"><link rel="prefetch" href="/note/assets/js/28.ff0e78af.js"><link rel="prefetch" href="/note/assets/js/29.6be09bb3.js"><link rel="prefetch" href="/note/assets/js/3.5fa2ee70.js"><link rel="prefetch" href="/note/assets/js/30.ca8575b1.js"><link rel="prefetch" href="/note/assets/js/31.089d7a6d.js"><link rel="prefetch" href="/note/assets/js/32.90f3e7cd.js"><link rel="prefetch" href="/note/assets/js/33.a7a1f70a.js"><link rel="prefetch" href="/note/assets/js/35.0e07dbb3.js"><link rel="prefetch" href="/note/assets/js/36.d9adea15.js"><link rel="prefetch" href="/note/assets/js/37.200258f0.js"><link rel="prefetch" href="/note/assets/js/38.f4ccf41d.js"><link rel="prefetch" href="/note/assets/js/39.014d70f9.js"><link rel="prefetch" href="/note/assets/js/4.26dc06d6.js"><link rel="prefetch" href="/note/assets/js/40.72bd6b17.js"><link rel="prefetch" href="/note/assets/js/41.58358301.js"><link rel="prefetch" href="/note/assets/js/42.b039ebb9.js"><link rel="prefetch" href="/note/assets/js/43.9496d9cc.js"><link rel="prefetch" href="/note/assets/js/44.d85fb145.js"><link rel="prefetch" href="/note/assets/js/45.80025128.js"><link rel="prefetch" href="/note/assets/js/46.7a26be6d.js"><link rel="prefetch" href="/note/assets/js/47.7e95a7f4.js"><link rel="prefetch" href="/note/assets/js/48.cdcb6e41.js"><link rel="prefetch" href="/note/assets/js/49.ee2e9d47.js"><link rel="prefetch" href="/note/assets/js/5.b5768d60.js"><link rel="prefetch" href="/note/assets/js/50.bf247154.js"><link rel="prefetch" href="/note/assets/js/51.d93e73da.js"><link rel="prefetch" href="/note/assets/js/52.f3cc4c8d.js"><link rel="prefetch" href="/note/assets/js/53.e0f25679.js"><link rel="prefetch" href="/note/assets/js/54.9b692c41.js"><link rel="prefetch" href="/note/assets/js/55.7eb4926d.js"><link rel="prefetch" href="/note/assets/js/56.7fbee8ed.js"><link rel="prefetch" href="/note/assets/js/57.4be8d2a6.js"><link rel="prefetch" href="/note/assets/js/58.09f25f9c.js"><link rel="prefetch" href="/note/assets/js/59.a88b33b1.js"><link rel="prefetch" href="/note/assets/js/6.9d22e71c.js"><link rel="prefetch" href="/note/assets/js/60.c8dc13b8.js"><link rel="prefetch" href="/note/assets/js/61.89b1c0e7.js"><link rel="prefetch" href="/note/assets/js/62.779b956c.js"><link rel="prefetch" href="/note/assets/js/63.d9aaaf77.js"><link rel="prefetch" href="/note/assets/js/64.5082fe84.js"><link rel="prefetch" href="/note/assets/js/65.b851bd79.js"><link rel="prefetch" href="/note/assets/js/66.cc6a5bfa.js"><link rel="prefetch" href="/note/assets/js/67.2f8b4842.js"><link rel="prefetch" href="/note/assets/js/68.a71a6488.js"><link rel="prefetch" href="/note/assets/js/69.e5d2dc08.js"><link rel="prefetch" href="/note/assets/js/7.b46cb729.js"><link rel="prefetch" href="/note/assets/js/70.a6ecc9f0.js"><link rel="prefetch" href="/note/assets/js/71.36659040.js"><link rel="prefetch" href="/note/assets/js/72.6d1ed08d.js"><link rel="prefetch" href="/note/assets/js/73.e4777aac.js"><link rel="prefetch" href="/note/assets/js/74.fbde79af.js"><link rel="prefetch" href="/note/assets/js/75.5c5ed003.js"><link rel="prefetch" href="/note/assets/js/76.a4741820.js"><link rel="prefetch" href="/note/assets/js/77.8eb38576.js"><link rel="prefetch" href="/note/assets/js/78.531a6ea8.js"><link rel="prefetch" href="/note/assets/js/79.a9ac3169.js"><link rel="prefetch" href="/note/assets/js/8.358c0416.js"><link rel="prefetch" href="/note/assets/js/80.2524cdeb.js"><link rel="prefetch" href="/note/assets/js/81.2a37fd1e.js"><link rel="prefetch" href="/note/assets/js/82.4697b588.js"><link rel="prefetch" href="/note/assets/js/83.f2d5e5ff.js"><link rel="prefetch" href="/note/assets/js/84.cff497a7.js"><link rel="prefetch" href="/note/assets/js/85.e9d48f1f.js"><link rel="prefetch" href="/note/assets/js/86.6960a1eb.js"><link rel="prefetch" href="/note/assets/js/87.bd999d08.js"><link rel="prefetch" href="/note/assets/js/88.e3d1a579.js"><link rel="prefetch" href="/note/assets/js/89.94f17301.js"><link rel="prefetch" href="/note/assets/js/9.72f8931f.js"><link rel="prefetch" href="/note/assets/js/90.9522a81c.js"><link rel="prefetch" href="/note/assets/js/91.322b58dd.js"><link rel="prefetch" href="/note/assets/js/92.9a397523.js"><link rel="prefetch" href="/note/assets/js/93.1e531c83.js"><link rel="prefetch" href="/note/assets/js/94.70bbdec7.js"><link rel="prefetch" href="/note/assets/js/95.4b3b75b5.js"><link rel="prefetch" href="/note/assets/js/96.8e6c1370.js"><link rel="prefetch" href="/note/assets/js/97.d07de202.js"><link rel="prefetch" href="/note/assets/js/98.c4754f67.js"><link rel="prefetch" href="/note/assets/js/99.d45a51d0.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.c9d983ba.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/perfOptimization/资源合并与压缩.html" class="nav-link">
  web 性能优化
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  Interview
</a></div><div class="nav-item"><a href="/note/perfOptimization/资源合并与压缩.html" class="nav-link">
  web 性能优化
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/Interview/forEach-forIn-forOf-map之间的区别.html" class="sidebar-link">forEach、for in、for of、map之间的区别</a></li><li><a href="/note/Interview/数据类型.html" class="sidebar-link">数据类型</a></li><li><a href="/note/Interview/操作符.html" class="sidebar-link">操作符</a></li><li><a href="/note/Interview/变量、作用域和内存.html" class="sidebar-link">变量、作用域和内存</a></li><li><a href="/note/Interview/引用类型.html" class="active sidebar-link">引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Interview/引用类型.html#引用类型" class="sidebar-link">引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/Interview/引用类型.html#object-类型" class="sidebar-link">Object 类型</a></li><li class="sidebar-sub-header"><a href="/note/Interview/引用类型.html#基本包装类型" class="sidebar-link">基本包装类型</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="引用类型"><a href="#引用类型" class="header-anchor">#</a> 引用类型</h2> <h3 id="object-类型"><a href="#object-类型" class="header-anchor">#</a> Object 类型</h3> <p>创建对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 
<span class="token comment">// 上面等价于</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'jie'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
<span class="token comment">// 也可以</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;jie&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token number">5</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 5 会转换为字符串</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="array-类型"><a href="#array-类型" class="header-anchor">#</a> Array 类型</h4> <h5 id="创建数组"><a href="#创建数组" class="header-anchor">#</a> 创建数组</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 下面 3 种都可以</span>
<span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span>
</code></pre></div><p>数组的 length 属性不是只读的，可以通过设置这个属性，可以从数组的末尾移除项或向数组中添加新项：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span>
colors<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">2</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
</code></pre></div><h5 id="检测数组"><a href="#检测数组" class="header-anchor">#</a> 检测数组</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 对数组执行某些操作</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>instanceof 操作符的问题在于，他假定只有一个全局执行环境。如果网页中包含多个框架，那实际就存在两个以上不同的全局执行环境，从而存在两个以上不同版本的 Array 构造函数。如果你从一个框架向另一个框架传入一个数组，那么传入的数组与在第二个框架中原生创建的数组分别具有各自不同的构造函数。</p></blockquote> <p>解决上面的问题，可以使用 Array.isArray() 方法，来确定某个值到底是不是数组。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 对数组执行某些操作</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="转换方法"><a href="#转换方法" class="header-anchor">#</a> 转换方法</h5> <p>调用 valueOf() 方法返回的是数组本身，调用数组的 toString() 方法，会返回数组中每个值的字符串形式拼接而成的一个以逗号分隔的字符串。
toLocaleString() 方法经常也会返回与 valueOf() 和 toString() 方法相同的值，但也不总是如此。当调用数组的 toLocaleString() 方法时，他会创建一个数组值的以逗号分隔的字符串。而与前两个方法唯一的不同之处在于。这一次为了取得每一项的值，调用的是每一项的 toLocaleString() 方法，而不是 toString() 方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">toLocaleString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Nikolaos'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Nicholas'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">toLocaleString</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Grigorios'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'Grey'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> people <span class="token operator">=</span> <span class="token punctuation">[</span>person1<span class="token punctuation">,</span> person2<span class="token punctuation">]</span>
people<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Nicholas,Grey&quot;</span>
people<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Nikolaos,Grigorios&quot;</span>
</code></pre></div><blockquote><p>join() 方法，如果不传入任何值，或者给他传入 undefined，则使用逗号作为分隔符。</p></blockquote> <p>如果数组中的某一项的值是 null 或者 undefined，那么该值在 join()、toLocaleString()、toString()、和 valueOf() 方法返回的结果中以空字符串表示。</p> <h5 id="栈方法"><a href="#栈方法" class="header-anchor">#</a> 栈方法</h5> <p>栈是一种 LIFO （Last-In-First-Out）后进先出的数据结构，也就是最新添加的项最早被删除。栈中项的插入和移除只发生在一个位置，那就是栈的顶部；
ECMAScript 为数组提供了 push 和 pop 方法来实现栈的行为；</p> <ul><li>push() 可以接收任意参数然后将他们逐个添加到数组的末尾，并返回修改后数组的长度；</li> <li>pop() 从数组的末尾移除最后一项，减少数组的 length 值，然后返回移除的项；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>

<span class="token keyword">let</span> count1 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count1<span class="token punctuation">)</span> <span class="token comment">// 3</span>

<span class="token keyword">const</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token comment">// black</span>
</code></pre></div><h5 id="队列方法"><a href="#队列方法" class="header-anchor">#</a> 队列方法</h5> <p>队列方位规则是 FIFO（First-In-First-Out，先进先出）；实现这一操作的是 shift() 方法和 push() 方法；</p> <ul><li>shift() 方法能够移除数组中的第一个项并返回该项，同时将长度减 1；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>

<span class="token keyword">let</span> count1 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count1<span class="token punctuation">)</span> <span class="token comment">// 3</span>

<span class="token keyword">const</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token comment">// red</span>
</code></pre></div><p>还有一个方法 unshift() 方法，他与 shift() 方法的作用相反，他能在数组前端添加任意个项并返回新数组的长度。因此，同时使用 unshift() 和 pop() 方法，可以从相反的方向来模拟队列，也就是在数组的前端添加项，从数组的末端移除项：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span> <span class="token comment">// 2</span>

<span class="token keyword">let</span> count1 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>count1<span class="token punctuation">)</span> <span class="token comment">// 3</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span> <span class="token comment">// black, red, green</span>

<span class="token keyword">const</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token comment">// green</span>
</code></pre></div><h5 id="重排序方法"><a href="#重排序方法" class="header-anchor">#</a> 重排序方法</h5> <p>数组的重排序有两个方法：reverse() 和 sort()：</p> <ul><li>reverse() 反转数组项的顺序</li> <li>sort() 按升序排列数组项，也就是最小的值位于最前面，最大的值在后面，为了实现排序，sort() 方法会调用每个数据项的 toString() 转型方法，然后比较得到的字符串，以确定如何排序。即使数组中的每一项都是数值，sort() 方法比较也是字符串；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
values<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span>
values<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token comment">// 0, 1, 10, 15, 5</span>
</code></pre></div><p>sort() 方法接收一个比较函数作为参数，以便我们指定哪个值位于哪个值的前面，比较函数接收两个参数，如果第一个参数应该位于第二个之前则返回负数，如果两个参数相等则返回 0，如果第一个参数应该位于第二个之后则返回一个正数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span> value2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// values = [0, 1, 5, 10, 15]</span>
  <span class="token comment">// value1, value2 = 1, 0</span>
  <span class="token comment">// value1, value2 = 5, 1</span>
  <span class="token comment">// value1, value2 = 10, 5</span>
  <span class="token comment">// value1, value2 = 15, 10</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value1 <span class="token operator">&lt;</span> value2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value1 <span class="token operator">&gt;</span> value2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>sort() 和 reverse() 方法的返回值是经过排序后的数组</p></blockquote> <p>如果数组是数值类型或者其 valueOf() 方法会返回数值类型的对象类型，可以使用一个更简单的比较函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span> value2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value2 <span class="token operator">-</span> value2
<span class="token punctuation">}</span>
</code></pre></div><h5 id="操作方法"><a href="#操作方法" class="header-anchor">#</a> 操作方法</h5> <ul><li>concat() 方法</li></ul> <p>这个方法会先创建当前数组的一个副本，然后将接收到的参数添加到这个副本的末尾，最后返回新构建的数组。在没有传递参数的情况下，它只是复制当前数组并返回副本。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> clors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'yellow'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span> <span class="token comment">// red, green</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token comment">// red, green, blue, yellow</span>
</code></pre></div><ul><li>slice() 方法 - 不会影响原始数组</li></ul> <p>这个方法是基于当前数组中的一或多个项创建一个新数组，slice() 方法可以接收一或两个参数，即要返回项的起始和结束为止。在只有一个参数的情况下，返回从该参数指定为止开始到当前数组末尾的所有项。如果有两个参数，该方法返回起始和结束为止之前的项，不包括结束位置的项。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">,</span> <span class="token string">'purple'</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> clors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> colors3 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span> <span class="token comment">// 'green', 'blue', 'yellow', 'purple'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token comment">// 'green', 'blue', 'yellow'</span>
</code></pre></div><blockquote><p>如果 slice() 方法的参数中有一个负数，则用数组长度加上该数来确定相应的位置；如果开始位置大于结束位置，返回空数组</p></blockquote> <ul><li>splice() 方法</li></ul> <p>可以进行删除、插入、替换操作：</p> <ol><li>删除：需要指定 2 个参数，要删除的第一项的位置和要删除的项数，例如 spilce(0, 2) 会删除数组中的前两项。</li> <li>插入：需要提供 3 个参数，起始位置、0（要删除的项）、要插入的项；如果需要插入多个，可以再传入第四、五参数，以及更多的参数，例如；splice(2, 0, 'red', 'green')，从第二个位置开始插入字符串 'red'，'green';</li> <li>替换：需要是哪个参数，起始位置、要删除的项数、要插入的任意数量的项。例如；splice(2, 1, 'red', 'green') 会删除数组的位置 2 的项，然后再从位置 2 开始插入字符串 'red'，'green'；</li></ol> <h5 id="位置方法"><a href="#位置方法" class="header-anchor">#</a> 位置方法</h5> <p>有两个方法：indexOf() 和 lastIndexOf() 方法，都接收两个参数：要查找的项，以及查找起点位置的索引（可选参数），indexOf() 是从数组头开始查找，lastIndexOf() 是从数组的末尾开始查找。</p> <p>查找规则：</p> <ul><li>查找返回要查找项的索引；</li> <li>如果没有查找到，返回 -1；</li> <li>使用全等操作符进行查找；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><h5 id="迭代方法"><a href="#迭代方法" class="header-anchor">#</a> 迭代方法</h5> <p>数组的迭代方法都接收两个参数：要在每一项上运行的函数和运行该函数的作用域对象（可选）影响 this 的值。传入这些方法中的函数会接收三个参数：当前项，项的索引，和迭代的数组。</p> <blockquote><p>以下方法都不会修改数组中的项</p></blockquote> <ul><li>every()：对数组的每一项执行给定的函数，如果该函数对每一项都返回 true，则返回 true；</li> <li>filter()：对数组的每一项执行给定的函数，返回该函数会返回 true 的项组成的数组；</li> <li>forEach()：数组中的每一项执行给定的函数，该方法没有返回值；</li> <li>map()：对数组的每一项执行给定的函数，返回每次函数调用的结果组成的数组；</li> <li>some()：对数组的每一项执行给定的函数，如果该函数对任一项返回 true，则返回 true；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> everyResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>everyResult<span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token keyword">var</span> someResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someResult<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">var</span> filterResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>filterResult<span class="token punctuation">)</span> <span class="token comment">// [3, 4, 5, 4, 3]</span>

<span class="token keyword">var</span> mapResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> item <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mapResult<span class="token punctuation">)</span> <span class="token comment">// [false, false, true, true, true, true, true, false, false]</span>

<span class="token keyword">var</span> mapResult2 <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  item <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mapResult2<span class="token punctuation">)</span> <span class="token comment">// [undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined, undefined]</span>

<span class="token keyword">var</span> filterResult2 <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  item <span class="token operator">&gt;</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>filterResult2<span class="token punctuation">)</span> <span class="token comment">// []</span>
</code></pre></div><h5 id="归并方法"><a href="#归并方法" class="header-anchor">#</a> 归并方法</h5> <p>归并方法 reduce() 和 reduceRight() 方法。这两个方法都会迭代数组的所有项，然后构建一个最终返回的值。</p> <ul><li>reducer() 方法从数组的第一项开始，逐个遍历到最后；</li> <li>reduceRight() 方法从数组的最后一项开始，向前遍历到数组第一项；</li></ul> <p>两个方法都接收两个参数：一个在每一项上调用的函数和作为归并基础的初始值（可选），传入这两个方法的函数都会接收 4 个参数：前一个值、当前值、项的索引和数组对象。这个函数返回的任何值都会作为第一个参数自动传给下一项。第一次迭代发生在数组的第二项上，因此第一个参数是驻足的第一项，第二个参数就是数组的第二项。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> prev <span class="token operator">+</span> cur
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span>
</code></pre></div><h4 id="date-类型"><a href="#date-类型" class="header-anchor">#</a> Date 类型</h4> <p>创建一个日期对象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 不传参数，自动获取当前日期和时间</span>
</code></pre></div><p>如果需要根据指定的时期和时间创建对象，必须传入表示该日期的毫秒数，为了简化这个过程，ECMAScript 提供了两个方法：Date.parser()  和 Date.UTC():</p> <ul><li>Date.parser() 方法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 返回自定义时间戳</span>
 Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'2020/08/14'</span><span class="token punctuation">)</span>
 
<span class="token comment">// 返回当前时间的事件戳</span>
 Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>如果传入 Date.parser() 方法的字符串不能表示日期，那么返回 NaN，实际上，如果直接将表示日期的字符串传递给 Date 构造函数，也会在后台调用 Date.parser() 方法。</p> <ul><li>Date.UTC() 方法</li></ul> <p>他需要的参数分别是年份、基于 0 的月份（一月是 0）、月中的哪一天（1-31）、小时数（0-23）、分钟、秒以及毫秒数。这些参数中，只有前两个参数是必须的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> utcDate1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>utcDate1<span class="token punctuation">.</span><span class="token function">toUTCString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Fri, 14 Aug 2020 00:00:00 GMT</span>

<span class="token comment">// 上面代码等同于</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>Date.now()</li></ul> <p>该方法返回调用这个方法时的日期和时间的毫秒数。</p> <h5 id="继承的方法"><a href="#继承的方法" class="header-anchor">#</a> 继承的方法</h5> <p>Date 同样具有 toLocaleString() 、toString()、valueOf() 方法。</p> <ul><li>toLocaleString() 按照与浏览器设置的地区相适应的格式返回日期和时间。</li> <li>toString() 返回带有时区信息的日期和时间，其中时间一般以军用时间（即小时的范围是 0-23）表示。</li></ul> <blockquote><p>上面两种方法对于不同的浏览器返回的结果不同</p></blockquote> <ul><li>valueOf() 不返回字符串，返回日期的毫秒表示。因此，可以使用比较操作符来比较日期值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> data1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> data2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data1 <span class="token operator">&lt;</span> data2<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h5 id="日期的格式化"><a href="#日期的格式化" class="header-anchor">#</a> 日期的格式化</h5> <ul><li>toDateString() 以特定于实现的格式显示星期几、月、日和年；</li> <li>toTimeString() 以特定于实现的格式显示时、分、秒和时区；</li> <li>toLocaleDateString() 以特定于地区的格式显示星期几、月、日和年；</li> <li>toLocaleTimeString() 以特定于实现的格式显示时、分、秒；</li> <li>toUTCString() 以特定于实现的格式完整的 UTC 日期；</li></ul> <p>上面的格式方法的输出因浏览器不同也是不一样的。</p> <h5 id="日期-时间组件方法"><a href="#日期-时间组件方法" class="header-anchor">#</a> 日期/时间组件方法</h5> <ul><li>getTime()：返回表示日期的毫秒数；与 valueOf() 方法返回的值相同。</li> <li>setTime(毫秒)：以毫秒数设置日期，会改变整个日期。</li> <li>getFullYear()：取得 4 位数的年份。</li> <li>getUTCFullYear()：返回 UTC 日期的 4 位数年份。</li> <li>setFullYear(年)：设置日期的年份。传入的年份值必须是4位数字。</li> <li>setUTCFullYear(年)：设置 UTC 日期的年份。传入的年份值必须是4位数字。</li> <li>getMonth()：返回日期中的月份，其中 0 表示一月，11 表示十二月。</li> <li>getUTCMonth()：返回 UTC 日期中的月份，其中 0 表示一月，11表示十二月。</li> <li>setMonth(月)：设置日期的月份（0-11）。</li> <li>setUTCMonth(月)：设置 UTC 日期的月份（0-11）。</li> <li>getDate()：返回日期月份中的天数（1-31）。</li> <li>getUTCDate()：返回 UTC 日期月份中的天数（1-31）。</li> <li>setDate(日)：设置日期月份中的天数（1-31）。</li> <li>setUTCDate(日)：设置 UTC 日期月份中的天数（1-31）。</li> <li>getDay()：返回日期中星期的星期几（0 表示星期日，6 表示星期六）。</li> <li>getUTCDay()：返回 UTC 日期中星期的星期几（0 表示星期日，6 表示星期六）。</li> <li>getHours()：返回日期中的小时数（0-23）。</li> <li>getUTCHours()：返回 UTC 日期中的小时数（0-23）。</li> <li>getMinutes()：返回日期中的分钟数（0-59）。</li> <li>getUTCMinutes()：返回 UTC 日期中的分钟数（0-59）。</li> <li>setMinutes(分)：设置日期中的分钟数。</li> <li>setUTCMinutes(分)：设置 UTC 日期中的分钟数。</li> <li>getSeconds()：返回日期中的秒数（0-59）。</li> <li>getUTCSeconds()：返回 UTC 日期中的秒数（0-59）。</li> <li>setSeconds(秒)：设置日期中的秒数。</li> <li>setUTCSeconds(秒)：设置 UTC 日期中的秒数。</li> <li>getMilliseconds()：返回日期中的毫秒数。</li> <li>getUTCMilliseconds()：返回 UTC 日期中的毫秒数。</li> <li>setMilliseconds(毫秒)：设置日期中的毫秒数。</li> <li>setUTCMilliseconds(毫秒)：设置 UTC 日期中的毫秒数。</li> <li>getTimezoneOffset()：返回本地时间与 UTC 时间相差的分钟数。</li></ul> <h4 id="regexp-类型"><a href="#regexp-类型" class="header-anchor">#</a> RegExp 类型</h4> <h5 id="创建正则表达式"><a href="#创建正则表达式" class="header-anchor">#</a> 创建正则表达式</h5> <p>每个正则表达式都可带有一个或者多个标志，用来标明正则表达式的行为。正则表达式的匹配模式支持下面的 3 个标志：</p> <ul><li>g：表示全局模式，也就是说模式将被应用到所有字符串。</li> <li>i：表示不区分大小写模式。</li> <li>m：表示多行模式。</li></ul> <p>一个正则表达式就是一个模式与上面三个标志的组合体。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 匹配字符串中所有 at 的实例</span>
<span class="token keyword">var</span> pattern1 <span class="token operator">=</span> <span class="token regex">/at/g</span>

<span class="token comment">// 匹配第一个 bat 或者 cat ，不区分大小</span>
<span class="token keyword">var</span> pattern2 <span class="token operator">=</span> <span class="token regex">/[bc]at/i</span>

<span class="token comment">// 匹配所有以 at 结尾的 3 个字符的组合，不区分大小写</span>
<span class="token keyword">var</span> pattern3 <span class="token operator">=</span> <span class="token regex">/.at/gi</span>

</code></pre></div><p>模式中使用的所有元字符都必须转义，正则表达式中的元字符包括：
这些元字符在正则表达式中都有一种或者多种特殊用途，因此如果想要匹配字符串中包含的这些字符，就必须对他们进行转义；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> \ <span class="token operator">^</span> $ <span class="token operator">|</span> <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">*</span> <span class="token operator">+</span> <span class="token punctuation">.</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>

<span class="token comment">// 匹配第一个 bat 或者 cat ，不区分大小</span>
<span class="token keyword">var</span> pattern2 <span class="token operator">=</span> <span class="token regex">/[bc]at/i</span>

<span class="token comment">// 匹配第一个[bc] at, 不区分大小</span>
<span class="token keyword">var</span> pattern3 <span class="token operator">=</span> <span class="token regex">/\[bc\]at/i</span>

<span class="token comment">// 匹配所有以 at 结尾的 3 个字符的组合，不区分大小写</span>
<span class="token keyword">var</span> pattern4 <span class="token operator">=</span> <span class="token regex">/.at/gi</span>

<span class="token comment">//  匹配所有 .at ，不区分大小写</span>
<span class="token keyword">var</span> pattern5 <span class="token operator">=</span> <span class="token regex">/\.at/gi</span>
</code></pre></div><p>也可以使用 RegExp 构造函数创建正则对象：第一个参数是要匹配的字符串模式，另一个是可选的标志字符串。
下面的 pattern1 和 pattern2 是等价的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> pattern1 <span class="token operator">=</span> <span class="token regex">/[bc]at/i</span>

<span class="token keyword">var</span> pattern2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'[bc]at'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span>
</code></pre></div><p>由于 RegExp 构造函数的模式都是字符串，所以在某些情况下需要对字符串进行双重转义，所有元字符都必须双重转义，那些转义过的字符也是如此。</p> <table><thead><tr><th>字面量模式</th> <th>等价的字符串</th></tr></thead> <tbody><tr><td>/[bc]at/</td> <td>&quot;\[bc\]at&quot;</td></tr> <tr><td>/.at/</td> <td>&quot;\.at&quot;</td></tr> <tr><td>/name/age/</td> <td>&quot;name\/age&quot;</td></tr> <tr><td>/\d.\d{1,2}/</td> <td>&quot;\d.\d{1,2}&quot;</td></tr> <tr><td>/\w\hello\123/</td> <td>&quot;\w\\hello\\123&quot;</td></tr></tbody></table> <h5 id="regexp-实例属性"><a href="#regexp-实例属性" class="header-anchor">#</a> RegExp 实例属性</h5> <p>RegExp 的每个实例都具有下面的属：</p> <ul><li>global：布尔值，表示是否设置了 g 标志</li> <li>ignotrCase: 布尔值，表示是否设置了 i 标志</li> <li>lastIndex：整数，表示开始搜索下一个匹配项的字符位置，从 0 算起</li> <li>multiline：布尔值，表示是否设置了 m 标志</li> <li>source：正则表达式的字符串表示，按照字面量形式而非插入构造函数中的字符串模式返回</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> pattern1 <span class="token operator">=</span> <span class="token regex">/\[bc\]at/i</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>source<span class="token punctuation">)</span> <span class="token comment">// \[bc\]at</span>

<span class="token keyword">var</span> pattern2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\\[bc\\]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">.</span>souce<span class="token punctuation">)</span> <span class="token comment">// \[bc\]</span>
</code></pre></div><h5 id="regexp-实例方法"><a href="#regexp-实例方法" class="header-anchor">#</a> RegExp 实例方法</h5> <ul><li>exec()：接收一个参数就是要应用模式的字符串，然后返回包含第一个匹配项信息的数组，或者在没有匹配项的情况下返回 null；
返回的数组有两个额外的属性：index 和 input，index 表示匹配项在字符串中的位置，input 表示应用正则表达式的字符串。在数组中，第一项是与整个模式匹配的字符串，其他项是与模式中的捕获组匹配的字符串（如果模式中没有捕获组，则该数组只包含一项）：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'mom and dad and baby'</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex">/mom( and dad( and baby)?)?/gi</span>

<span class="token keyword">var</span> matches <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>input<span class="token punctuation">)</span> <span class="token comment">// mom and dad and baby</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// mom and dad and baby</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//  and dad and baby</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//  and baby</span>
</code></pre></div><p>exec() 方法，即使在模式中设置了全局标志，它每次也只会返回一个匹配项。在不设置全局标志的情况下，在同一个字符串上多次调用 exec() 将始终返回第一个匹配项的信息。而在设置全局标志的情况下，每次调用 exec() 则都会在字符串中继续查找新匹配项：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>
<span class="token keyword">var</span> pattern1 <span class="token operator">=</span> <span class="token regex">/.at/</span>

<span class="token keyword">var</span> matches <span class="token operator">=</span> pattern1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// cat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>

matches <span class="token operator">=</span> pattern1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// cat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>

<span class="token keyword">var</span> pattern2 <span class="token operator">=</span> <span class="token regex">/.at/g</span>
<span class="token keyword">var</span> matches <span class="token operator">=</span> pattern2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// cat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 3</span>

matches <span class="token operator">=</span> pattern2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// bat</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 8</span>
</code></pre></div><blockquote><p>这里需要注意模式的 lastIndex 属性的变化，在全局模式下，lastIndex 的值在每次调用 exec() 后都会增加，而在非全局模式下则会保持不变。</p></blockquote> <ul><li>test() 方法：在模式与该参数匹配的情况下返回 true；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'000-00-0000'</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex">/\d{3}-\d{2}-\d{4}/</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'匹配成功'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>toLocaleString() 和 toString() 方法：返回正则表达式的字面量：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\[bc\\]at'</span><span class="token punctuation">,</span> <span class="token string">'gi'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// /\[bc\]at/gi</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// /\[bc\]at/gi</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// /\[bc\]at/gi</span>
</code></pre></div><h5 id="regexp-构造函数属性"><a href="#regexp-构造函数属性" class="header-anchor">#</a> RegExp 构造函数属性</h5> <table><thead><tr><th>长属性名</th> <th>短属性名</th> <th>说 明</th></tr></thead> <tbody><tr><td>input</td> <td>$_</td> <td>最近一次要匹配的字符串。</td></tr> <tr><td>lastMatch</td> <td>$&amp;</td> <td>最近一次的匹配项</td></tr> <tr><td>lastParen</td> <td>$+</td> <td>最近一次匹配的捕获组</td></tr> <tr><td>leftContext</td> <td>$`</td> <td>input 字符串中 lastMatch 之前的文本</td></tr> <tr><td>multiline</td> <td>$*</td> <td>布尔值，表示是否所有表达式都使用多行模式</td></tr> <tr><td>rightContext</td> <td>$'</td> <td>input 字符串中 lastMatch 之后的文本</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'this has been a short summer'</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex">/(.)hort/g</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>input<span class="token punctuation">)</span> <span class="token comment">// this has been a short summer</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>leftContext<span class="token punctuation">)</span> <span class="token comment">// this has been a</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>rightContext<span class="token punctuation">)</span> <span class="token comment">// summer</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>lastMatch<span class="token punctuation">)</span> <span class="token comment">// short</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>lastParen<span class="token punctuation">)</span> <span class="token comment">// s</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>multiline<span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="函数声明与函数表达式"><a href="#函数声明与函数表达式" class="header-anchor">#</a> 函数声明与函数表达式</h4> <p>解析器在向执行环境中加载数据时，对函数声明和函数表达式处理是不一样的。解析器会率先读取函数声明，并使其在执行任何代码之前可用，至于函数表达式，则必须等到解析器执行到他所在的代码行，才会真正被解析执行：</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span> <span class="token comment">// 函数--函数声明会提升</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token string">'1'</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>
<span class="token comment">// 换成下面的声明方式就会报错</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>
</code></pre></div><h5 id="函数的内部属性"><a href="#函数的内部属性" class="header-anchor">#</a> 函数的内部属性</h5> <p>在函数内部，有两个特殊的对象：arguments 和 this；arguments 是一个类数组对象，包含传入函数中的所有参数，arguments 还有一个名叫 callee 的属性，该属性是一个指针，指向拥有这个 arguments 对象的函数。</p> <ol><li>arguments 对象</li></ol> <p>如下一个阶乘函数：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>定义阶乘需要递归算法，上面的代码有缺陷，如果一旦函数名变了，还得修改对应的递归函数名，这个函数的执行与函数名 factorial 紧紧耦合在一起的。我们可以借助 callee 来消除这种耦合现象：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样不管用什么函数名都可以使用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> tureFactorial <span class="token operator">=</span> factoriac
<span class="token function-variable function">factorial</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tureFactorial</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 120</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div><ol start="2"><li>this 对象</li></ol> <p>this 引用的是函数执行的环境对象。当在网页的全局作用域中调用函数时，this 对象引用的就是 Window；</p> <ol start="3"><li>caller 属性</li></ol> <p>这个属性保存着调用当前函数的函数的引用，如果是在全局作用域中调用当前函数，他的值为 null：</p> <p>因为 outer() 调用了 inner() ，所以 inner.caller 就指向 outer()，也可以通过 argument.callee.caller 来访问。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inner<span class="token punctuation">.</span>caller<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ƒ outer() { inner() }</span>
</code></pre></div><blockquote><p>当函数在严格模式下运行，访问 arguments.callee 会导致错误， ECMAScript 5 还定义了 arguments.caller 属性，但在严格模式下也会访问也会报错。在非严格模式下，这个属性始终是 undefined。严格模式还有一个限制：不能为函数的 caller 属性赋值，否则会导致报错；</p></blockquote> <h5 id="函数属性和方法"><a href="#函数属性和方法" class="header-anchor">#</a> 函数属性和方法</h5> <p>每个函数都包含两个属性：length 和 prototype：</p> <ul><li>length：表示函数希望接收的命名参数的个数。</li> <li>prototype：是保存所有实例方法，也就是函数的原型对象。该属性是不可枚举的，因此使用 for ... in 无法访问。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">sum1<span class="token punctuation">,</span> sum2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> sum1 <span class="token operator">+</span> sum2
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><p>每个函数都有两个非继承而来的方法：apply() 和 call() 方法。两个方法都是设置函数体内 this 的值：</p> <ul><li>apply()：接收两个参数，一个是 this 的指向对象，另一个是参数数组（可以是 array 的实例，也可以是 arguments 对象）；</li> <li>call()：与 apply() 方法的作用相同，第一个参数是 this 对象，其余参数直接传递给函数。</li> <li>bind()：这个方法会创建一个函数实例，其 this 值会绑定到传给 bind() 函数的值。</li></ul> <blockquote><p>在严格模式下，未指定环境对象而调用函数，则 this 值不会转型为 window，除非明确把函数添加到某个对象或者调用 apply() 或 call() ，否则 this 值将是 undefined。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>

<span class="token comment">// apply()</span>

<span class="token keyword">function</span> <span class="token function">applySum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">// 或者</span>
  <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// this 为 window 对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">applySum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// call()</span>

<span class="token keyword">function</span> <span class="token function">callSum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">sum</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">callSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// bind()</span>

window<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  color<span class="token operator">:</span> <span class="token string">'blue'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">sayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> objectSayColor <span class="token operator">=</span> <span class="token function">sayColor</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>
<span class="token function">objectSayColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// blue</span>
</code></pre></div><p>上面三个方法继承的 toLocaleString() 和 toString() 方法都始终返回函数的代码。valueOf() 也是返回函数代码。</p> <h3 id="基本包装类型"><a href="#基本包装类型" class="header-anchor">#</a> 基本包装类型</h3> <p>一般我们调用基本类型方法（基本类型不是对象，但是有包装类型）的时候其实是经过下列步骤：</p> <p>比如：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token string">'some text'</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><p>执行步骤：</p> <ol><li>创建 String 类型的一个实例；</li> <li>在实例上调用指定的方法；</li> <li>销毁这个实例；</li></ol> <p>可以将上面三个步骤写成下面代码：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
s1 <span class="token operator">=</span> <span class="token keyword">null</span>
</code></pre></div><blockquote><p>引用类型与基本包装类型的主要区别就是对象的生存期。使用 new 操作符创建的引用类型的实例，在执行流离开当前作用域之前都一直保存在内存中。而自动创建的基本包装类型的对象，则只存在于一行代码的执行瞬间，然后立即被销毁。所以我们不能在运行的时候为基本类型值添加属性和方法。</p></blockquote> <p>Object 构造函数也会像工厂方法一样，会根据传入值的类型返回相应基本包装类型的实例：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span>  <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>要注意的是，使用 new 调用基本包装类型的构造函数，与直接调用同名的转型函数是不一样的：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token string">'12'</span>
<span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 转型函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> number<span class="token punctuation">)</span> <span class="token comment">// number</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 构造函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">)</span> <span class="token comment">// object</span>
</code></pre></div><h4 id="boolean-对象"><a href="#boolean-对象" class="header-anchor">#</a> Boolean 对象</h4> <p>下面代码 new Boolean(false) 返回的是 true，是因为布尔表达式中的所有对象都会被转换为 true，new Boolean(false) 创建出来的是一个对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> falseObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> falseObject <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">var</span> falseValue <span class="token operator">=</span> <span class="token boolean">false</span>
result <span class="token operator">=</span> falseValue <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> falseObject<span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> falseValue<span class="token punctuation">)</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>falseObject <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>falseValue <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="number-类型"><a href="#number-类型" class="header-anchor">#</a> Number 类型</h4> <ul><li>toFixed() 方法会按照指定的小数位返回数值的字符串表示。如果指定位数不够会补零，如果多余通过四舍五入进行取值；</li> <li>toString() 方法可以传递一个表示基数的参数，告诉他返回多少进制数值的字符串格式。</li> <li>toExponential() 方法返回以指数表示法（也称 e 表示法）表示的数值的字符串形式；也接收一个参数，而且该参数同样也是指定输出结果中的小数位数。</li> <li>toPrecision() 方法可能会返回固定大小格式，也可能返回指数格式，具体规则是看哪种格式最合适。这个方法接收一个参数，即表示数值的所有数字的位数（不包括指数部分）。实际上，他会根据处理的数值决定调用 toFixed() 还是调用 toExponential()。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1010</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 10.00</span>
num <span class="token operator">=</span> <span class="token number">10.005</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 10.01</span>

<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1.0e+1</span>

<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">99</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1e+2 一位数无法精确表示 99，因此向上舍入为 100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 99</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 99.0</span>
</code></pre></div><h4 id="string-类型"><a href="#string-类型" class="header-anchor">#</a> String 类型</h4> <h5 id="字符方法"><a href="#字符方法" class="header-anchor">#</a> 字符方法</h5> <p>用于访问字符串中特定字符的方法：chatAt() 和 chartCodeAt()。这两个方法接收一个参数，即基于 0  的字符位置。</p> <ul><li>chatAt() 返回指定位置单字符字符串的形式；</li> <li>chartCodeAt() 返回指定位置字符编码；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">chatAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// e</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 101</span>

<span class="token comment">// 可以通过方括号加数字索引来访问字符串中特定字符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// e</span>
</code></pre></div><h5 id="字符串操作方法"><a href="#字符串操作方法" class="header-anchor">#</a> 字符串操作方法</h5> <ul><li>concat() 用于将一或多个字符串拼接起来，返回拼接得到的新字符串；可以接收任意多个参数，进行拼接；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello '</span>
<span class="token keyword">var</span> result <span class="token operator">=</span> stringValue<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">'world'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token comment">// hello world!</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">)</span> <span class="token comment">// hello </span>
</code></pre></div><p>基于字符串创建新字符串的方法：slice() 、substr() 和 substring()；这三个方法都返回被操作字符串的一个子字符串，而且都接收一个或者两个参数。
第一个参数指定字符串的开始位置，第二个字符标志子字符串到哪里结束。</p> <ul><li>slice() 和 subString() 的第二个参数指定的是子字符串最后一个字符后面的位置。</li> <li>subStr() 方法的第二个参数指定的则是返回的字符个数。</li></ul> <blockquote><p>这三个方法不会修改原字符串
如果没有给这些方法传递第二个参数，则将字符串的末尾作为结束位置。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// lo world</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// lo world</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// lo world</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// lo wo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// lo wo</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// lo worl</span>
</code></pre></div><p>如果传递给这些方法的参数是负值：</p> <ul><li>slice()：会将传入的负值与字符串的长度相加，如果结果还是负值，则返回原字符串；如果第一个参数的结果根据前面计算完还是负值，第二个结束位置是合适的，那么返回结果是将第一个参数为 0 进行截取的。</li> <li>substr()：会将负的第一个参数加上字符串的长度，而将负的第二个参数转换为 0；</li> <li>substring()：会将所有的负值转换为 0；</li></ul> <h5 id="字符串位置方法"><a href="#字符串位置方法" class="header-anchor">#</a> 字符串位置方法</h5> <p>两个方法都是从一个字符串中搜索给定的子字符串。然后返回字符串的位置，如果没有找到该子字符串则返回 -1。如果搜索的字符串只出现过一次，那么两个返回同样的结果。这链各个方法可以传第二个参数，用于指定从哪个位置开始进行搜索。</p> <ul><li>indexOf()：从字符串的开头向后找；</li> <li>laseIndexOf()：从字符串的末尾向前找；</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 7</span>
</code></pre></div><h5 id="trim-方法"><a href="#trim-方法" class="header-anchor">#</a> trim() 方法</h5> <p>返回一个原始字符串的副本，用于删除字符串前后的空格；</p> <h5 id="字符串大小写转换"><a href="#字符串大小写转换" class="header-anchor">#</a> 字符串大小写转换</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> stringValue <span class="token operator">=</span> <span class="token string">'hello world'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// HELLO WORLD</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringValue<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hello world</span>
</code></pre></div><h5 id="字符串的模式匹配方法"><a href="#字符串的模式匹配方法" class="header-anchor">#</a> 字符串的模式匹配方法</h5> <ul><li>match() 方法：本质上调用 RegExp 的 exec() 方法相同；他只接受一个参数，要么是一个正则表达式，要么是一个 RegExp 对象。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token string">'cat, bat, sat, fat'</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex">/.at/</span>
<span class="token comment">// 与 pattern.exec(text) 相同</span>
<span class="token keyword">var</span> matches <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 'cat'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">8/21/2020, 8:59:45 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/Interview/变量、作用域和内存.html" class="prev">
        变量、作用域和内存
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.222fd75d.js" defer></script><script src="/note/assets/js/2.92bfb059.js" defer></script><script src="/note/assets/js/34.2557a92e.js" defer></script>
  </body>
</html>
