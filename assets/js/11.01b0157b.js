(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{393:function(t,s,a){t.exports=a.p+"assets/img/toushitouying.f0c04de1.png"},394:function(t,s,a){t.exports=a.p+"assets/img/zhengjiaotouying.e10be471.png"},563:function(t,s,a){t.exports=a.p+"assets/img/shizhuiti.111a52ad.png"},564:function(t,s,a){t.exports=a.p+"assets/img/toushitudmb.4abd025d.png"},565:function(t,s,a){t.exports=a.p+"assets/img/nearval.88bfa679.png"},566:function(t,s){t.exports="data:image/png;base64,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"},567:function(t,s,a){t.exports=a.p+"assets/img/guifanhuazuobaio.949eb048.png"},568:function(t,s,a){t.exports=a.p+"assets/img/pxc.b1efd7a2.png"},569:function(t,s,a){t.exports=a.p+"assets/img/znze.33f125dc.png"},570:function(t,s,a){t.exports=a.p+"assets/img/toushigongshi1.d905b9a5.png"},571:function(t,s,a){t.exports=a.p+"assets/img/zjtd.5f311124.png"},774:function(t,s,a){"use strict";a.r(s);var n=a(29),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("投影矩阵分为正交投影矩阵（正射投影矩阵）以及透视投影矩阵；")]),t._v(" "),n("p",[t._v("投影变换完成的是如何将三维模型显示到二维视口上，这是一个三维到二维的过程。你可以将投影变换看作是调整照相机的焦距，它模拟了为照相机选择镜头的过程。投影变换是所有变换中最复杂的一个。")]),t._v(" "),n("h2",{attrs:{id:"透视投影推导"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#透视投影推导"}},[t._v("#")]),t._v(" 透视投影推导")]),t._v(" "),n("p",[t._v("透视投影是为了模拟人眼的近大远小的一个特性。")]),t._v(" "),n("h3",{attrs:{id:"视椎体"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视椎体"}},[t._v("#")]),t._v(" 视椎体")]),t._v(" "),n("p",[t._v("视锥体是一个三维体，他的位置和摄像机相关，视锥体的形状决定了模型如何从视空间投影到屏幕上。透视投影使用棱锥作为视锥体，摄像机位于棱锥的椎顶。该棱锥被前后两个平面截断，形成一个棱台，叫做 View Frustum，只有位于 Frustum 内部的模型才是可见的。我们也通常称这个为裁剪空间，在这个裁剪空间中有两个平面比较特殊，我们分辨称为近裁剪平面（near clip plane）和远裁剪平面（far clip plane）。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(563),alt:"avatar"}})]),t._v(" "),n("h3",{attrs:{id:"投影矩阵的本质"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#投影矩阵的本质"}},[t._v("#")]),t._v(" 投影矩阵的本质")]),t._v(" "),n("p",[t._v("投影矩阵有两个目的： - 首先是为投影做准备。这是个迷惑点。虽然投影矩阵的名称包含了投影二字，但是它并没有进行真正的投影工作，而是在为投影做准备。真正得投影发生在后面得齐次除法（homogeneous division）过程中。经过投影矩阵的变换后，顶点的 w 分量会具有特殊的意义。 - 其次是对 x ，y，z 分量进行缩放。如果用视锥体的6个裁剪平面来进行裁剪会比较麻烦，而经过投影矩阵的缩放后，就可以直接使用 w 分量作为一个范围值。如果 x ，y，z 分量都位于这个范围内，就说明该顶点位于裁剪空间内，如下图所示")]),t._v(" "),n("p",[t._v("图1：\n"),n("img",{attrs:{src:a(393),alt:"avatar"}})]),t._v(" "),n("h3",{attrs:{id:"投影矩阵推导"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#投影矩阵推导"}},[t._v("#")]),t._v(" 投影矩阵推导")]),t._v(" "),n("p",[t._v("透视投影分两步：")]),t._v(" "),n("ol",[n("li",[t._v("从 Frustun（视椎） 内一点投影到近裁剪平面的过程")]),t._v(" "),n("li",[t._v("由近平面到规范化设备坐标系的过程（透视除法- webgl 底层实现）")])]),t._v(" "),n("p",[t._v("我们最后得到的 gl_Position 的坐标并不是规范化设置坐标系的坐标。 但是这个坐标带有一个 w 的值，w 值代表近大远小的一个属性。webgl 可以通过这个值进行会规范化坐标。gl_Position 是一个 vec4 类型的数据，第四个参数也就是缩放系数。")]),t._v(" "),n("p",[t._v("投影矩阵的推导目标：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(564),alt:"avatar"}})]),t._v(" "),n("p",[t._v("P 是透视投影矩阵，通过与坐标点进行计算得到（xc, yc, zc, wc）的视空间下的物体坐标。然后通过 xc / wc 等操作进行规范化系内的坐标。")]),t._v(" "),n("p",[t._v("将相机坐标系中的点 p = (xe, ye, ze) 投影到投影平面，得到点：p' = (xp, yp, -nearVal)")]),t._v(" "),n("p",[t._v("在俯视图中，可以看到两个相似三角形，xp/xe = -n/ze，所以 xp 就等于 - (xe*n) / ze；从侧视图可以得到 yp = -(ye * n) / ze；我们可以看到 xp 与 yp 都是除了 -ze，所以我们可以看到最终的 w（缩放系数）为 -ze^1。这样就得到了下图右侧矩阵：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(565),alt:"avatar"}})]),t._v(" "),n("p",[t._v("接下来就是将近平面中的坐标映射到 webgl 坐标系下；由 xp（近裁剪平面上的投影坐标） 映射到 xn（规范化设备坐标系中的坐标）；\n将图 1 中的 l（近裁剪平面的左边） 点会映射到 -1，将 r（近裁剪平面的右边） 点映射到 +1。")]),t._v(" "),n("p",[t._v("xp 的范围是[l, r]，xn 的范围是 [-1, 1]，可以利用简单的线性插值的方式获得以下关系式。\n"),n("img",{attrs:{src:a(566),alt:"avatar"}})]),t._v(" "),n("p",[t._v("然后根据上面的式子以及前面推导的 xp 的结果带入，得到下面的结果：")]),t._v(" "),n("p",[t._v("根据前面的 w 假设为 -ze^1，得到 xc 以及 yc\n"),n("img",{attrs:{src:a(567),alt:"avatar"}})]),t._v(" "),n("p",[t._v("然后我们得到了下面的一个 p 矩阵：")]),t._v(" "),n("p",[t._v("最后看看 zn ，当视锥体内的顶点投影到近裁剪平面（near clip plane）的时候，实际上 zp 的值已经没有意义了，因为所有近裁剪平面（near clip plane）上的点，他们的 zp 值都是 -n，看起来我们甚至可以抛弃这个 zp 值，可以么？当然不行！不要忘记还有深度测试。 xe、ye、ze）最小的，所以 zp 可以直接保存为 ze 的值。由于在光栅化的过程中，要进行 z 坐标的倒数的插值，因此映射函数应为 1 / z 的函数，同时允许深度投影是线性插值，则可以获得以下映射函数 zn 的表达式：\n"),n("img",{attrs:{src:a(568),alt:"avatar"}})]),t._v(" "),n("p",[t._v("利用 zn 与 ze 的映射关系为：(-n, -1) 和 (-f, 1)")]),t._v(" "),n("p",[n("img",{attrs:{src:a(569),alt:"avatar"}})]),t._v(" "),n("p",[t._v("上面式子中的一些参数替换后，如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(570),alt:"avatar"}})]),t._v(" "),n("blockquote",[n("p",[t._v("参考：https://zhuanlan.zhihu.com/p/181696883")])]),t._v(" "),n("h2",{attrs:{id:"正交投影推导"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#正交投影推导"}},[t._v("#")]),t._v(" 正交投影推导")]),t._v(" "),n("p",[t._v("xe, ye, ze 相机中的坐标\nxp、yp、zp 近裁剪平面（near clip plane）上的投影坐标\nxn、yn、zn 规范化设备坐标系（Normalized Device Coordinates）中的坐标")]),t._v(" "),n("p",[t._v("正交投影分两步：")]),t._v(" "),n("ol",[n("li",[t._v("从 Frustum 内一点投影到近裁剪平面的过程")]),t._v(" "),n("li",[t._v("由近平面到规范化设备坐标系的过程")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(394),alt:"avatar"}})]),t._v(" "),n("p",[t._v("根据上面的关系，推导如下：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(571),alt:"avatar"}})]),t._v(" "),n("h2",{attrs:{id:"示例代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[t._v("#")]),t._v(" 示例代码")]),t._v(" "),n("h3",{attrs:{id:"透视投影"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#透视投影"}},[t._v("#")]),t._v(" 透视投影")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("perspective")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fovy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" aspect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" far")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 作用在当前已有的矩阵上")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setPerspective")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fovy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" aspect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" far"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 计算透视投影矩阵\n * @param fovy 视锥的上，下侧之间的角度。\n * @param aspect 视锥的长宽比. (width/height)\n * @param near 到近裁剪平面的距离，必须为正值.\n * @param far 远裁剪平面的距离，必须为正值.\n * @return this\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("setPerspective")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fovy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" aspect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" far")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ct"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("near "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" aspect "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'null frustum'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("near "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'near <= 0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'far <= 0'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 角度转换为弧度制")]),t._v("\n  fovy "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" fovy "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("180")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  s "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fovy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// fovy 没有视空间")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'null frustum'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  rd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ct "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("cos")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fovy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ct "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" aspect"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ct"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" near "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("concat")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("other")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ai0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ai1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ai2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ai3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Calculate e = a * b")]),t._v("\n  e "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  a "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" other"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// If e equals b, copy b to temporary matrix.")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    b "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Float32Array")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ai0"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  ai1"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  ai2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  ai3"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ai0 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ai0 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ai0 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ai0 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ai3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"正射投影"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#正射投影"}},[t._v("#")]),t._v(" 正射投影")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * 设置正交投影矩阵.\n * @param left 剪裁平面左侧的坐标.\n * @param right 剪裁平面右侧的坐标.\n * @param bottom 裁剪平面底部的坐标.\n * @param top 裁剪平面的顶部坐标.\n * @param near 近裁剪平面的距离。如果平面要在查看器后面，则此值为负.\n * @param far 远裁剪平面的距离。如果平面要在查看器后面，则此值为负.\n * @return this\n */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("setOrtho")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" far")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" right "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" bottom "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" top "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" near "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" far"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'null frustum'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  rw "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("right "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  rh "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  rd "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elements"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("right "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("top "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rh"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("far "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" rd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  e"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("ortho")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" far")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("concat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Matrix4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOrtho")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("left"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bottom"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" top"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" near"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" far"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("Valine")],1)}),[],!1,null,null,null);s.default=r.exports}}]);