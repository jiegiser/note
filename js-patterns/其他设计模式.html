<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>note</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="note">
    
    <link rel="preload" href="/note/assets/css/0.styles.12c78510.css" as="style"><link rel="preload" href="/note/assets/js/app.45ce0796.js" as="script"><link rel="preload" href="/note/assets/js/3.97d6d69f.js" as="script"><link rel="preload" href="/note/assets/js/61.e305dc2a.js" as="script"><link rel="preload" href="/note/assets/js/73.4618837d.js" as="script"><link rel="prefetch" href="/note/assets/js/10.a73b2426.js"><link rel="prefetch" href="/note/assets/js/100.df4db744.js"><link rel="prefetch" href="/note/assets/js/101.df883ef8.js"><link rel="prefetch" href="/note/assets/js/102.8b299cd1.js"><link rel="prefetch" href="/note/assets/js/103.9927526e.js"><link rel="prefetch" href="/note/assets/js/104.1e0127ef.js"><link rel="prefetch" href="/note/assets/js/105.1f3f30bf.js"><link rel="prefetch" href="/note/assets/js/106.611f01d3.js"><link rel="prefetch" href="/note/assets/js/107.59c4a70e.js"><link rel="prefetch" href="/note/assets/js/108.cf262223.js"><link rel="prefetch" href="/note/assets/js/109.e6cafbe4.js"><link rel="prefetch" href="/note/assets/js/11.7191701d.js"><link rel="prefetch" href="/note/assets/js/110.b1649d70.js"><link rel="prefetch" href="/note/assets/js/111.24c80c93.js"><link rel="prefetch" href="/note/assets/js/112.2c2c0139.js"><link rel="prefetch" href="/note/assets/js/113.015ecc4b.js"><link rel="prefetch" href="/note/assets/js/114.70ef2974.js"><link rel="prefetch" href="/note/assets/js/115.f104dcf5.js"><link rel="prefetch" href="/note/assets/js/116.44cfdbd8.js"><link rel="prefetch" href="/note/assets/js/117.6b775c63.js"><link rel="prefetch" href="/note/assets/js/118.2e90bd2c.js"><link rel="prefetch" href="/note/assets/js/119.191b49d4.js"><link rel="prefetch" href="/note/assets/js/12.824a87bb.js"><link rel="prefetch" href="/note/assets/js/120.cbe9abe6.js"><link rel="prefetch" href="/note/assets/js/121.adb4435c.js"><link rel="prefetch" href="/note/assets/js/122.816005c8.js"><link rel="prefetch" href="/note/assets/js/123.2fb771d0.js"><link rel="prefetch" href="/note/assets/js/124.e69fc95c.js"><link rel="prefetch" href="/note/assets/js/125.b36c24b5.js"><link rel="prefetch" href="/note/assets/js/126.254e5e33.js"><link rel="prefetch" href="/note/assets/js/127.edafe4b8.js"><link rel="prefetch" href="/note/assets/js/128.10840277.js"><link rel="prefetch" href="/note/assets/js/129.613dcc8d.js"><link rel="prefetch" href="/note/assets/js/13.79ae29c0.js"><link rel="prefetch" href="/note/assets/js/130.6fbd8e74.js"><link rel="prefetch" href="/note/assets/js/131.2a22dd1d.js"><link rel="prefetch" href="/note/assets/js/132.67fa2a38.js"><link rel="prefetch" href="/note/assets/js/133.205a6a48.js"><link rel="prefetch" href="/note/assets/js/134.cccf66f6.js"><link rel="prefetch" href="/note/assets/js/135.07b23c0f.js"><link rel="prefetch" href="/note/assets/js/136.5d72ec45.js"><link rel="prefetch" href="/note/assets/js/137.423e1037.js"><link rel="prefetch" href="/note/assets/js/138.590d11cc.js"><link rel="prefetch" href="/note/assets/js/139.7d7805c5.js"><link rel="prefetch" href="/note/assets/js/14.760d916b.js"><link rel="prefetch" href="/note/assets/js/140.c48d2c65.js"><link rel="prefetch" href="/note/assets/js/141.4adc7a01.js"><link rel="prefetch" href="/note/assets/js/142.cade442b.js"><link rel="prefetch" href="/note/assets/js/143.73f6db89.js"><link rel="prefetch" href="/note/assets/js/144.573be22f.js"><link rel="prefetch" href="/note/assets/js/145.625fe61c.js"><link rel="prefetch" href="/note/assets/js/146.20890574.js"><link rel="prefetch" href="/note/assets/js/147.384ab82d.js"><link rel="prefetch" href="/note/assets/js/148.009423d7.js"><link rel="prefetch" href="/note/assets/js/149.008dd102.js"><link rel="prefetch" href="/note/assets/js/15.5ae2c58a.js"><link rel="prefetch" href="/note/assets/js/150.6944878b.js"><link rel="prefetch" href="/note/assets/js/151.386d9ca0.js"><link rel="prefetch" href="/note/assets/js/152.1681df71.js"><link rel="prefetch" href="/note/assets/js/153.73b915a6.js"><link rel="prefetch" href="/note/assets/js/154.c3f82745.js"><link rel="prefetch" href="/note/assets/js/155.91a69273.js"><link rel="prefetch" href="/note/assets/js/156.5ef16d57.js"><link rel="prefetch" href="/note/assets/js/157.ea3756b2.js"><link rel="prefetch" href="/note/assets/js/158.b0b5ee0c.js"><link rel="prefetch" href="/note/assets/js/159.fac7d255.js"><link rel="prefetch" href="/note/assets/js/16.e6eb598a.js"><link rel="prefetch" href="/note/assets/js/160.b1a9621a.js"><link rel="prefetch" href="/note/assets/js/161.7ad183d0.js"><link rel="prefetch" href="/note/assets/js/162.baf166bc.js"><link rel="prefetch" href="/note/assets/js/163.c77f32e5.js"><link rel="prefetch" href="/note/assets/js/164.493ec550.js"><link rel="prefetch" href="/note/assets/js/165.40a222a2.js"><link rel="prefetch" href="/note/assets/js/166.149489f1.js"><link rel="prefetch" href="/note/assets/js/167.c0a0b6a9.js"><link rel="prefetch" href="/note/assets/js/168.90952d40.js"><link rel="prefetch" href="/note/assets/js/169.f406a5c0.js"><link rel="prefetch" href="/note/assets/js/17.1b2a4c4f.js"><link rel="prefetch" href="/note/assets/js/170.2afe874b.js"><link rel="prefetch" href="/note/assets/js/171.770c7586.js"><link rel="prefetch" href="/note/assets/js/172.5519c6f3.js"><link rel="prefetch" href="/note/assets/js/173.5c31f5d9.js"><link rel="prefetch" href="/note/assets/js/174.ec4c293f.js"><link rel="prefetch" href="/note/assets/js/175.9187087c.js"><link rel="prefetch" href="/note/assets/js/176.afce960f.js"><link rel="prefetch" href="/note/assets/js/177.5e756645.js"><link rel="prefetch" href="/note/assets/js/178.49195c89.js"><link rel="prefetch" href="/note/assets/js/179.e8c31fff.js"><link rel="prefetch" href="/note/assets/js/18.8a849043.js"><link rel="prefetch" href="/note/assets/js/180.65669685.js"><link rel="prefetch" href="/note/assets/js/181.a7f14a5f.js"><link rel="prefetch" href="/note/assets/js/182.f4c01ca4.js"><link rel="prefetch" href="/note/assets/js/183.82986458.js"><link rel="prefetch" href="/note/assets/js/184.4fb1b465.js"><link rel="prefetch" href="/note/assets/js/185.c2ab5ced.js"><link rel="prefetch" href="/note/assets/js/186.889b1442.js"><link rel="prefetch" href="/note/assets/js/187.97cb23df.js"><link rel="prefetch" href="/note/assets/js/188.1574fc0e.js"><link rel="prefetch" href="/note/assets/js/19.69cd2aeb.js"><link rel="prefetch" href="/note/assets/js/2.7be0b4f8.js"><link rel="prefetch" href="/note/assets/js/20.e97cbd69.js"><link rel="prefetch" href="/note/assets/js/21.57df090a.js"><link rel="prefetch" href="/note/assets/js/22.71e182d2.js"><link rel="prefetch" href="/note/assets/js/23.339adf48.js"><link rel="prefetch" href="/note/assets/js/24.08014aa1.js"><link rel="prefetch" href="/note/assets/js/25.8f28c0e0.js"><link rel="prefetch" href="/note/assets/js/26.0ded8cb6.js"><link rel="prefetch" href="/note/assets/js/27.eab74552.js"><link rel="prefetch" href="/note/assets/js/28.a3090b45.js"><link rel="prefetch" href="/note/assets/js/29.3dfdcb01.js"><link rel="prefetch" href="/note/assets/js/30.3418b3f4.js"><link rel="prefetch" href="/note/assets/js/31.2100ddeb.js"><link rel="prefetch" href="/note/assets/js/32.d5d68465.js"><link rel="prefetch" href="/note/assets/js/33.2f3bc23d.js"><link rel="prefetch" href="/note/assets/js/34.8e143b45.js"><link rel="prefetch" href="/note/assets/js/35.9d470c75.js"><link rel="prefetch" href="/note/assets/js/36.d68862ab.js"><link rel="prefetch" href="/note/assets/js/37.0280766f.js"><link rel="prefetch" href="/note/assets/js/38.b0e93df9.js"><link rel="prefetch" href="/note/assets/js/39.fb7be0c2.js"><link rel="prefetch" href="/note/assets/js/4.36d9f3e4.js"><link rel="prefetch" href="/note/assets/js/40.897f1a65.js"><link rel="prefetch" href="/note/assets/js/41.10b6229e.js"><link rel="prefetch" href="/note/assets/js/42.3d55aa18.js"><link rel="prefetch" href="/note/assets/js/43.9f38c2bc.js"><link rel="prefetch" href="/note/assets/js/44.d265b5a4.js"><link rel="prefetch" href="/note/assets/js/45.6dee53fd.js"><link rel="prefetch" href="/note/assets/js/46.47fbe162.js"><link rel="prefetch" href="/note/assets/js/47.2aef0d89.js"><link rel="prefetch" href="/note/assets/js/48.a1028f8f.js"><link rel="prefetch" href="/note/assets/js/49.4745149b.js"><link rel="prefetch" href="/note/assets/js/5.20e92e93.js"><link rel="prefetch" href="/note/assets/js/50.fba9f9c9.js"><link rel="prefetch" href="/note/assets/js/51.2e8463d2.js"><link rel="prefetch" href="/note/assets/js/52.ba72c4b7.js"><link rel="prefetch" href="/note/assets/js/53.b84d60a2.js"><link rel="prefetch" href="/note/assets/js/54.576f432b.js"><link rel="prefetch" href="/note/assets/js/55.dcba27c0.js"><link rel="prefetch" href="/note/assets/js/56.52acce09.js"><link rel="prefetch" href="/note/assets/js/57.313bfa90.js"><link rel="prefetch" href="/note/assets/js/58.c222f189.js"><link rel="prefetch" href="/note/assets/js/59.df788c64.js"><link rel="prefetch" href="/note/assets/js/6.96604859.js"><link rel="prefetch" href="/note/assets/js/60.166e3580.js"><link rel="prefetch" href="/note/assets/js/62.d7cedba0.js"><link rel="prefetch" href="/note/assets/js/63.2d1d92a1.js"><link rel="prefetch" href="/note/assets/js/64.a452249f.js"><link rel="prefetch" href="/note/assets/js/65.d10e10f6.js"><link rel="prefetch" href="/note/assets/js/66.4444220e.js"><link rel="prefetch" href="/note/assets/js/67.12b8fc24.js"><link rel="prefetch" href="/note/assets/js/68.66a8dfa2.js"><link rel="prefetch" href="/note/assets/js/69.1177c887.js"><link rel="prefetch" href="/note/assets/js/7.7e2b002b.js"><link rel="prefetch" href="/note/assets/js/70.7caf27c2.js"><link rel="prefetch" href="/note/assets/js/71.abcc0f83.js"><link rel="prefetch" href="/note/assets/js/72.9eaa794d.js"><link rel="prefetch" href="/note/assets/js/74.3ce7e474.js"><link rel="prefetch" href="/note/assets/js/75.23bf81c3.js"><link rel="prefetch" href="/note/assets/js/76.99c674bc.js"><link rel="prefetch" href="/note/assets/js/77.2ca0a359.js"><link rel="prefetch" href="/note/assets/js/78.00f68ef0.js"><link rel="prefetch" href="/note/assets/js/79.392418b9.js"><link rel="prefetch" href="/note/assets/js/8.7bb407ab.js"><link rel="prefetch" href="/note/assets/js/80.54e7a8fd.js"><link rel="prefetch" href="/note/assets/js/81.eca1c7fd.js"><link rel="prefetch" href="/note/assets/js/82.3f216fbb.js"><link rel="prefetch" href="/note/assets/js/83.965c2a88.js"><link rel="prefetch" href="/note/assets/js/84.c179ee45.js"><link rel="prefetch" href="/note/assets/js/85.55a9d420.js"><link rel="prefetch" href="/note/assets/js/86.95a4183b.js"><link rel="prefetch" href="/note/assets/js/87.8df2ead1.js"><link rel="prefetch" href="/note/assets/js/88.a6c09d13.js"><link rel="prefetch" href="/note/assets/js/89.30f93e16.js"><link rel="prefetch" href="/note/assets/js/9.5df7fdbd.js"><link rel="prefetch" href="/note/assets/js/90.2283617d.js"><link rel="prefetch" href="/note/assets/js/91.fa6bda84.js"><link rel="prefetch" href="/note/assets/js/92.bdc5e944.js"><link rel="prefetch" href="/note/assets/js/93.52c4a300.js"><link rel="prefetch" href="/note/assets/js/94.192cd7ae.js"><link rel="prefetch" href="/note/assets/js/95.c6d2bf90.js"><link rel="prefetch" href="/note/assets/js/96.2ee71587.js"><link rel="prefetch" href="/note/assets/js/97.8105aaf1.js"><link rel="prefetch" href="/note/assets/js/98.eaabc1a8.js"><link rel="prefetch" href="/note/assets/js/99.d64513b6.js">
    <link rel="stylesheet" href="/note/assets/css/0.styles.12c78510.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/note/" class="home-link router-link-active"><!----> <span class="site-name">note</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/angular/基础.html" class="nav-link">
  angular
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/js-gc/数据类型.html" class="nav-link">
  红宝书
</a></div><div class="nav-item"><a href="/note/interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div><div class="nav-item"><a href="/note/js-algorithm/栈.html" class="nav-link">
  算法与数据结构
</a></div><div class="nav-item"><a href="/note/PerformanceOptimization/指标以及工具.html" class="nav-link">
  性能优化
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/note/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/note/css/css基础.html" class="nav-link">
  css 相关
</a></div><div class="nav-item"><a href="/note/javascript/知识体系.html" class="nav-link">
  javascript
</a></div><div class="nav-item"><a href="/note/js-patterns/代理模式.html" class="nav-link">
  js 设计模式
</a></div><div class="nav-item"><a href="/note/webpack/基础知识.html" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/note/vue/相关笔记.html" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/note/react/react基础.html" class="nav-link">
  react 相关
</a></div><div class="nav-item"><a href="/note/angular/基础.html" class="nav-link">
  angular
</a></div><div class="nav-item"><a href="/note/http/HTTP协议基础.html" class="nav-link">
  http
</a></div><div class="nav-item"><a href="/note/node/基础知识.html" class="nav-link">
  node
</a></div><div class="nav-item"><a href="/note/typescript/typescript基础语法.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="/note/webgis/坐标系相关.html" class="nav-link">
  webgis
</a></div><div class="nav-item"><a href="/note/js-gc/数据类型.html" class="nav-link">
  红宝书
</a></div><div class="nav-item"><a href="/note/interview/forEach-forIn-forOf-map之间的区别.html" class="nav-link">
  interview
</a></div><div class="nav-item"><a href="/note/gisAlgorithm/数据结构-矢量.html" class="nav-link">
  gis 算法
</a></div><div class="nav-item"><a href="/note/graphics/图形学基础.html" class="nav-link">
  图形学相关
</a></div><div class="nav-item"><a href="/note/js-algorithm/栈.html" class="nav-link">
  算法与数据结构
</a></div><div class="nav-item"><a href="/note/PerformanceOptimization/指标以及工具.html" class="nav-link">
  性能优化
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/note/js-patterns/面向对象.html" class="sidebar-link">面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/面向对象.html#uml-类图" class="sidebar-link">UML 类图</a></li></ul></li><li><a href="/note/js-patterns/设计原则.html" class="sidebar-link">设计原则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#何为设计" class="sidebar-link">何为设计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#描述" class="sidebar-link">描述</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#结合unix-linux设计哲学" class="sidebar-link">结合unix/linux设计哲学</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#五大设计原则" class="sidebar-link">五大设计原则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#s-o-l-i-d-五大设计原则" class="sidebar-link">S O L I D 五大设计原则</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#面试真题" class="sidebar-link">面试真题</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#从设计到模式" class="sidebar-link">从设计到模式</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#_23种设计模式" class="sidebar-link">23种设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#创建型" class="sidebar-link">创建型</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#组合型" class="sidebar-link">组合型</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/设计原则.html#行为型" class="sidebar-link">行为型</a></li></ul></li></ul></li><li><a href="/note/js-patterns/代理模式.html" class="sidebar-link">代理模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#代理模式" class="sidebar-link">代理模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#uml-类图" class="sidebar-link">UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#代码演示" class="sidebar-link">代码演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/代理模式.html#设计原则" class="sidebar-link">设计原则</a></li></ul></li></ul></li><li><a href="/note/js-patterns/装饰器模式.html" class="sidebar-link">装饰器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/装饰器模式.html#装饰器模式" class="sidebar-link">装饰器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/装饰器模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/装饰器模式.html#uml-类图" class="sidebar-link">UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/装饰器模式.html#代码示例" class="sidebar-link">代码示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/装饰器模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/装饰器模式.html#设计原则验证" class="sidebar-link">设计原则验证</a></li></ul></li></ul></li><li><a href="/note/js-patterns/适配器模式.html" class="sidebar-link">适配器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/适配器模式.html#适配器模式" class="sidebar-link">适配器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/适配器模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/适配器模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/适配器模式.html#设计原则" class="sidebar-link">设计原则</a></li></ul></li></ul></li><li><a href="/note/js-patterns/代理、适配器、装饰器模式对比.html" class="sidebar-link">代理、适配器、装饰器模式对比</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/代理、适配器、装饰器模式对比.html#代理模式-vs-适配器模式" class="sidebar-link">代理模式 VS 适配器模式</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/代理、适配器、装饰器模式对比.html#代理模式-vs-装饰器模式" class="sidebar-link">代理模式 VS 装饰器模式</a></li></ul></li><li><a href="/note/js-patterns/单例模式.html" class="sidebar-link">单例模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/单例模式.html#单例模式" class="sidebar-link">单例模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/单例模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/单例模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/单例模式.html#说明" class="sidebar-link">说明</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/单例模式.html#场景" class="sidebar-link">场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/js-patterns/单例模式.html#设计原则验证" class="sidebar-link">设计原则验证</a></li></ul></li><li><a href="/note/js-patterns/迭代器模式.html" class="sidebar-link">迭代器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#迭代器模式" class="sidebar-link">迭代器模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#uml-类图" class="sidebar-link">UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#代码演示" class="sidebar-link">代码演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/迭代器模式.html#设计原则验证" class="sidebar-link">设计原则验证</a></li></ul></li></ul></li><li><a href="/note/js-patterns/观察者模式.html" class="sidebar-link">观察者模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#观察者模式" class="sidebar-link">观察者模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#uml-类图" class="sidebar-link">UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#代码演示" class="sidebar-link">代码演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#其他场景" class="sidebar-link">其他场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/观察者模式.html#设计原则验证" class="sidebar-link">设计原则验证</a></li></ul></li></ul></li><li><a href="/note/js-patterns/工厂模式.html" class="sidebar-link">工厂模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/工厂模式.html#工厂模式" class="sidebar-link">工厂模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/工厂模式.html#画-uml-类图" class="sidebar-link">画 UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/工厂模式.html#代码" class="sidebar-link">代码</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/工厂模式.html#场景" class="sidebar-link">场景</a></li></ul></li><li class="sidebar-sub-header"><a href="/note/js-patterns/工厂模式.html#设计原则验证" class="sidebar-link">设计原则验证</a></li></ul></li><li><a href="/note/js-patterns/外观模式.html" class="sidebar-link">外观模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/外观模式.html#外观模式" class="sidebar-link">外观模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/外观模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/外观模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/外观模式.html#设计原则" class="sidebar-link">设计原则</a></li></ul></li></ul></li><li><a href="/note/js-patterns/状态模式.html" class="sidebar-link">状态模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#状态模式" class="sidebar-link">状态模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#uml-类图" class="sidebar-link">UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#代码" class="sidebar-link">代码</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#场景" class="sidebar-link">场景</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/状态模式.html#设计原则" class="sidebar-link">设计原则</a></li></ul></li></ul></li><li><a href="/note/js-patterns/其他设计模式.html" class="active sidebar-link">其他设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#其他设计模式" class="sidebar-link">其他设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#优先级划分依据" class="sidebar-link">优先级划分依据</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#创建型" class="sidebar-link">创建型</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#结构型" class="sidebar-link">结构型</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-3" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#vnode-比较类似-虚拟dom" class="sidebar-link">vnode 比较类似-虚拟dom</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#演示" class="sidebar-link">演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#设计原则验证-2" class="sidebar-link">设计原则验证</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-4" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#演示-2" class="sidebar-link">演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#设计原则验证-3" class="sidebar-link">设计原则验证</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#行为型" class="sidebar-link">行为型</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-5" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#演示-3" class="sidebar-link">演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#设计原则验证-4" class="sidebar-link">设计原则验证</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-6" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#演示-4" class="sidebar-link">演示</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#js-中的链式操作" class="sidebar-link">JS 中的链式操作</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#设计原则验证-5" class="sidebar-link">设计原则验证</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#js-中的应用" class="sidebar-link">JS 中的应用</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-7" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#示例-2" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#示例-买房中介着" class="sidebar-link">示例 买房中介着</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#设计原则验证-6" class="sidebar-link">设计原则验证</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-8" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/其他设计模式.html#概念-9" class="sidebar-link">概念</a></li></ul></li></ul></li><li><a href="/note/js-patterns/综合应用.html" class="sidebar-link">综合应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/综合应用.html#综合应用" class="sidebar-link">综合应用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/note/js-patterns/综合应用.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/综合应用.html#用到的设计模式" class="sidebar-link">用到的设计模式</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/综合应用.html#uml-类图" class="sidebar-link">UML 类图</a></li><li class="sidebar-sub-header"><a href="/note/js-patterns/综合应用.html#代码" class="sidebar-link">代码</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="其他设计模式"><a href="#其他设计模式" class="header-anchor">#</a> 其他设计模式</h2> <h3 id="优先级划分依据"><a href="#优先级划分依据" class="header-anchor">#</a> 优先级划分依据</h3> <ul><li>不常用</li> <li>对应不到经典的应用场景</li></ul> <h3 id="创建型"><a href="#创建型" class="header-anchor">#</a> 创建型</h3> <ul><li>原型模式</li></ul> <h4 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h4> <ul><li>clnoe 自己，生成一个新对象</li> <li>java 默认有 clone 接口，不用自己实现</li></ul> <h4 id="js-中的应用-object-create"><a href="#js-中的应用-object-create" class="header-anchor">#</a> JS 中的应用 -Object.create</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// `Object.create` 用到了原型模式的思想（虽然不是 java 中的 clone）</span>
<span class="token comment">// 基于一个原型创建一个对象</span>
<span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">+</span> <span class="token string">''</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 基于原型创建 x</span>
<span class="token keyword">const</span> x <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>prototype<span class="token punctuation">)</span>
x<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">'A'</span>
x<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token string">'B'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
x<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 基于原型创建 y</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>prototype<span class="token punctuation">)</span>
y<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">'C'</span>
y<span class="token punctuation">.</span>last <span class="token operator">=</span> <span class="token string">'D'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
y<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="对比-js-中的原型-prototype"><a href="#对比-js-中的原型-prototype" class="header-anchor">#</a> 对比 JS 中的原型 prototype</h4> <ul><li>prototype 可以理解为 ES6 class 的一种底层原理</li> <li>而 class 是实现面向对象的基础，并不是服务于某个模式</li> <li>若干年后 ES6 全面普及，大家可能会忽略掉 prototype</li> <li>但是 Object.create 却会长久存在</li></ul> <h3 id="结构型"><a href="#结构型" class="header-anchor">#</a> 结构型</h3> <ul><li>桥接模式</li></ul> <h4 id="概念-2"><a href="#概念-2" class="header-anchor">#</a> 概念</h4> <ul><li>用于把抽象化与实现化解耦</li> <li>使得二者可以独立变化</li></ul> <p>下面代码就是说，如果我们需要画一个红色的圆，跟黄色的三角形，我们需要抽象成一个颜色跟一个画的类，
将功能解耦，画的类就实现根据传递的参数绘制画出怎样的图形，而颜色类就是为画的图形填充。如果我们只是
简单的定义一个类，类里面有画红色圆形的方法，黄色三角形的方法等等，那么这种类在以后扩展起来也不太好。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Color</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color
  <span class="token punctuation">}</span>
  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>color<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试代码</span>
<span class="token keyword">let</span> red <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> yellow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token string">'yellow'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token string">'circle'</span><span class="token punctuation">,</span> red<span class="token punctuation">)</span>
circle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> triangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token string">'trangle'</span><span class="token punctuation">,</span> yellow<span class="token punctuation">)</span>
triangle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="设计原则验证"><a href="#设计原则验证" class="header-anchor">#</a> 设计原则验证</h4> <ol><li>抽象和实现分离，解耦</li> <li>符合开放封闭原则</li></ol> <ul><li>组合模式</li></ul> <h3 id="概念-3"><a href="#概念-3" class="header-anchor">#</a> 概念</h3> <ul><li>生成树形结构，表示 “整体-部分” 关系</li> <li>让整体和部分都具有一致的操作方式</li></ul> <h3 id="vnode-比较类似-虚拟dom"><a href="#vnode-比较类似-虚拟dom" class="header-anchor">#</a> vnode 比较类似-虚拟dom</h3> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>456<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面的 html 结构用虚拟 dom 来表示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  tag<span class="token operator">:</span> <span class="token string">'div'</span><span class="token punctuation">,</span>
  arrr<span class="token operator">:</span> <span class="token punctuation">{</span>
    id<span class="token operator">:</span> <span class="token string">'div1'</span><span class="token punctuation">,</span>
    className<span class="token operator">:</span> <span class="token string">'container'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token string">'p'</span><span class="token punctuation">,</span>
      arrr<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'123'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      tag<span class="token operator">:</span> <span class="token string">'p'</span><span class="token punctuation">,</span>
      arrr<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'456'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="演示"><a href="#演示" class="header-anchor">#</a> 演示</h3> <ul><li>整体和单个节点的操作是一致的</li> <li>整体和单个节点的数据结构也保持一致</li></ul> <h3 id="设计原则验证-2"><a href="#设计原则验证-2" class="header-anchor">#</a> 设计原则验证</h3> <ol><li>将整体和单个节点的操作抽象出来</li> <li>符合开放封闭原则</li></ol> <ul><li>享元模式</li></ul> <h3 id="概念-4"><a href="#概念-4" class="header-anchor">#</a> 概念</h3> <ul><li>共享内存（主要考虑内存，而非效率）</li> <li>相同的数据，共享使用</li></ul> <h3 id="演示-2"><a href="#演示-2" class="header-anchor">#</a> 演示</h3> <p>下面例子是在一个 div 中有很多 a 标签绑定事件；如果给每一个进行绑定，如果 a 标签很多会消耗性能。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">let</span> div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'div1'</span><span class="token punctuation">)</span>
    <span class="token comment">// 不可能每个a标签加一个点击事件，通过给父级添加一个代理实现</span>
    div1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target
      <span class="token comment">// 判断如果点击的是a标签</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>nodeName <span class="token operator">===</span> <span class="token string">'A'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="设计原则验证-3"><a href="#设计原则验证-3" class="header-anchor">#</a> 设计原则验证</h3> <ul><li>将相同的部分抽象出来</li> <li>符合开放封闭原则</li></ul> <h3 id="行为型"><a href="#行为型" class="header-anchor">#</a> 行为型</h3> <ul><li>策略模式</li></ul> <h3 id="概念-5"><a href="#概念-5" class="header-anchor">#</a> 概念</h3> <ul><li>不同策略分开处理</li> <li>避免出现大量 if ... else 或者 switch ... case</li></ul> <h3 id="演示-3"><a href="#演示-3" class="header-anchor">#</a> 演示</h3> <p>如果不使用策略模式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type
  <span class="token punctuation">}</span>
  <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'ordinary'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'普通用户购买'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'member'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'会员用户购买'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'vip'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'vip 用户购买'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 测试代码</span>
<span class="token keyword">let</span> v1 <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'ordinary'</span><span class="token punctuation">)</span>
v1<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> v2 <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'member'</span><span class="token punctuation">)</span>
v2<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> v3 <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'vip'</span><span class="token punctuation">)</span>
v3<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>使用策略模式：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">OrdinaryUser</span> <span class="token punctuation">{</span>
  <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'普通用户购买'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MemberUser</span> <span class="token punctuation">{</span>
  <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'会员用户购买'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">VipUser</span> <span class="token punctuation">{</span>
  <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'vip 用户购买'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试</span>
<span class="token keyword">let</span> u1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OrdinaryUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
u1<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> u2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemberUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
u2<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> u3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VipUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
u3<span class="token punctuation">.</span><span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="设计原则验证-4"><a href="#设计原则验证-4" class="header-anchor">#</a> 设计原则验证</h3> <ol><li>不同策略，分开处理，而不是混合在一起</li> <li>符合开放封闭原则</li></ol> <ul><li>模板方法模式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Action</span> <span class="token punctuation">{</span>
  <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handle3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">handle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
  <span class="token function">handle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
  <span class="token function">handle3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>职责链模式</li></ul> <h3 id="概念-6"><a href="#概念-6" class="header-anchor">#</a> 概念</h3> <ul><li>一步操作可能分为多个职责角色来完成</li> <li>把这些角色都分开，然后用一个链串起来</li> <li>将发起者和各个处理者进行隔离</li></ul> <h3 id="演示-4"><a href="#演示-4" class="header-anchor">#</a> 演示</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 请假审批，需要组长审批、经理审批、最后总监审批</span>
<span class="token keyword">class</span> <span class="token class-name">Action</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>nextAction <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">setNextAction</span><span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nextAction <span class="token operator">=</span> action
  <span class="token punctuation">}</span>
  <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 审批</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>nextAction <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>nextAction<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>
<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action</span><span class="token punctuation">(</span><span class="token string">'组长'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action</span><span class="token punctuation">(</span><span class="token string">'经理'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> a3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Action</span><span class="token punctuation">(</span><span class="token string">'总监'</span><span class="token punctuation">)</span>
a1<span class="token punctuation">.</span><span class="token function">setNextAction</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
a2<span class="token punctuation">.</span><span class="token function">setNextAction</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span>
a1<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="js-中的链式操作"><a href="#js-中的链式操作" class="header-anchor">#</a> JS 中的链式操作</h3> <ul><li>职责链模式和业务结合较多，js 中能联想到链式操作</li> <li>jQuery 的链式操作 Promise.then 的链式操作</li></ul> <h3 id="设计原则验证-5"><a href="#设计原则验证-5" class="header-anchor">#</a> 设计原则验证</h3> <ol><li>发起者与各个处理者进行隔离</li> <li>符合开放封闭原则</li></ol> <ul><li>命令模式</li></ul> <h3 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">class</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>
  <span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'执行'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">receiver</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver
  <span class="token punctuation">}</span>
  <span class="token function">cmd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发命令'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>receiver<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Invoker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>command <span class="token operator">=</span> command
  <span class="token punctuation">}</span>
  <span class="token function">invoker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'开始'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>command<span class="token punctuation">.</span><span class="token function">cmd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// test</span>

<span class="token comment">// 士兵</span>
<span class="token keyword">let</span> soldier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Receiver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 小号手</span>
<span class="token keyword">let</span> trumpeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Command</span><span class="token punctuation">(</span>soldier<span class="token punctuation">)</span>
<span class="token comment">// 将军</span>
<span class="token keyword">let</span> general <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Invoker</span><span class="token punctuation">(</span>trumpeter<span class="token punctuation">)</span>
general<span class="token punctuation">.</span><span class="token function">invoker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="js-中的应用"><a href="#js-中的应用" class="header-anchor">#</a> JS 中的应用</h3> <ol><li>网页富文本编辑器操作，浏览器封装了一个命令对象</li> <li>document.execCommand('bold')</li> <li>document.execCommand('undo')</li></ol> <ul><li>备忘录模式</li></ul> <h3 id="概念-7"><a href="#概念-7" class="header-anchor">#</a> 概念</h3> <ul><li>随时记录一个对象的状态变化</li> <li>随时可以恢复之前的某个状态（如撤销功能）</li></ul> <h3 id="示例-2"><a href="#示例-2" class="header-anchor">#</a> 示例</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 状态备忘</span>
<span class="token keyword">class</span> <span class="token class-name">Memento</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> content
  <span class="token punctuation">}</span>
  <span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 备忘列表</span>
<span class="token keyword">class</span> <span class="token class-name">CareTaker</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">memento</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>memento<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 编辑器</span>
<span class="token keyword">class</span> <span class="token class-name">Editor</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token function">setContent</span><span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> content
  <span class="token punctuation">}</span>
  <span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content
  <span class="token punctuation">}</span>
  <span class="token function">saveContentToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">getContentFromMemento</span><span class="token punctuation">(</span><span class="token parameter">memento</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> memento<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试代码</span>
<span class="token keyword">let</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Editor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> careTaker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CareTaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

editor<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">'111'</span><span class="token punctuation">)</span>
editor<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">'222'</span><span class="token punctuation">)</span>
careTaker<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">saveContentToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 存储备忘录</span>
editor<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">'333'</span><span class="token punctuation">)</span>
careTaker<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">saveContentToMemento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 存储备忘录</span>
editor<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">'444'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 444</span>
editor<span class="token punctuation">.</span><span class="token function">getContentFromMemento</span><span class="token punctuation">(</span>careTaker<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 撤销</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 333</span>
editor<span class="token punctuation">.</span><span class="token function">getContentFromMemento</span><span class="token punctuation">(</span>careTaker<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 撤销</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 222</span>
</code></pre></div><ul><li>中介者模式</li></ul> <p>如果每个对象之间互相调用接口，如果一个对象接口改变，那就所有的代码都会变，我们如果使用第二张图片那样，只需要改变中介着的那个接口就可以了。
<img src="/note/assets/img/zhongjiezhe.13954706.png" alt="在这里插入图片描述"></p> <h3 id="示例-买房中介着"><a href="#示例-买房中介着" class="header-anchor">#</a> 示例 买房中介着</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 中介者</span>
<span class="token keyword">class</span> <span class="token class-name">Mediator</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> a
    <span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> b
  <span class="token punctuation">}</span>
  <span class="token function">setA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span>number
    <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span>number <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">setB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">.</span>number
    <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span>number <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> num
    <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      m<span class="token punctuation">.</span><span class="token function">setB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> m</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>number <span class="token operator">=</span> num
    <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      m<span class="token punctuation">.</span><span class="token function">setA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mediator</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
a<span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>number<span class="token punctuation">,</span> b<span class="token punctuation">.</span>number<span class="token punctuation">)</span>
b<span class="token punctuation">.</span><span class="token function">setNumber</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>number<span class="token punctuation">,</span> b<span class="token punctuation">.</span>number<span class="token punctuation">)</span>
</code></pre></div><h3 id="设计原则验证-6"><a href="#设计原则验证-6" class="header-anchor">#</a> 设计原则验证</h3> <ol><li>将各个关联对象通过中介着隔离</li> <li>符合开放封闭原则</li></ol> <ul><li>访问者模式</li></ul> <h3 id="概念-8"><a href="#概念-8" class="header-anchor">#</a> 概念</h3> <ol><li>将数据操作和数据结构进行分离</li></ol> <ul><li>解释器模式</li></ul> <h3 id="概念-9"><a href="#概念-9" class="header-anchor">#</a> 概念</h3> <ol><li>描述语言语法如何定义，如何解释和编译</li></ol> <section style="border-top:2px solid #eaecef;padding-top:1rem;margin-top:2rem;"><div><span data-flag-title="Your Article Title" class="leancloud-visitors"><em class="post-meta-item-text">阅读量： </em> <i class="leancloud-visitors-count"></i></span></div> <h3><a href="javascript:;"></a>
    评 论：
  </h3> <div id="vcomments"></div></section></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新:</span> <span class="time">11/21/2020, 7:00:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/note/js-patterns/状态模式.html" class="prev">
        状态模式
      </a></span> <span class="next"><a href="/note/js-patterns/综合应用.html">
        综合应用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/note/assets/js/app.45ce0796.js" defer></script><script src="/note/assets/js/3.97d6d69f.js" defer></script><script src="/note/assets/js/61.e305dc2a.js" defer></script><script src="/note/assets/js/73.4618837d.js" defer></script>
  </body>
</html>
